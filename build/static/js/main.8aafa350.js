/*! For license information please see main.8aafa350.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,a)=>{e.exports=a(202)},153:(e,t,a)=>{var n=a(43),r=Symbol.for("react.element"),l=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,a){var n,l={},c=null,d=null;for(n in void 0!==a&&(c=""+a),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,n)&&!o.hasOwnProperty(n)&&(l[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===l[n]&&(l[n]=t[n]);return{$$typeof:r,type:e,key:c,ref:d,props:l,_owner:i.current}}t.Fragment=l,t.jsx=c,t.jsxs=c},202:(e,t)=>{var a=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,v={};function x(e,t,a){this.props=e,this.context=t,this.refs=v,this.updater=a||f}function g(){}function b(e,t,a){this.props=e,this.context=t,this.refs=v,this.updater=a||f}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=x.prototype;var y=b.prototype=new g;y.constructor=b,p(y,x.prototype),y.isPureReactComponent=!0;var j=Array.isArray,N=Object.prototype.hasOwnProperty,_={current:null},w={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,l={},s=null,i=null;if(null!=t)for(r in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(s=""+t.key),t)N.call(t,r)&&!w.hasOwnProperty(r)&&(l[r]=t[r]);var o=arguments.length-2;if(1===o)l.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];l.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===l[r]&&(l[r]=o[r]);return{$$typeof:a,type:e,key:s,ref:i,props:l,_owner:_.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var P=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,r,l,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case a:case n:o=!0}}if(o)return s=s(o=e),e=""===l?"."+T(o,0):l,j(s)?(r="",null!=e&&(r=e.replace(P,"$&/")+"/"),E(s,t,r,"",function(e){return e})):null!=s&&(k(s)&&(s=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(P,"$&/")+"/")+e)),t.push(s)),1;if(o=0,l=""===l?".":l+":",j(e))for(var c=0;c<e.length;c++){var d=l+T(i=e[c],c);o+=E(i,t,r,d,s)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)o+=E(i=i.value,t,r,d=l+T(i,c++),s);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function A(e,t,a){if(null==e)return e;var n=[],r=0;return E(e,n,"","",function(e){return t.call(a,e,r++)}),n}function C(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},O={transition:null},L={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:O,ReactCurrentOwner:_};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,a){A(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=r,t.Profiler=s,t.PureComponent=b,t.StrictMode=l,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=p({},e.props),l=e.key,s=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,i=_.current),void 0!==t.key&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)N.call(t,c)&&!w.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:a,type:e.type,key:l,ref:s,props:r,_owner:i}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,a){return M.current.useImperativeHandle(e,t,a)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,a){return M.current.useReducer(e,t,a)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,a){return M.current.useSyncExternalStore(e,t,a)},t.useTransition=function(){return M.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function a(e,t){var a=e.length;e.push(t);e:for(;0<a;){var n=a-1>>>1,r=e[n];if(!(0<l(r,t)))break e;e[n]=t,e[a]=r,a=n}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],a=e.pop();if(a!==t){e[0]=a;e:for(var n=0,r=e.length,s=r>>>1;n<s;){var i=2*(n+1)-1,o=e[i],c=i+1,d=e[c];if(0>l(o,a))c<r&&0>l(d,o)?(e[n]=d,e[c]=a,n=c):(e[n]=o,e[i]=a,n=i);else{if(!(c<r&&0>l(d,a)))break e;e[n]=d,e[c]=a,n=c}}}return t}function l(e,t){var a=e.sortIndex-t.sortIndex;return 0!==a?a:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,m=null,h=3,f=!1,p=!1,v=!1,x="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=n(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,a(c,t)}t=n(d)}}function j(e){if(v=!1,y(e),!p)if(null!==n(c))p=!0,O(N);else{var t=n(d);null!==t&&L(j,t.startTime-e)}}function N(e,a){p=!1,v&&(v=!1,g(k),k=-1),f=!0;var l=h;try{for(y(a),m=n(c);null!==m&&(!(m.expirationTime>a)||e&&!E());){var s=m.callback;if("function"===typeof s){m.callback=null,h=m.priorityLevel;var i=s(m.expirationTime<=a);a=t.unstable_now(),"function"===typeof i?m.callback=i:m===n(c)&&r(c),y(a)}else r(c);m=n(c)}if(null!==m)var o=!0;else{var u=n(d);null!==u&&L(j,u.startTime-a),o=!1}return o}finally{m=null,h=l,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,w=!1,S=null,k=-1,P=5,T=-1;function E(){return!(t.unstable_now()-T<P)}function A(){if(null!==S){var e=t.unstable_now();T=e;var a=!0;try{a=S(!0,e)}finally{a?_():(w=!1,S=null)}}else w=!1}if("function"===typeof b)_=function(){b(A)};else if("undefined"!==typeof MessageChannel){var C=new MessageChannel,M=C.port2;C.port1.onmessage=A,_=function(){M.postMessage(null)}}else _=function(){x(A,0)};function O(e){S=e,w||(w=!0,_())}function L(e,a){k=x(function(){e(t.unstable_now())},a)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,O(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var a=h;h=t;try{return e()}finally{h=a}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=h;h=e;try{return t()}finally{h=a}},t.unstable_scheduleCallback=function(e,r,l){var s=t.unstable_now();switch("object"===typeof l&&null!==l?l="number"===typeof(l=l.delay)&&0<l?s+l:s:l=s,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:l,expirationTime:i=l+i,sortIndex:-1},l>s?(e.sortIndex=l,a(d,e),null===n(c)&&e===n(d)&&(v?(g(k),k=-1):v=!0,L(j,l-s))):(e.sortIndex=i,a(c,e),p||f||(p=!0,O(N))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=h;return function(){var a=h;h=t;try{return e.apply(this,arguments)}finally{h=a}}}},391:(e,t,a)=>{var n=a(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},579:(e,t,a)=>{e.exports=a(153)},730:(e,t,a)=>{var n=a(43),r=a(853);function l(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function p(e,t,a,n,r,l,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=a,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=s}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,a,n){var r=v.hasOwnProperty(t)?v[t]:null;(null!==r?0!==r.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,a,n){if(null===t||"undefined"===typeof t||function(e,t,a,n){if(null!==a&&0===a.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==a?!a.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,a,n))return!0;if(n)return!1;if(null!==a)switch(a.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,a,r,n)&&(a=null),n||null===r?function(e){return!!u.call(f,e)||!u.call(h,e)&&(m.test(e)?f[e]=!0:(h[e]=!0,!1))}(t)&&(null===a?e.removeAttribute(t):e.setAttribute(t,""+a)):r.mustUseProperty?e[r.propertyName]=null===a?3!==r.type&&"":a:(t=r.attributeName,n=r.attributeNamespace,null===a?e.removeAttribute(t):(a=3===(r=r.type)||4===r&&!0===a?"":""+a,n?e.setAttributeNS(n,t,a):e.setAttribute(t,a))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x,g);v[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x,g);v[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x,g);v[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),N=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),P=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var I,D=Object.assign;function F(e){if(void 0===I)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var z=!1;function U(e,t){if(!e||z)return"";z=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),l=n.stack.split("\n"),s=r.length-1,i=l.length-1;1<=s&&0<=i&&r[s]!==l[i];)i--;for(;1<=s&&0<=i;s--,i--)if(r[s]!==l[i]){if(1!==s||1!==i)do{if(s--,0>--i||r[s]!==l[i]){var o="\n"+r[s].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=s&&0<=i);break}}}finally{z=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?F(e):""}function H(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case N:return"Portal";case S:return"Profiler";case w:return"StrictMode";case E:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return B(e(t))}catch(a){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof a&&"function"===typeof a.get&&"function"===typeof a.set){var r=a.get,l=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){n=""+e,l.call(this,e)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Y(e)?e.checked?"true":"false":e.value),(e=n)!==a&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var a=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=a?a:e._wrapperState.initialChecked})}function K(e,t){var a=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;a=q(null!=t.value?t.value:a),e._wrapperState={initialChecked:n,initialValue:a,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var a=q(t.value),n=t.type;if(null!=a)"number"===n?(0===a&&""===e.value||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,a):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,a){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,a||t===e.value||(e.value=t),e.defaultValue=t}""!==(a=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==a&&(e.name=a)}function ee(e,t,a){"number"===t&&Q(e.ownerDocument)===e||(null==a?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var te=Array.isArray;function ae(e,t,a,n){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&n&&(e[a].defaultSelected=!0)}else{for(a=""+q(a),t=null,r=0;r<e.length;r++){if(e[r].value===a)return e[r].selected=!0,void(n&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(l(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var a=t.value;if(null==a){if(a=t.children,t=t.defaultValue,null!=a){if(null!=t)throw Error(l(92));if(te(a)){if(1<a.length)throw Error(l(93));a=a[0]}t=a}null==t&&(t=""),a=t}e._wrapperState={initialValue:q(a)}}function le(e,t){var a=q(t.value),n=q(t.defaultValue);null!=a&&((a=""+a)!==e.value&&(e.value=a),null==t.defaultValue&&e.defaultValue!==a&&(e.defaultValue=a)),null!=n&&(e.defaultValue=""+n)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,a,n){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function me(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&3===a.nodeType)return void(a.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,a){return null==t||"boolean"===typeof t||""===t?"":a||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ve(e,t){for(var a in e=e.style,t)if(t.hasOwnProperty(a)){var n=0===a.indexOf("--"),r=pe(a,t[a],n);"float"===a&&(a="cssFloat"),n?e.setProperty(a,r):e[a]=r}}Object.keys(he).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var xe=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(l(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(l(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(l(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(l(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,_e=null,we=null;function Se(e){if(e=br(e)){if("function"!==typeof Ne)throw Error(l(280));var t=e.stateNode;t&&(t=jr(t),Ne(e.stateNode,e.type,t))}}function ke(e){_e?we?we.push(e):we=[e]:_e=e}function Pe(){if(_e){var e=_e,t=we;if(we=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function Ee(){}var Ae=!1;function Ce(e,t,a){if(Ae)return e(t,a);Ae=!0;try{return Te(e,t,a)}finally{Ae=!1,(null!==_e||null!==we)&&(Ee(),Pe())}}function Me(e,t){var a=e.stateNode;if(null===a)return null;var n=jr(a);if(null===n)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(a&&"function"!==typeof a)throw Error(l(231,t,typeof a));return a}var Oe=!1;if(d)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(de){Oe=!1}function Re(e,t,a,n,r,l,s,i,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(a,c)}catch(d){this.onError(d)}}var Ie=!1,De=null,Fe=!1,ze=null,Ue={onError:function(e){Ie=!0,De=e}};function He(e,t,a,n,r,l,s,i,o){Ie=!1,De=null,Re.apply(Ue,arguments)}function Be(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(a=t.return),e=t.return}while(e)}return 3===t.tag?a:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(l(188))}function Ye(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(l(188));return t!==e?null:e}for(var a=e,n=t;;){var r=a.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(n=r.return)){a=n;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===a)return qe(r),e;if(s===n)return qe(r),t;s=s.sibling}throw Error(l(188))}if(a.return!==n.return)a=r,n=s;else{for(var i=!1,o=r.child;o;){if(o===a){i=!0,a=r,n=s;break}if(o===n){i=!0,n=r,a=s;break}o=o.sibling}if(!i){for(o=s.child;o;){if(o===a){i=!0,a=s,n=r;break}if(o===n){i=!0,n=s,a=r;break}o=o.sibling}if(!i)throw Error(l(189))}}if(a.alternate!==n)throw Error(l(190))}if(3!==a.tag)throw Error(l(188));return a.stateNode.current===a?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var $e=r.unstable_scheduleCallback,Qe=r.unstable_cancelCallback,Ge=r.unstable_shouldYield,Ke=r.unstable_requestPaint,Je=r.unstable_now,Xe=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,at=r.unstable_LowPriority,nt=r.unstable_IdlePriority,rt=null,lt=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/ot|0)|0},it=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var a=e.pendingLanes;if(0===a)return 0;var n=0,r=e.suspendedLanes,l=e.pingedLanes,s=268435455&a;if(0!==s){var i=s&~r;0!==i?n=ut(i):0!==(l&=s)&&(n=ut(l))}else 0!==(s=a&~r)?n=ut(s):0!==l&&(n=ut(l));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&r)&&((r=n&-n)>=(l=t&-t)||16===r&&0!==(4194240&l)))return t;if(0!==(4&n)&&(n|=16&a),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)r=1<<(a=31-st(t)),n|=e[a],t&=~r;return n}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function xt(e,t,a){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=a}function gt(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-st(a),r=1<<n;r&t|e[n]&t&&(e[n]|=t),a&=~r}}var bt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,Nt,_t,wt,St,kt=!1,Pt=[],Tt=null,Et=null,At=null,Ct=new Map,Mt=new Map,Ot=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function It(e,t,a,n,r,l){return null===e||e.nativeEvent!==l?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:l,targetContainers:[r]},null!==t&&(null!==(t=br(t))&&Nt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Dt(e){var t=gr(e.target);if(null!==t){var a=Be(t);if(null!==a)if(13===(t=a.tag)){if(null!==(t=Ve(a)))return e.blockedOn=t,void St(e.priority,function(){_t(a)})}else if(3===t&&a.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===a.tag?a.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var a=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==a)return null!==(t=br(a))&&Nt(t),e.blockedOn=a,!1;var n=new(a=e.nativeEvent).constructor(a.type,a);ye=n,a.target.dispatchEvent(n),ye=null,t.shift()}return!0}function zt(e,t,a){Ft(e)&&a.delete(t)}function Ut(){kt=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Et&&Ft(Et)&&(Et=null),null!==At&&Ft(At)&&(At=null),Ct.forEach(zt),Mt.forEach(zt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return Ht(t,e)}if(0<Pt.length){Ht(Pt[0],e);for(var a=1;a<Pt.length;a++){var n=Pt[a];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Tt&&Ht(Tt,e),null!==Et&&Ht(Et,e),null!==At&&Ht(At,e),Ct.forEach(t),Mt.forEach(t),a=0;a<Ot.length;a++)(n=Ot[a]).blockedOn===e&&(n.blockedOn=null);for(;0<Ot.length&&null===(a=Ot[0]).blockedOn;)Dt(a),null===a.blockedOn&&Ot.shift()}var Vt=y.ReactCurrentBatchConfig,qt=!0;function Yt(e,t,a,n){var r=bt,l=Vt.transition;Vt.transition=null;try{bt=1,$t(e,t,a,n)}finally{bt=r,Vt.transition=l}}function Wt(e,t,a,n){var r=bt,l=Vt.transition;Vt.transition=null;try{bt=4,$t(e,t,a,n)}finally{bt=r,Vt.transition=l}}function $t(e,t,a,n){if(qt){var r=Gt(e,t,a,n);if(null===r)qn(e,t,n,Qt,a),Rt(e,n);else if(function(e,t,a,n,r){switch(t){case"focusin":return Tt=It(Tt,e,t,a,n,r),!0;case"dragenter":return Et=It(Et,e,t,a,n,r),!0;case"mouseover":return At=It(At,e,t,a,n,r),!0;case"pointerover":var l=r.pointerId;return Ct.set(l,It(Ct.get(l)||null,e,t,a,n,r)),!0;case"gotpointercapture":return l=r.pointerId,Mt.set(l,It(Mt.get(l)||null,e,t,a,n,r)),!0}return!1}(r,e,t,a,n))n.stopPropagation();else if(Rt(e,n),4&t&&-1<Lt.indexOf(e)){for(;null!==r;){var l=br(r);if(null!==l&&jt(l),null===(l=Gt(e,t,a,n))&&qn(e,t,n,Qt,a),l===r)break;r=l}null!==r&&n.stopPropagation()}else qn(e,t,n,null,a)}}var Qt=null;function Gt(e,t,a,n){if(Qt=null,null!==(e=gr(e=je(n))))if(null===(t=Be(e)))e=null;else if(13===(a=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===a){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case at:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function ea(){if(Zt)return Zt;var e,t,a=Xt,n=a.length,r="value"in Jt?Jt.value:Jt.textContent,l=r.length;for(e=0;e<n&&a[e]===r[e];e++);var s=n-e;for(t=1;t<=s&&a[n-t]===r[l-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function ta(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function aa(){return!0}function na(){return!1}function ra(e){function t(t,a,n,r,l){for(var s in this._reactName=t,this._targetInst=n,this.type=a,this.nativeEvent=r,this.target=l,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?aa:na,this.isPropagationStopped=na,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=aa)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=aa)},persist:function(){},isPersistent:aa}),t}var la,sa,ia,oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=ra(oa),da=D({},oa,{view:0,detail:0}),ua=ra(da),ma=D({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wa,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ia&&(ia&&"mousemove"===e.type?(la=e.screenX-ia.screenX,sa=e.screenY-ia.screenY):sa=la=0,ia=e),la)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),ha=ra(ma),fa=ra(D({},ma,{dataTransfer:0})),pa=ra(D({},da,{relatedTarget:0})),va=ra(D({},oa,{animationName:0,elapsedTime:0,pseudoElement:0})),xa=D({},oa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ga=ra(xa),ba=ra(D({},oa,{data:0})),ya={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ja={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Na={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _a(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Na[e])&&!!t[e]}function wa(){return _a}var Sa=D({},da,{key:function(e){if(e.key){var t=ya[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ta(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ja[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wa,charCode:function(e){return"keypress"===e.type?ta(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ta(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ka=ra(Sa),Pa=ra(D({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ta=ra(D({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wa})),Ea=ra(D({},oa,{propertyName:0,elapsedTime:0,pseudoElement:0})),Aa=D({},ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ca=ra(Aa),Ma=[9,13,27,32],Oa=d&&"CompositionEvent"in window,La=null;d&&"documentMode"in document&&(La=document.documentMode);var Ra=d&&"TextEvent"in window&&!La,Ia=d&&(!Oa||La&&8<La&&11>=La),Da=String.fromCharCode(32),Fa=!1;function za(e,t){switch(e){case"keyup":return-1!==Ma.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ua(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ha=!1;var Ba={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Va(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ba[e.type]:"textarea"===t}function qa(e,t,a,n){ke(n),0<(t=Wn(t,"onChange")).length&&(a=new ca("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Ya=null,Wa=null;function $a(e){Fn(e,0)}function Qa(e){if($(yr(e)))return e}function Ga(e,t){if("change"===e)return t}var Ka=!1;if(d){var Ja;if(d){var Xa="oninput"in document;if(!Xa){var Za=document.createElement("div");Za.setAttribute("oninput","return;"),Xa="function"===typeof Za.oninput}Ja=Xa}else Ja=!1;Ka=Ja&&(!document.documentMode||9<document.documentMode)}function en(){Ya&&(Ya.detachEvent("onpropertychange",tn),Wa=Ya=null)}function tn(e){if("value"===e.propertyName&&Qa(Wa)){var t=[];qa(t,Wa,e,je(e)),Ce($a,t)}}function an(e,t,a){"focusin"===e?(en(),Wa=a,(Ya=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qa(Wa)}function rn(e,t){if("click"===e)return Qa(t)}function ln(e,t){if("input"===e||"change"===e)return Qa(t)}var sn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function on(e,t){if(sn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var r=a[n];if(!u.call(t,r)||!sn(e[r],t[r]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var a,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mn(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var a="string"===typeof t.contentWindow.location.href}catch(n){a=!1}if(!a)break;t=Q((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fn(e){var t=mn(),a=e.focusedElem,n=e.selectionRange;if(t!==a&&a&&a.ownerDocument&&un(a.ownerDocument.documentElement,a)){if(null!==n&&hn(a))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(e,a.value.length);else if((e=(t=a.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=a.textContent.length,l=Math.min(n.start,r);n=void 0===n.end?l:Math.min(n.end,r),!e.extend&&l>n&&(r=n,n=l,l=r),r=dn(a,l);var s=dn(a,n);r&&s&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),l>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=a;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<t.length;a++)(e=t[a]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pn=d&&"documentMode"in document&&11>=document.documentMode,vn=null,xn=null,gn=null,bn=!1;function yn(e,t,a){var n=a.window===a?a.document:9===a.nodeType?a:a.ownerDocument;bn||null==vn||vn!==Q(n)||("selectionStart"in(n=vn)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},gn&&on(gn,n)||(gn=n,0<(n=Wn(xn,"onSelect")).length&&(t=new ca("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=vn)))}function jn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Nn={animationend:jn("Animation","AnimationEnd"),animationiteration:jn("Animation","AnimationIteration"),animationstart:jn("Animation","AnimationStart"),transitionend:jn("Transition","TransitionEnd")},_n={},wn={};function Sn(e){if(_n[e])return _n[e];if(!Nn[e])return e;var t,a=Nn[e];for(t in a)if(a.hasOwnProperty(t)&&t in wn)return _n[e]=a[t];return e}d&&(wn=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);var kn=Sn("animationend"),Pn=Sn("animationiteration"),Tn=Sn("animationstart"),En=Sn("transitionend"),An=new Map,Cn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(e,t){An.set(e,t),o(t,[e])}for(var On=0;On<Cn.length;On++){var Ln=Cn[On];Mn(Ln.toLowerCase(),"on"+(Ln[0].toUpperCase()+Ln.slice(1)))}Mn(kn,"onAnimationEnd"),Mn(Pn,"onAnimationIteration"),Mn(Tn,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(En,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),In=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rn));function Dn(e,t,a){var n=e.type||"unknown-event";e.currentTarget=a,function(e,t,a,n,r,s,i,o,c){if(He.apply(this,arguments),Ie){if(!Ie)throw Error(l(198));var d=De;Ie=!1,De=null,Fe||(Fe=!0,ze=d)}}(n,t,void 0,e),e.currentTarget=null}function Fn(e,t){t=0!==(4&t);for(var a=0;a<e.length;a++){var n=e[a],r=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var s=n.length-1;0<=s;s--){var i=n[s],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==l&&r.isPropagationStopped())break e;Dn(r,i,c),l=o}else for(s=0;s<n.length;s++){if(o=(i=n[s]).instance,c=i.currentTarget,i=i.listener,o!==l&&r.isPropagationStopped())break e;Dn(r,i,c),l=o}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zn(e,t){var a=t[pr];void 0===a&&(a=t[pr]=new Set);var n=e+"__bubble";a.has(n)||(Vn(t,e,2,!1),a.add(n))}function Un(e,t,a){var n=0;t&&(n|=4),Vn(a,e,n,t)}var Hn="_reactListening"+Math.random().toString(36).slice(2);function Bn(e){if(!e[Hn]){e[Hn]=!0,s.forEach(function(t){"selectionchange"!==t&&(In.has(t)||Un(t,!1,e),Un(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hn]||(t[Hn]=!0,Un("selectionchange",!1,t))}}function Vn(e,t,a,n){switch(Kt(t)){case 1:var r=Yt;break;case 4:r=Wt;break;default:r=$t}a=r.bind(null,t,a,e),r=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),n?void 0!==r?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):void 0!==r?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function qn(e,t,a,n,r){var l=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var i=n.stateNode.containerInfo;if(i===r||8===i.nodeType&&i.parentNode===r)break;if(4===s)for(s=n.return;null!==s;){var o=s.tag;if((3===o||4===o)&&((o=s.stateNode.containerInfo)===r||8===o.nodeType&&o.parentNode===r))return;s=s.return}for(;null!==i;){if(null===(s=gr(i)))return;if(5===(o=s.tag)||6===o){n=l=s;continue e}i=i.parentNode}}n=n.return}Ce(function(){var n=l,r=je(a),s=[];e:{var i=An.get(e);if(void 0!==i){var o=ca,c=e;switch(e){case"keypress":if(0===ta(a))break e;case"keydown":case"keyup":o=ka;break;case"focusin":c="focus",o=pa;break;case"focusout":c="blur",o=pa;break;case"beforeblur":case"afterblur":o=pa;break;case"click":if(2===a.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=fa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Ta;break;case kn:case Pn:case Tn:o=va;break;case En:o=Ea;break;case"scroll":o=ua;break;case"wheel":o=Ca;break;case"copy":case"cut":case"paste":o=ga;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Pa}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==i?i+"Capture":null:i;d=[];for(var h,f=n;null!==f;){var p=(h=f).stateNode;if(5===h.tag&&null!==p&&(h=p,null!==m&&(null!=(p=Me(f,m))&&d.push(Yn(f,p,h)))),u)break;f=f.return}0<d.length&&(i=new o(i,c,null,a,r),s.push({event:i,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||a===ye||!(c=a.relatedTarget||a.fromElement)||!gr(c)&&!c[fr])&&(o||i)&&(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=n,null!==(c=(c=a.relatedTarget||a.toElement)?gr(c):null)&&(c!==(u=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=n),o!==c)){if(d=ha,p="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=Pa,p="onPointerLeave",m="onPointerEnter",f="pointer"),u=null==o?i:yr(o),h=null==c?i:yr(c),(i=new d(p,f+"leave",o,a,r)).target=u,i.relatedTarget=h,p=null,gr(r)===n&&((d=new d(m,f+"enter",c,a,r)).target=h,d.relatedTarget=u,p=d),u=p,o&&c)e:{for(m=c,f=0,h=d=o;h;h=$n(h))f++;for(h=0,p=m;p;p=$n(p))h++;for(;0<f-h;)d=$n(d),f--;for(;0<h-f;)m=$n(m),h--;for(;f--;){if(d===m||null!==m&&d===m.alternate)break e;d=$n(d),m=$n(m)}d=null}else d=null;null!==o&&Qn(s,i,o,d,!1),null!==c&&null!==u&&Qn(s,u,c,d,!0)}if("select"===(o=(i=n?yr(n):window).nodeName&&i.nodeName.toLowerCase())||"input"===o&&"file"===i.type)var v=Ga;else if(Va(i))if(Ka)v=ln;else{v=nn;var x=an}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(v=rn);switch(v&&(v=v(e,n))?qa(s,v,a,r):(x&&x(e,i,n),"focusout"===e&&(x=i._wrapperState)&&x.controlled&&"number"===i.type&&ee(i,"number",i.value)),x=n?yr(n):window,e){case"focusin":(Va(x)||"true"===x.contentEditable)&&(vn=x,xn=n,gn=null);break;case"focusout":gn=xn=vn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,yn(s,a,r);break;case"selectionchange":if(pn)break;case"keydown":case"keyup":yn(s,a,r)}var g;if(Oa)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ha?za(e,a)&&(b="onCompositionEnd"):"keydown"===e&&229===a.keyCode&&(b="onCompositionStart");b&&(Ia&&"ko"!==a.locale&&(Ha||"onCompositionStart"!==b?"onCompositionEnd"===b&&Ha&&(g=ea()):(Xt="value"in(Jt=r)?Jt.value:Jt.textContent,Ha=!0)),0<(x=Wn(n,b)).length&&(b=new ba(b,e,null,a,r),s.push({event:b,listeners:x}),g?b.data=g:null!==(g=Ua(a))&&(b.data=g))),(g=Ra?function(e,t){switch(e){case"compositionend":return Ua(t);case"keypress":return 32!==t.which?null:(Fa=!0,Da);case"textInput":return(e=t.data)===Da&&Fa?null:e;default:return null}}(e,a):function(e,t){if(Ha)return"compositionend"===e||!Oa&&za(e,t)?(e=ea(),Zt=Xt=Jt=null,Ha=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ia&&"ko"!==t.locale?null:t.data}}(e,a))&&(0<(n=Wn(n,"onBeforeInput")).length&&(r=new ba("onBeforeInput","beforeinput",null,a,r),s.push({event:r,listeners:n}),r.data=g))}Fn(s,t)})}function Yn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Wn(e,t){for(var a=t+"Capture",n=[];null!==e;){var r=e,l=r.stateNode;5===r.tag&&null!==l&&(r=l,null!=(l=Me(e,a))&&n.unshift(Yn(e,l,r)),null!=(l=Me(e,t))&&n.push(Yn(e,l,r))),e=e.return}return n}function $n(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qn(e,t,a,n,r){for(var l=t._reactName,s=[];null!==a&&a!==n;){var i=a,o=i.alternate,c=i.stateNode;if(null!==o&&o===n)break;5===i.tag&&null!==c&&(i=c,r?null!=(o=Me(a,l))&&s.unshift(Yn(a,o,i)):r||null!=(o=Me(a,l))&&s.push(Yn(a,o,i))),a=a.return}0!==s.length&&e.push({event:t,listeners:s})}var Gn=/\r\n?/g,Kn=/\u0000|\uFFFD/g;function Jn(e){return("string"===typeof e?e:""+e).replace(Gn,"\n").replace(Kn,"")}function Xn(e,t,a){if(t=Jn(t),Jn(e)!==t&&a)throw Error(l(425))}function Zn(){}var er=null,tr=null;function ar(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var nr="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,lr="function"===typeof Promise?Promise:void 0,sr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof lr?function(e){return lr.resolve(null).then(e).catch(ir)}:nr;function ir(e){setTimeout(function(){throw e})}function or(e,t){var a=t,n=0;do{var r=a.nextSibling;if(e.removeChild(a),r&&8===r.nodeType)if("/$"===(a=r.data)){if(0===n)return e.removeChild(r),void Bt(t);n--}else"$"!==a&&"$?"!==a&&"$!"!==a||n++;a=r}while(a);Bt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var a=e.data;if("$"===a||"$!"===a||"$?"===a){if(0===t)return e;t--}else"/$"===a&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),mr="__reactFiber$"+ur,hr="__reactProps$"+ur,fr="__reactContainer$"+ur,pr="__reactEvents$"+ur,vr="__reactListeners$"+ur,xr="__reactHandles$"+ur;function gr(e){var t=e[mr];if(t)return t;for(var a=e.parentNode;a;){if(t=a[fr]||a[mr]){if(a=t.alternate,null!==t.child||null!==a&&null!==a.child)for(e=dr(e);null!==e;){if(a=e[mr])return a;e=dr(e)}return t}a=(e=a).parentNode}return null}function br(e){return!(e=e[mr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(l(33))}function jr(e){return e[hr]||null}var Nr=[],_r=-1;function wr(e){return{current:e}}function Sr(e){0>_r||(e.current=Nr[_r],Nr[_r]=null,_r--)}function kr(e,t){_r++,Nr[_r]=e.current,e.current=t}var Pr={},Tr=wr(Pr),Er=wr(!1),Ar=Pr;function Cr(e,t){var a=e.type.contextTypes;if(!a)return Pr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var r,l={};for(r in a)l[r]=t[r];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Mr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Or(){Sr(Er),Sr(Tr)}function Lr(e,t,a){if(Tr.current!==Pr)throw Error(l(168));kr(Tr,t),kr(Er,a)}function Rr(e,t,a){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return a;for(var r in n=n.getChildContext())if(!(r in t))throw Error(l(108,V(e)||"Unknown",r));return D({},a,n)}function Ir(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pr,Ar=Tr.current,kr(Tr,e),kr(Er,Er.current),!0}function Dr(e,t,a){var n=e.stateNode;if(!n)throw Error(l(169));a?(e=Rr(e,t,Ar),n.__reactInternalMemoizedMergedChildContext=e,Sr(Er),Sr(Tr),kr(Tr,e)):Sr(Er),kr(Er,a)}var Fr=null,zr=!1,Ur=!1;function Hr(e){null===Fr?Fr=[e]:Fr.push(e)}function Br(){if(!Ur&&null!==Fr){Ur=!0;var e=0,t=bt;try{var a=Fr;for(bt=1;e<a.length;e++){var n=a[e];do{n=n(!0)}while(null!==n)}Fr=null,zr=!1}catch(r){throw null!==Fr&&(Fr=Fr.slice(e+1)),$e(Ze,Br),r}finally{bt=t,Ur=!1}}return null}var Vr=[],qr=0,Yr=null,Wr=0,$r=[],Qr=0,Gr=null,Kr=1,Jr="";function Xr(e,t){Vr[qr++]=Wr,Vr[qr++]=Yr,Yr=e,Wr=t}function Zr(e,t,a){$r[Qr++]=Kr,$r[Qr++]=Jr,$r[Qr++]=Gr,Gr=e;var n=Kr;e=Jr;var r=32-st(n)-1;n&=~(1<<r),a+=1;var l=32-st(t)+r;if(30<l){var s=r-r%5;l=(n&(1<<s)-1).toString(32),n>>=s,r-=s,Kr=1<<32-st(t)+r|a<<r|n,Jr=l+e}else Kr=1<<l|a<<r|n,Jr=e}function el(e){null!==e.return&&(Xr(e,1),Zr(e,1,0))}function tl(e){for(;e===Yr;)Yr=Vr[--qr],Vr[qr]=null,Wr=Vr[--qr],Vr[qr]=null;for(;e===Gr;)Gr=$r[--Qr],$r[Qr]=null,Jr=$r[--Qr],$r[Qr]=null,Kr=$r[--Qr],$r[Qr]=null}var al=null,nl=null,rl=!1,ll=null;function sl(e,t){var a=Cc(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=e,null===(t=e.deletions)?(e.deletions=[a],e.flags|=16):t.push(a)}function il(e,t){switch(e.tag){case 5:var a=e.type;return null!==(t=1!==t.nodeType||a.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,al=e,nl=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,al=e,nl=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(a=null!==Gr?{id:Kr,overflow:Jr}:null,e.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},(a=Cc(18,null,null,0)).stateNode=t,a.return=e,e.child=a,al=e,nl=null,!0);default:return!1}}function ol(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cl(e){if(rl){var t=nl;if(t){var a=t;if(!il(e,t)){if(ol(e))throw Error(l(418));t=cr(a.nextSibling);var n=al;t&&il(e,t)?sl(n,a):(e.flags=-4097&e.flags|2,rl=!1,al=e)}}else{if(ol(e))throw Error(l(418));e.flags=-4097&e.flags|2,rl=!1,al=e}}}function dl(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;al=e}function ul(e){if(e!==al)return!1;if(!rl)return dl(e),rl=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ar(e.type,e.memoizedProps)),t&&(t=nl)){if(ol(e))throw ml(),Error(l(418));for(;t;)sl(e,t),t=cr(t.nextSibling)}if(dl(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var a=e.data;if("/$"===a){if(0===t){nl=cr(e.nextSibling);break e}t--}else"$"!==a&&"$!"!==a&&"$?"!==a||t++}e=e.nextSibling}nl=null}}else nl=al?cr(e.stateNode.nextSibling):null;return!0}function ml(){for(var e=nl;e;)e=cr(e.nextSibling)}function hl(){nl=al=null,rl=!1}function fl(e){null===ll?ll=[e]:ll.push(e)}var pl=y.ReactCurrentBatchConfig;function vl(e,t,a){if(null!==(e=a.ref)&&"function"!==typeof e&&"object"!==typeof e){if(a._owner){if(a=a._owner){if(1!==a.tag)throw Error(l(309));var n=a.stateNode}if(!n)throw Error(l(147,e));var r=n,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=r.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(l(284));if(!a._owner)throw Error(l(290,e))}return e}function xl(e,t){throw e=Object.prototype.toString.call(t),Error(l(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gl(e){return(0,e._init)(e._payload)}function bl(e){function t(t,a){if(e){var n=t.deletions;null===n?(t.deletions=[a],t.flags|=16):n.push(a)}}function a(a,n){if(!e)return null;for(;null!==n;)t(a,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function s(t,a,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<a?(t.flags|=2,a):n:(t.flags|=2,a):(t.flags|=1048576,a)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,a,n){return null===t||6!==t.tag?((t=Dc(a,e.mode,n)).return=e,t):((t=r(t,a)).return=e,t)}function c(e,t,a,n){var l=a.type;return l===_?u(e,t,a.props.children,n,a.key):null!==t&&(t.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===M&&gl(l)===t.type)?((n=r(t,a.props)).ref=vl(e,t,a),n.return=e,n):((n=Lc(a.type,a.key,a.props,null,e.mode,n)).ref=vl(e,t,a),n.return=e,n)}function d(e,t,a,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==a.containerInfo||t.stateNode.implementation!==a.implementation?((t=Fc(a,e.mode,n)).return=e,t):((t=r(t,a.children||[])).return=e,t)}function u(e,t,a,n,l){return null===t||7!==t.tag?((t=Rc(a,e.mode,n,l)).return=e,t):((t=r(t,a)).return=e,t)}function m(e,t,a){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,a)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(a=Lc(t.type,t.key,t.props,null,e.mode,a)).ref=vl(e,null,t),a.return=e,a;case N:return(t=Fc(t,e.mode,a)).return=e,t;case M:return m(e,(0,t._init)(t._payload),a)}if(te(t)||R(t))return(t=Rc(t,e.mode,a,null)).return=e,t;xl(e,t)}return null}function h(e,t,a,n){var r=null!==t?t.key:null;if("string"===typeof a&&""!==a||"number"===typeof a)return null!==r?null:o(e,t,""+a,n);if("object"===typeof a&&null!==a){switch(a.$$typeof){case j:return a.key===r?c(e,t,a,n):null;case N:return a.key===r?d(e,t,a,n):null;case M:return h(e,t,(r=a._init)(a._payload),n)}if(te(a)||R(a))return null!==r?null:u(e,t,a,n,null);xl(e,a)}return null}function f(e,t,a,n,r){if("string"===typeof n&&""!==n||"number"===typeof n)return o(t,e=e.get(a)||null,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return c(t,e=e.get(null===n.key?a:n.key)||null,n,r);case N:return d(t,e=e.get(null===n.key?a:n.key)||null,n,r);case M:return f(e,t,a,(0,n._init)(n._payload),r)}if(te(n)||R(n))return u(t,e=e.get(a)||null,n,r,null);xl(t,n)}return null}function p(r,l,i,o){for(var c=null,d=null,u=l,p=l=0,v=null;null!==u&&p<i.length;p++){u.index>p?(v=u,u=null):v=u.sibling;var x=h(r,u,i[p],o);if(null===x){null===u&&(u=v);break}e&&u&&null===x.alternate&&t(r,u),l=s(x,l,p),null===d?c=x:d.sibling=x,d=x,u=v}if(p===i.length)return a(r,u),rl&&Xr(r,p),c;if(null===u){for(;p<i.length;p++)null!==(u=m(r,i[p],o))&&(l=s(u,l,p),null===d?c=u:d.sibling=u,d=u);return rl&&Xr(r,p),c}for(u=n(r,u);p<i.length;p++)null!==(v=f(u,r,p,i[p],o))&&(e&&null!==v.alternate&&u.delete(null===v.key?p:v.key),l=s(v,l,p),null===d?c=v:d.sibling=v,d=v);return e&&u.forEach(function(e){return t(r,e)}),rl&&Xr(r,p),c}function v(r,i,o,c){var d=R(o);if("function"!==typeof d)throw Error(l(150));if(null==(o=d.call(o)))throw Error(l(151));for(var u=d=null,p=i,v=i=0,x=null,g=o.next();null!==p&&!g.done;v++,g=o.next()){p.index>v?(x=p,p=null):x=p.sibling;var b=h(r,p,g.value,c);if(null===b){null===p&&(p=x);break}e&&p&&null===b.alternate&&t(r,p),i=s(b,i,v),null===u?d=b:u.sibling=b,u=b,p=x}if(g.done)return a(r,p),rl&&Xr(r,v),d;if(null===p){for(;!g.done;v++,g=o.next())null!==(g=m(r,g.value,c))&&(i=s(g,i,v),null===u?d=g:u.sibling=g,u=g);return rl&&Xr(r,v),d}for(p=n(r,p);!g.done;v++,g=o.next())null!==(g=f(p,r,v,g.value,c))&&(e&&null!==g.alternate&&p.delete(null===g.key?v:g.key),i=s(g,i,v),null===u?d=g:u.sibling=g,u=g);return e&&p.forEach(function(e){return t(r,e)}),rl&&Xr(r,v),d}return function e(n,l,s,o){if("object"===typeof s&&null!==s&&s.type===_&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case j:e:{for(var c=s.key,d=l;null!==d;){if(d.key===c){if((c=s.type)===_){if(7===d.tag){a(n,d.sibling),(l=r(d,s.props.children)).return=n,n=l;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&gl(c)===d.type){a(n,d.sibling),(l=r(d,s.props)).ref=vl(n,d,s),l.return=n,n=l;break e}a(n,d);break}t(n,d),d=d.sibling}s.type===_?((l=Rc(s.props.children,n.mode,o,s.key)).return=n,n=l):((o=Lc(s.type,s.key,s.props,null,n.mode,o)).ref=vl(n,l,s),o.return=n,n=o)}return i(n);case N:e:{for(d=s.key;null!==l;){if(l.key===d){if(4===l.tag&&l.stateNode.containerInfo===s.containerInfo&&l.stateNode.implementation===s.implementation){a(n,l.sibling),(l=r(l,s.children||[])).return=n,n=l;break e}a(n,l);break}t(n,l),l=l.sibling}(l=Fc(s,n.mode,o)).return=n,n=l}return i(n);case M:return e(n,l,(d=s._init)(s._payload),o)}if(te(s))return p(n,l,s,o);if(R(s))return v(n,l,s,o);xl(n,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==l&&6===l.tag?(a(n,l.sibling),(l=r(l,s)).return=n,n=l):(a(n,l),(l=Dc(s,n.mode,o)).return=n,n=l),i(n)):a(n,l)}}var yl=bl(!0),jl=bl(!1),Nl=wr(null),_l=null,wl=null,Sl=null;function kl(){Sl=wl=_l=null}function Pl(e){var t=Nl.current;Sr(Nl),e._currentValue=t}function Tl(e,t,a){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function El(e,t){_l=e,Sl=wl=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(gi=!0),e.firstContext=null)}function Al(e){var t=e._currentValue;if(Sl!==e)if(e={context:e,memoizedValue:t,next:null},null===wl){if(null===_l)throw Error(l(308));wl=e,_l.dependencies={lanes:0,firstContext:e}}else wl=wl.next=e;return t}var Cl=null;function Ml(e){null===Cl?Cl=[e]:Cl.push(e)}function Ol(e,t,a,n){var r=t.interleaved;return null===r?(a.next=a,Ml(t)):(a.next=r.next,r.next=a),t.interleaved=a,Ll(e,n)}function Ll(e,t){e.lanes|=t;var a=e.alternate;for(null!==a&&(a.lanes|=t),a=e,e=e.return;null!==e;)e.childLanes|=t,null!==(a=e.alternate)&&(a.childLanes|=t),a=e,e=e.return;return 3===a.tag?a.stateNode:null}var Rl=!1;function Il(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zl(e,t,a){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&To)){var r=n.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),n.pending=t,Ll(e,a)}return null===(r=n.interleaved)?(t.next=t,Ml(n)):(t.next=r.next,r.next=t),n.interleaved=t,Ll(e,a)}function Ul(e,t,a){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&a))){var n=t.lanes;a|=n&=e.pendingLanes,t.lanes=a,gt(e,a)}}function Hl(e,t){var a=e.updateQueue,n=e.alternate;if(null!==n&&a===(n=n.updateQueue)){var r=null,l=null;if(null!==(a=a.firstBaseUpdate)){do{var s={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};null===l?r=l=s:l=l.next=s,a=a.next}while(null!==a);null===l?r=l=t:l=l.next=t}else r=l=t;return a={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:l,shared:n.shared,effects:n.effects},void(e.updateQueue=a)}null===(e=a.lastBaseUpdate)?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function Bl(e,t,a,n){var r=e.updateQueue;Rl=!1;var l=r.firstBaseUpdate,s=r.lastBaseUpdate,i=r.shared.pending;if(null!==i){r.shared.pending=null;var o=i,c=o.next;o.next=null,null===s?l=c:s.next=c,s=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==l){var u=r.baseState;for(s=0,d=c=o=null,i=l;;){var m=i.lane,h=i.eventTime;if((n&m)===m){null!==d&&(d=d.next={eventTime:h,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var f=e,p=i;switch(m=t,h=a,p.tag){case 1:if("function"===typeof(f=p.payload)){u=f.call(h,u,m);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(m="function"===typeof(f=p.payload)?f.call(h,u,m):f)||void 0===m)break e;u=D({},u,m);break e;case 2:Rl=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(m=r.effects)?r.effects=[i]:m.push(i))}else h={eventTime:h,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=h,o=u):d=d.next=h,s|=m;if(null===(i=i.next)){if(null===(i=r.shared.pending))break;i=(m=i).next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}if(null===d&&(o=u),r.baseState=o,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null!==(t=r.shared.interleaved)){r=t;do{s|=r.lane,r=r.next}while(r!==t)}else null===l&&(r.shared.lanes=0);Io|=s,e.lanes=s,e.memoizedState=u}}function Vl(e,t,a){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],r=n.callback;if(null!==r){if(n.callback=null,n=a,"function"!==typeof r)throw Error(l(191,r));r.call(n)}}}var ql={},Yl=wr(ql),Wl=wr(ql),$l=wr(ql);function Ql(e){if(e===ql)throw Error(l(174));return e}function Gl(e,t){switch(kr($l,t),kr(Wl,e),kr(Yl,ql),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sr(Yl),kr(Yl,t)}function Kl(){Sr(Yl),Sr(Wl),Sr($l)}function Jl(e){Ql($l.current);var t=Ql(Yl.current),a=oe(t,e.type);t!==a&&(kr(Wl,e),kr(Yl,a))}function Xl(e){Wl.current===e&&(Sr(Yl),Sr(Wl))}var Zl=wr(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var a=t.memoizedState;if(null!==a&&(null===(a=a.dehydrated)||"$?"===a.data||"$!"===a.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function as(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var ns=y.ReactCurrentDispatcher,rs=y.ReactCurrentBatchConfig,ls=0,ss=null,is=null,os=null,cs=!1,ds=!1,us=0,ms=0;function hs(){throw Error(l(321))}function fs(e,t){if(null===t)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!sn(e[a],t[a]))return!1;return!0}function ps(e,t,a,n,r,s){if(ls=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ns.current=null===e||null===e.memoizedState?Xs:Zs,e=a(n,r),ds){s=0;do{if(ds=!1,us=0,25<=s)throw Error(l(301));s+=1,os=is=null,t.updateQueue=null,ns.current=ei,e=a(n,r)}while(ds)}if(ns.current=Js,t=null!==is&&null!==is.next,ls=0,os=is=ss=null,cs=!1,t)throw Error(l(300));return e}function vs(){var e=0!==us;return us=0,e}function xs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===os?ss.memoizedState=os=e:os=os.next=e,os}function gs(){if(null===is){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=is.next;var t=null===os?ss.memoizedState:os.next;if(null!==t)os=t,is=e;else{if(null===e)throw Error(l(310));e={memoizedState:(is=e).memoizedState,baseState:is.baseState,baseQueue:is.baseQueue,queue:is.queue,next:null},null===os?ss.memoizedState=os=e:os=os.next=e}return os}function bs(e,t){return"function"===typeof t?t(e):t}function ys(e){var t=gs(),a=t.queue;if(null===a)throw Error(l(311));a.lastRenderedReducer=e;var n=is,r=n.baseQueue,s=a.pending;if(null!==s){if(null!==r){var i=r.next;r.next=s.next,s.next=i}n.baseQueue=r=s,a.pending=null}if(null!==r){s=r.next,n=n.baseState;var o=i=null,c=null,d=s;do{var u=d.lane;if((ls&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=m,i=n):c=c.next=m,ss.lanes|=u,Io|=u}d=d.next}while(null!==d&&d!==s);null===c?i=n:c.next=o,sn(n,t.memoizedState)||(gi=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,a.lastRenderedState=n}if(null!==(e=a.interleaved)){r=e;do{s=r.lane,ss.lanes|=s,Io|=s,r=r.next}while(r!==e)}else null===r&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function js(e){var t=gs(),a=t.queue;if(null===a)throw Error(l(311));a.lastRenderedReducer=e;var n=a.dispatch,r=a.pending,s=t.memoizedState;if(null!==r){a.pending=null;var i=r=r.next;do{s=e(s,i.action),i=i.next}while(i!==r);sn(s,t.memoizedState)||(gi=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),a.lastRenderedState=s}return[s,n]}function Ns(){}function _s(e,t){var a=ss,n=gs(),r=t(),s=!sn(n.memoizedState,r);if(s&&(n.memoizedState=r,gi=!0),n=n.queue,Rs(ks.bind(null,a,n,e),[e]),n.getSnapshot!==t||s||null!==os&&1&os.memoizedState.tag){if(a.flags|=2048,As(9,Ss.bind(null,a,n,r,t),void 0,null),null===Eo)throw Error(l(349));0!==(30&ls)||ws(a,t,r)}return r}function ws(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(a=t.stores)?t.stores=[e]:a.push(e)}function Ss(e,t,a,n){t.value=a,t.getSnapshot=n,Ps(t)&&Ts(e)}function ks(e,t,a){return a(function(){Ps(t)&&Ts(e)})}function Ps(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!sn(e,a)}catch(n){return!0}}function Ts(e){var t=Ll(e,1);null!==t&&ac(t,e,1,-1)}function Es(e){var t=xs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=$s.bind(null,ss,e),[t.memoizedState,e]}function As(e,t,a,n){return e={tag:e,create:t,destroy:a,deps:n,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(a=t.lastEffect)?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Cs(){return gs().memoizedState}function Ms(e,t,a,n){var r=xs();ss.flags|=e,r.memoizedState=As(1|t,a,void 0,void 0===n?null:n)}function Os(e,t,a,n){var r=gs();n=void 0===n?null:n;var l=void 0;if(null!==is){var s=is.memoizedState;if(l=s.destroy,null!==n&&fs(n,s.deps))return void(r.memoizedState=As(t,a,l,n))}ss.flags|=e,r.memoizedState=As(1|t,a,l,n)}function Ls(e,t){return Ms(8390656,8,e,t)}function Rs(e,t){return Os(2048,8,e,t)}function Is(e,t){return Os(4,2,e,t)}function Ds(e,t){return Os(4,4,e,t)}function Fs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zs(e,t,a){return a=null!==a&&void 0!==a?a.concat([e]):null,Os(4,4,Fs.bind(null,t,e),a)}function Us(){}function Hs(e,t){var a=gs();t=void 0===t?null:t;var n=a.memoizedState;return null!==n&&null!==t&&fs(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Bs(e,t){var a=gs();t=void 0===t?null:t;var n=a.memoizedState;return null!==n&&null!==t&&fs(t,n[1])?n[0]:(e=e(),a.memoizedState=[e,t],e)}function Vs(e,t,a){return 0===(21&ls)?(e.baseState&&(e.baseState=!1,gi=!0),e.memoizedState=a):(sn(a,t)||(a=pt(),ss.lanes|=a,Io|=a,e.baseState=!0),t)}function qs(e,t){var a=bt;bt=0!==a&&4>a?a:4,e(!0);var n=rs.transition;rs.transition={};try{e(!1),t()}finally{bt=a,rs.transition=n}}function Ys(){return gs().memoizedState}function Ws(e,t,a){var n=tc(e);if(a={lane:n,action:a,hasEagerState:!1,eagerState:null,next:null},Qs(e))Gs(t,a);else if(null!==(a=Ol(e,t,a,n))){ac(a,e,n,ec()),Ks(a,t,n)}}function $s(e,t,a){var n=tc(e),r={lane:n,action:a,hasEagerState:!1,eagerState:null,next:null};if(Qs(e))Gs(t,r);else{var l=e.alternate;if(0===e.lanes&&(null===l||0===l.lanes)&&null!==(l=t.lastRenderedReducer))try{var s=t.lastRenderedState,i=l(s,a);if(r.hasEagerState=!0,r.eagerState=i,sn(i,s)){var o=t.interleaved;return null===o?(r.next=r,Ml(t)):(r.next=o.next,o.next=r),void(t.interleaved=r)}}catch(c){}null!==(a=Ol(e,t,r,n))&&(ac(a,e,n,r=ec()),Ks(a,t,n))}}function Qs(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function Gs(e,t){ds=cs=!0;var a=e.pending;null===a?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Ks(e,t,a){if(0!==(4194240&a)){var n=t.lanes;a|=n&=e.pendingLanes,t.lanes=a,gt(e,a)}}var Js={readContext:Al,useCallback:hs,useContext:hs,useEffect:hs,useImperativeHandle:hs,useInsertionEffect:hs,useLayoutEffect:hs,useMemo:hs,useReducer:hs,useRef:hs,useState:hs,useDebugValue:hs,useDeferredValue:hs,useTransition:hs,useMutableSource:hs,useSyncExternalStore:hs,useId:hs,unstable_isNewReconciler:!1},Xs={readContext:Al,useCallback:function(e,t){return xs().memoizedState=[e,void 0===t?null:t],e},useContext:Al,useEffect:Ls,useImperativeHandle:function(e,t,a){return a=null!==a&&void 0!==a?a.concat([e]):null,Ms(4194308,4,Fs.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ms(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ms(4,2,e,t)},useMemo:function(e,t){var a=xs();return t=void 0===t?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var n=xs();return t=void 0!==a?a(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ws.bind(null,ss,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},xs().memoizedState=e},useState:Es,useDebugValue:Us,useDeferredValue:function(e){return xs().memoizedState=e},useTransition:function(){var e=Es(!1),t=e[0];return e=qs.bind(null,e[1]),xs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var n=ss,r=xs();if(rl){if(void 0===a)throw Error(l(407));a=a()}else{if(a=t(),null===Eo)throw Error(l(349));0!==(30&ls)||ws(n,t,a)}r.memoizedState=a;var s={value:a,getSnapshot:t};return r.queue=s,Ls(ks.bind(null,n,s,e),[e]),n.flags|=2048,As(9,Ss.bind(null,n,s,a,t),void 0,null),a},useId:function(){var e=xs(),t=Eo.identifierPrefix;if(rl){var a=Jr;t=":"+t+"R"+(a=(Kr&~(1<<32-st(Kr)-1)).toString(32)+a),0<(a=us++)&&(t+="H"+a.toString(32)),t+=":"}else t=":"+t+"r"+(a=ms++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zs={readContext:Al,useCallback:Hs,useContext:Al,useEffect:Rs,useImperativeHandle:zs,useInsertionEffect:Is,useLayoutEffect:Ds,useMemo:Bs,useReducer:ys,useRef:Cs,useState:function(){return ys(bs)},useDebugValue:Us,useDeferredValue:function(e){return Vs(gs(),is.memoizedState,e)},useTransition:function(){return[ys(bs)[0],gs().memoizedState]},useMutableSource:Ns,useSyncExternalStore:_s,useId:Ys,unstable_isNewReconciler:!1},ei={readContext:Al,useCallback:Hs,useContext:Al,useEffect:Rs,useImperativeHandle:zs,useInsertionEffect:Is,useLayoutEffect:Ds,useMemo:Bs,useReducer:js,useRef:Cs,useState:function(){return js(bs)},useDebugValue:Us,useDeferredValue:function(e){var t=gs();return null===is?t.memoizedState=e:Vs(t,is.memoizedState,e)},useTransition:function(){return[js(bs)[0],gs().memoizedState]},useMutableSource:Ns,useSyncExternalStore:_s,useId:Ys,unstable_isNewReconciler:!1};function ti(e,t){if(e&&e.defaultProps){for(var a in t=D({},t),e=e.defaultProps)void 0===t[a]&&(t[a]=e[a]);return t}return t}function ai(e,t,a,n){a=null===(a=a(n,t=e.memoizedState))||void 0===a?t:D({},t,a),e.memoizedState=a,0===e.lanes&&(e.updateQueue.baseState=a)}var ni={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,a){e=e._reactInternals;var n=ec(),r=tc(e),l=Fl(n,r);l.payload=t,void 0!==a&&null!==a&&(l.callback=a),null!==(t=zl(e,l,r))&&(ac(t,e,r,n),Ul(t,e,r))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=ec(),r=tc(e),l=Fl(n,r);l.tag=1,l.payload=t,void 0!==a&&null!==a&&(l.callback=a),null!==(t=zl(e,l,r))&&(ac(t,e,r,n),Ul(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ec(),n=tc(e),r=Fl(a,n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=zl(e,r,n))&&(ac(t,e,n,a),Ul(t,e,n))}};function ri(e,t,a,n,r,l,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,l,s):!t.prototype||!t.prototype.isPureReactComponent||(!on(a,n)||!on(r,l))}function li(e,t,a){var n=!1,r=Pr,l=t.contextType;return"object"===typeof l&&null!==l?l=Al(l):(r=Mr(t)?Ar:Tr.current,l=(n=null!==(n=t.contextTypes)&&void 0!==n)?Cr(e,r):Pr),t=new t(a,l),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ni,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=l),t}function si(e,t,a,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(a,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&ni.enqueueReplaceState(t,t.state,null)}function ii(e,t,a,n){var r=e.stateNode;r.props=a,r.state=e.memoizedState,r.refs={},Il(e);var l=t.contextType;"object"===typeof l&&null!==l?r.context=Al(l):(l=Mr(t)?Ar:Tr.current,r.context=Cr(e,l)),r.state=e.memoizedState,"function"===typeof(l=t.getDerivedStateFromProps)&&(ai(e,t,l,a),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ni.enqueueReplaceState(r,r.state,null),Bl(e,a,r,n),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function oi(e,t){try{var a="",n=t;do{a+=H(n),n=n.return}while(n);var r=a}catch(l){r="\nError generating stack: "+l.message+"\n"+l.stack}return{value:e,source:t,stack:r,digest:null}}function ci(e,t,a){return{value:e,source:null,stack:null!=a?a:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(a){setTimeout(function(){throw a})}}var ui="function"===typeof WeakMap?WeakMap:Map;function mi(e,t,a){(a=Fl(-1,a)).tag=3,a.payload={element:null};var n=t.value;return a.callback=function(){qo||(qo=!0,Yo=n),di(0,t)},a}function hi(e,t,a){(a=Fl(-1,a)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var r=t.value;a.payload=function(){return n(r)},a.callback=function(){di(0,t)}}var l=e.stateNode;return null!==l&&"function"===typeof l.componentDidCatch&&(a.callback=function(){di(0,t),"function"!==typeof n&&(null===Wo?Wo=new Set([this]):Wo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),a}function fi(e,t,a){var n=e.pingCache;if(null===n){n=e.pingCache=new ui;var r=new Set;n.set(t,r)}else void 0===(r=n.get(t))&&(r=new Set,n.set(t,r));r.has(a)||(r.add(a),e=Sc.bind(null,e,t,a),t.then(e,e))}function pi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vi(e,t,a,n,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,1===a.tag&&(null===a.alternate?a.tag=17:((t=Fl(-1,1)).tag=2,zl(a,t,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var xi=y.ReactCurrentOwner,gi=!1;function bi(e,t,a,n){t.child=null===e?jl(t,null,a,n):yl(t,e.child,a,n)}function yi(e,t,a,n,r){a=a.render;var l=t.ref;return El(t,r),n=ps(e,t,a,n,l,r),a=vs(),null===e||gi?(rl&&a&&el(t),t.flags|=1,bi(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Vi(e,t,r))}function ji(e,t,a,n,r){if(null===e){var l=a.type;return"function"!==typeof l||Mc(l)||void 0!==l.defaultProps||null!==a.compare||void 0!==a.defaultProps?((e=Lc(a.type,null,n,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=l,Ni(e,t,l,n,r))}if(l=e.child,0===(e.lanes&r)){var s=l.memoizedProps;if((a=null!==(a=a.compare)?a:on)(s,n)&&e.ref===t.ref)return Vi(e,t,r)}return t.flags|=1,(e=Oc(l,n)).ref=t.ref,e.return=t,t.child=e}function Ni(e,t,a,n,r){if(null!==e){var l=e.memoizedProps;if(on(l,n)&&e.ref===t.ref){if(gi=!1,t.pendingProps=n=l,0===(e.lanes&r))return t.lanes=e.lanes,Vi(e,t,r);0!==(131072&e.flags)&&(gi=!0)}}return Si(e,t,a,n,r)}function _i(e,t,a){var n=t.pendingProps,r=n.children,l=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kr(Oo,Mo),Mo|=a;else{if(0===(1073741824&a))return e=null!==l?l.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kr(Oo,Mo),Mo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==l?l.baseLanes:a,kr(Oo,Mo),Mo|=n}else null!==l?(n=l.baseLanes|a,t.memoizedState=null):n=a,kr(Oo,Mo),Mo|=n;return bi(e,t,r,a),t.child}function wi(e,t){var a=t.ref;(null===e&&null!==a||null!==e&&e.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function Si(e,t,a,n,r){var l=Mr(a)?Ar:Tr.current;return l=Cr(t,l),El(t,r),a=ps(e,t,a,n,l,r),n=vs(),null===e||gi?(rl&&n&&el(t),t.flags|=1,bi(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Vi(e,t,r))}function ki(e,t,a,n,r){if(Mr(a)){var l=!0;Ir(t)}else l=!1;if(El(t,r),null===t.stateNode)Bi(e,t),li(t,a,n),ii(t,a,n,r),n=!0;else if(null===e){var s=t.stateNode,i=t.memoizedProps;s.props=i;var o=s.context,c=a.contextType;"object"===typeof c&&null!==c?c=Al(c):c=Cr(t,c=Mr(a)?Ar:Tr.current);var d=a.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate;u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==n||o!==c)&&si(t,s,n,c),Rl=!1;var m=t.memoizedState;s.state=m,Bl(t,n,s,r),o=t.memoizedState,i!==n||m!==o||Er.current||Rl?("function"===typeof d&&(ai(t,a,d,n),o=t.memoizedState),(i=Rl||ri(t,a,i,n,m,o,c))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=o),s.props=n,s.state=o,s.context=c,n=i):("function"===typeof s.componentDidMount&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Dl(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ti(t.type,i),s.props=c,u=t.pendingProps,m=s.context,"object"===typeof(o=a.contextType)&&null!==o?o=Al(o):o=Cr(t,o=Mr(a)?Ar:Tr.current);var h=a.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==u||m!==o)&&si(t,s,n,o),Rl=!1,m=t.memoizedState,s.state=m,Bl(t,n,s,r);var f=t.memoizedState;i!==u||m!==f||Er.current||Rl?("function"===typeof h&&(ai(t,a,h,n),f=t.memoizedState),(c=Rl||ri(t,a,c,n,m,f,o)||!1)?(d||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(n,f,o),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,f,o)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),s.props=n,s.state=f,s.context=o,n=c):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Pi(e,t,a,n,l,r)}function Pi(e,t,a,n,r,l){wi(e,t);var s=0!==(128&t.flags);if(!n&&!s)return r&&Dr(t,a,!1),Vi(e,t,l);n=t.stateNode,xi.current=t;var i=s&&"function"!==typeof a.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&s?(t.child=yl(t,e.child,null,l),t.child=yl(t,null,i,l)):bi(e,t,i,l),t.memoizedState=n.state,r&&Dr(t,a,!0),t.child}function Ti(e){var t=e.stateNode;t.pendingContext?Lr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Lr(0,t.context,!1),Gl(e,t.containerInfo)}function Ei(e,t,a,n,r){return hl(),fl(r),t.flags|=256,bi(e,t,a,n),t.child}var Ai,Ci,Mi,Oi,Li={dehydrated:null,treeContext:null,retryLane:0};function Ri(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ii(e,t,a){var n,r=t.pendingProps,s=Zl.current,i=!1,o=0!==(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&0!==(2&s)),n?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),kr(Zl,1&s),null===e)return cl(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},0===(1&r)&&null!==i?(i.childLanes=0,i.pendingProps=o):i=Ic(o,r,0,null),e=Rc(e,r,a,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ri(a),t.memoizedState=Li,e):Di(t,o));if(null!==(s=e.memoizedState)&&null!==(n=s.dehydrated))return function(e,t,a,n,r,s,i){if(a)return 256&t.flags?(t.flags&=-257,Fi(e,t,i,n=ci(Error(l(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=n.fallback,r=t.mode,n=Ic({mode:"visible",children:n.children},r,0,null),(s=Rc(s,r,i,null)).flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,0!==(1&t.mode)&&yl(t,e.child,null,i),t.child.memoizedState=Ri(i),t.memoizedState=Li,s);if(0===(1&t.mode))return Fi(e,t,i,null);if("$!"===r.data){if(n=r.nextSibling&&r.nextSibling.dataset)var o=n.dgst;return n=o,Fi(e,t,i,n=ci(s=Error(l(419)),n,void 0))}if(o=0!==(i&e.childLanes),gi||o){if(null!==(n=Eo)){switch(i&-i){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(n.suspendedLanes|i))?0:r)&&r!==s.retryLane&&(s.retryLane=r,Ll(e,r),ac(n,e,r,-1))}return pc(),Fi(e,t,i,n=ci(Error(l(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Pc.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,nl=cr(r.nextSibling),al=t,rl=!0,ll=null,null!==e&&($r[Qr++]=Kr,$r[Qr++]=Jr,$r[Qr++]=Gr,Kr=e.id,Jr=e.overflow,Gr=t),t=Di(t,n.children),t.flags|=4096,t)}(e,t,o,r,n,s,a);if(i){i=r.fallback,o=t.mode,n=(s=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&o)&&t.child!==s?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Oc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==n?i=Oc(n,i):(i=Rc(i,o,a,null)).flags|=2,i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=null===(o=e.child.memoizedState)?Ri(a):{baseLanes:o.baseLanes|a,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~a,t.memoizedState=Li,r}return e=(i=e.child).sibling,r=Oc(i,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=a),r.return=t,r.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=r,t.memoizedState=null,r}function Di(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fi(e,t,a,n){return null!==n&&fl(n),yl(t,e.child,null,a),(e=Di(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zi(e,t,a){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Tl(e.return,t,a)}function Ui(e,t,a,n,r){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:r}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=a,l.tailMode=r)}function Hi(e,t,a){var n=t.pendingProps,r=n.revealOrder,l=n.tail;if(bi(e,t,n.children,a),0!==(2&(n=Zl.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zi(e,a,t);else if(19===e.tag)zi(e,a,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(kr(Zl,n),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(a=t.child,r=null;null!==a;)null!==(e=a.alternate)&&null===es(e)&&(r=a),a=a.sibling;null===(a=r)?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),Ui(t,!1,r,a,l);break;case"backwards":for(a=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===es(e)){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}Ui(t,!0,a,null,l);break;case"together":Ui(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vi(e,t,a){if(null!==e&&(t.dependencies=e.dependencies),Io|=t.lanes,0===(a&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(a=Oc(e=t.child,e.pendingProps),t.child=a,a.return=t;null!==e.sibling;)e=e.sibling,(a=a.sibling=Oc(e,e.pendingProps)).return=t;a.sibling=null}return t.child}function qi(e,t){if(!rl)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;null!==t;)null!==t.alternate&&(a=t),t=t.sibling;null===a?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;null!==a;)null!==a.alternate&&(n=a),a=a.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Yi(e){var t=null!==e.alternate&&e.alternate.child===e.child,a=0,n=0;if(t)for(var r=e.child;null!==r;)a|=r.lanes|r.childLanes,n|=14680064&r.subtreeFlags,n|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Wi(e,t,a){var n=t.pendingProps;switch(tl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yi(t),null;case 1:case 17:return Mr(t.type)&&Or(),Yi(t),null;case 3:return n=t.stateNode,Kl(),Sr(Er),Sr(Tr),as(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ul(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ll&&(sc(ll),ll=null))),Ci(e,t),Yi(t),null;case 5:Xl(t);var r=Ql($l.current);if(a=t.type,null!==e&&null!=t.stateNode)Mi(e,t,a,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(l(166));return Yi(t),null}if(e=Ql(Yl.current),ul(t)){n=t.stateNode,a=t.type;var s=t.memoizedProps;switch(n[mr]=t,n[hr]=s,e=0!==(1&t.mode),a){case"dialog":zn("cancel",n),zn("close",n);break;case"iframe":case"object":case"embed":zn("load",n);break;case"video":case"audio":for(r=0;r<Rn.length;r++)zn(Rn[r],n);break;case"source":zn("error",n);break;case"img":case"image":case"link":zn("error",n),zn("load",n);break;case"details":zn("toggle",n);break;case"input":K(n,s),zn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},zn("invalid",n);break;case"textarea":re(n,s),zn("invalid",n)}for(var o in ge(a,s),r=null,s)if(s.hasOwnProperty(o)){var c=s[o];"children"===o?"string"===typeof c?n.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xn(n.textContent,c,e),r=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xn(n.textContent,c,e),r=["children",""+c]):i.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&zn("scroll",n)}switch(a){case"input":W(n),Z(n,s,!0);break;case"textarea":W(n),se(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=Zn)}n=r,t.updateQueue=n,null!==n&&(t.flags|=4)}else{o=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(a)),"http://www.w3.org/1999/xhtml"===e?"script"===a?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=o.createElement(a,{is:n.is}):(e=o.createElement(a),"select"===a&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,a),e[mr]=t,e[hr]=n,Ai(e,t,!1,!1),t.stateNode=e;e:{switch(o=be(a,n),a){case"dialog":zn("cancel",e),zn("close",e),r=n;break;case"iframe":case"object":case"embed":zn("load",e),r=n;break;case"video":case"audio":for(r=0;r<Rn.length;r++)zn(Rn[r],e);r=n;break;case"source":zn("error",e),r=n;break;case"img":case"image":case"link":zn("error",e),zn("load",e),r=n;break;case"details":zn("toggle",e),r=n;break;case"input":K(e,n),r=G(e,n),zn("invalid",e);break;case"option":default:r=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},r=D({},n,{value:void 0}),zn("invalid",e);break;case"textarea":re(e,n),r=ne(e,n),zn("invalid",e)}for(s in ge(a,r),c=r)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?ve(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===s?"string"===typeof d?("textarea"!==a||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(i.hasOwnProperty(s)?null!=d&&"onScroll"===s&&zn("scroll",e):null!=d&&b(e,s,d,o))}switch(a){case"input":W(e),Z(e,n,!1);break;case"textarea":W(e),se(e);break;case"option":null!=n.value&&e.setAttribute("value",""+q(n.value));break;case"select":e.multiple=!!n.multiple,null!=(s=n.value)?ae(e,!!n.multiple,s,!1):null!=n.defaultValue&&ae(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Zn)}switch(a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Yi(t),null;case 6:if(e&&null!=t.stateNode)Oi(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(l(166));if(a=Ql($l.current),Ql(Yl.current),ul(t)){if(n=t.stateNode,a=t.memoizedProps,n[mr]=t,(s=n.nodeValue!==a)&&null!==(e=al))switch(e.tag){case 3:Xn(n.nodeValue,a,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xn(n.nodeValue,a,0!==(1&e.mode))}s&&(t.flags|=4)}else(n=(9===a.nodeType?a:a.ownerDocument).createTextNode(n))[mr]=t,t.stateNode=n}return Yi(t),null;case 13:if(Sr(Zl),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rl&&null!==nl&&0!==(1&t.mode)&&0===(128&t.flags))ml(),hl(),t.flags|=98560,s=!1;else if(s=ul(t),null!==n&&null!==n.dehydrated){if(null===e){if(!s)throw Error(l(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(l(317));s[mr]=t}else hl(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yi(t),s=!1}else null!==ll&&(sc(ll),ll=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=a,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zl.current)?0===Lo&&(Lo=3):pc())),null!==t.updateQueue&&(t.flags|=4),Yi(t),null);case 4:return Kl(),Ci(e,t),null===e&&Bn(t.stateNode.containerInfo),Yi(t),null;case 10:return Pl(t.type._context),Yi(t),null;case 19:if(Sr(Zl),null===(s=t.memoizedState))return Yi(t),null;if(n=0!==(128&t.flags),null===(o=s.rendering))if(n)qi(s,!1);else{if(0!==Lo||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=es(e))){for(t.flags|=128,qi(s,!1),null!==(n=o.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=a,a=t.child;null!==a;)e=n,(s=a).flags&=14680066,null===(o=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return kr(Zl,1&Zl.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>Bo&&(t.flags|=128,n=!0,qi(s,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=es(o))){if(t.flags|=128,n=!0,null!==(a=e.updateQueue)&&(t.updateQueue=a,t.flags|=4),qi(s,!0),null===s.tail&&"hidden"===s.tailMode&&!o.alternate&&!rl)return Yi(t),null}else 2*Je()-s.renderingStartTime>Bo&&1073741824!==a&&(t.flags|=128,n=!0,qi(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(null!==(a=s.last)?a.sibling=o:t.child=o,s.last=o)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,a=Zl.current,kr(Zl,n?1&a|2:1&a),t):(Yi(t),null);case 22:case 23:return uc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Mo)&&(Yi(t),6&t.subtreeFlags&&(t.flags|=8192)):Yi(t),null;case 24:case 25:return null}throw Error(l(156,t.tag))}function $i(e,t){switch(tl(t),t.tag){case 1:return Mr(t.type)&&Or(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Kl(),Sr(Er),Sr(Tr),as(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xl(t),null;case 13:if(Sr(Zl),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(l(340));hl()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sr(Zl),null;case 4:return Kl(),null;case 10:return Pl(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ai=function(e,t){for(var a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Ci=function(){},Mi=function(e,t,a,n){var r=e.memoizedProps;if(r!==n){e=t.stateNode,Ql(Yl.current);var l,s=null;switch(a){case"input":r=G(e,r),n=G(e,n),s=[];break;case"select":r=D({},r,{value:void 0}),n=D({},n,{value:void 0}),s=[];break;case"textarea":r=ne(e,r),n=ne(e,n),s=[];break;default:"function"!==typeof r.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(d in ge(a,n),a=null,r)if(!n.hasOwnProperty(d)&&r.hasOwnProperty(d)&&null!=r[d])if("style"===d){var o=r[d];for(l in o)o.hasOwnProperty(l)&&(a||(a={}),a[l]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var c=n[d];if(o=null!=r?r[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(a||(a={}),a[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(a||(a={}),a[l]=c[l])}else a||(s||(s=[]),s.push(d,a)),a=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&zn("scroll",e),s||o===c||(s=[])):(s=s||[]).push(d,c))}a&&(s=s||[]).push("style",a);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Oi=function(e,t,a,n){a!==n&&(t.flags|=4)};var Qi=!1,Gi=!1,Ki="function"===typeof WeakSet?WeakSet:Set,Ji=null;function Xi(e,t){var a=e.ref;if(null!==a)if("function"===typeof a)try{a(null)}catch(n){wc(e,t,n)}else a.current=null}function Zi(e,t,a){try{a()}catch(n){wc(e,t,n)}}var eo=!1;function to(e,t,a){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)===e){var l=r.destroy;r.destroy=void 0,void 0!==l&&Zi(t,a,l)}r=r.next}while(r!==n)}}function ao(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var a=t=t.next;do{if((a.tag&e)===e){var n=a.create;a.destroy=n()}a=a.next}while(a!==t)}}function no(e){var t=e.ref;if(null!==t){var a=e.stateNode;e.tag,e=a,"function"===typeof t?t(e):t.current=e}}function ro(e){var t=e.alternate;null!==t&&(e.alternate=null,ro(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[mr],delete t[hr],delete t[pr],delete t[vr],delete t[xr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lo(e){return 5===e.tag||3===e.tag||4===e.tag}function so(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||lo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function io(e,t,a){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===a.nodeType?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(8===a.nodeType?(t=a.parentNode).insertBefore(e,a):(t=a).appendChild(e),null!==(a=a._reactRootContainer)&&void 0!==a||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(io(e,t,a),e=e.sibling;null!==e;)io(e,t,a),e=e.sibling}function oo(e,t,a){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(4!==n&&null!==(e=e.child))for(oo(e,t,a),e=e.sibling;null!==e;)oo(e,t,a),e=e.sibling}var co=null,uo=!1;function mo(e,t,a){for(a=a.child;null!==a;)ho(e,t,a),a=a.sibling}function ho(e,t,a){if(lt&&"function"===typeof lt.onCommitFiberUnmount)try{lt.onCommitFiberUnmount(rt,a)}catch(i){}switch(a.tag){case 5:Gi||Xi(a,t);case 6:var n=co,r=uo;co=null,mo(e,t,a),uo=r,null!==(co=n)&&(uo?(e=co,a=a.stateNode,8===e.nodeType?e.parentNode.removeChild(a):e.removeChild(a)):co.removeChild(a.stateNode));break;case 18:null!==co&&(uo?(e=co,a=a.stateNode,8===e.nodeType?or(e.parentNode,a):1===e.nodeType&&or(e,a),Bt(e)):or(co,a.stateNode));break;case 4:n=co,r=uo,co=a.stateNode.containerInfo,uo=!0,mo(e,t,a),co=n,uo=r;break;case 0:case 11:case 14:case 15:if(!Gi&&(null!==(n=a.updateQueue)&&null!==(n=n.lastEffect))){r=n=n.next;do{var l=r,s=l.destroy;l=l.tag,void 0!==s&&(0!==(2&l)||0!==(4&l))&&Zi(a,t,s),r=r.next}while(r!==n)}mo(e,t,a);break;case 1:if(!Gi&&(Xi(a,t),"function"===typeof(n=a.stateNode).componentWillUnmount))try{n.props=a.memoizedProps,n.state=a.memoizedState,n.componentWillUnmount()}catch(i){wc(a,t,i)}mo(e,t,a);break;case 21:mo(e,t,a);break;case 22:1&a.mode?(Gi=(n=Gi)||null!==a.memoizedState,mo(e,t,a),Gi=n):mo(e,t,a);break;default:mo(e,t,a)}}function fo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var a=e.stateNode;null===a&&(a=e.stateNode=new Ki),t.forEach(function(t){var n=Tc.bind(null,e,t);a.has(t)||(a.add(t),t.then(n,n))})}}function po(e,t){var a=t.deletions;if(null!==a)for(var n=0;n<a.length;n++){var r=a[n];try{var s=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(l(160));ho(s,i,r),co=null,uo=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(d){wc(r,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vo(t,e),t=t.sibling}function vo(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(po(t,e),xo(e),4&n){try{to(3,e,e.return),ao(3,e)}catch(v){wc(e,e.return,v)}try{to(5,e,e.return)}catch(v){wc(e,e.return,v)}}break;case 1:po(t,e),xo(e),512&n&&null!==a&&Xi(a,a.return);break;case 5:if(po(t,e),xo(e),512&n&&null!==a&&Xi(a,a.return),32&e.flags){var r=e.stateNode;try{me(r,"")}catch(v){wc(e,e.return,v)}}if(4&n&&null!=(r=e.stateNode)){var s=e.memoizedProps,i=null!==a?a.memoizedProps:s,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===s.type&&null!=s.name&&J(r,s),be(o,i);var d=be(o,s);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];"style"===u?ve(r,m):"dangerouslySetInnerHTML"===u?ue(r,m):"children"===u?me(r,m):b(r,u,m,d)}switch(o){case"input":X(r,s);break;case"textarea":le(r,s);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ae(r,!!s.multiple,f,!1):h!==!!s.multiple&&(null!=s.defaultValue?ae(r,!!s.multiple,s.defaultValue,!0):ae(r,!!s.multiple,s.multiple?[]:"",!1))}r[hr]=s}catch(v){wc(e,e.return,v)}}break;case 6:if(po(t,e),xo(e),4&n){if(null===e.stateNode)throw Error(l(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(v){wc(e,e.return,v)}}break;case 3:if(po(t,e),xo(e),4&n&&null!==a&&a.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(v){wc(e,e.return,v)}break;case 4:default:po(t,e),xo(e);break;case 13:po(t,e),xo(e),8192&(r=e.child).flags&&(s=null!==r.memoizedState,r.stateNode.isHidden=s,!s||null!==r.alternate&&null!==r.alternate.memoizedState||(Ho=Je())),4&n&&fo(e);break;case 22:if(u=null!==a&&null!==a.memoizedState,1&e.mode?(Gi=(d=Gi)||u,po(t,e),Gi=d):po(t,e),xo(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Ji=e,u=e.child;null!==u;){for(m=Ji=u;null!==Ji;){switch(f=(h=Ji).child,h.tag){case 0:case 11:case 14:case 15:to(4,h,h.return);break;case 1:Xi(h,h.return);var p=h.stateNode;if("function"===typeof p.componentWillUnmount){n=h,a=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){wc(n,a,v)}}break;case 5:Xi(h,h.return);break;case 22:if(null!==h.memoizedState){jo(m);continue}}null!==f?(f.return=h,Ji=f):jo(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{r=m.stateNode,d?"function"===typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none":(o=m.stateNode,i=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=pe("display",i))}catch(v){wc(e,e.return,v)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(v){wc(e,e.return,v)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:po(t,e),xo(e),4&n&&fo(e);case 21:}}function xo(e){var t=e.flags;if(2&t){try{e:{for(var a=e.return;null!==a;){if(lo(a)){var n=a;break e}a=a.return}throw Error(l(160))}switch(n.tag){case 5:var r=n.stateNode;32&n.flags&&(me(r,""),n.flags&=-33),oo(e,so(e),r);break;case 3:case 4:var s=n.stateNode.containerInfo;io(e,so(e),s);break;default:throw Error(l(161))}}catch(i){wc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function go(e,t,a){Ji=e,bo(e,t,a)}function bo(e,t,a){for(var n=0!==(1&e.mode);null!==Ji;){var r=Ji,l=r.child;if(22===r.tag&&n){var s=null!==r.memoizedState||Qi;if(!s){var i=r.alternate,o=null!==i&&null!==i.memoizedState||Gi;i=Qi;var c=Gi;if(Qi=s,(Gi=o)&&!c)for(Ji=r;null!==Ji;)o=(s=Ji).child,22===s.tag&&null!==s.memoizedState?No(r):null!==o?(o.return=s,Ji=o):No(r);for(;null!==l;)Ji=l,bo(l,t,a),l=l.sibling;Ji=r,Qi=i,Gi=c}yo(e)}else 0!==(8772&r.subtreeFlags)&&null!==l?(l.return=r,Ji=l):yo(e)}}function yo(e){for(;null!==Ji;){var t=Ji;if(0!==(8772&t.flags)){var a=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gi||ao(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Gi)if(null===a)n.componentDidMount();else{var r=t.elementType===t.type?a.memoizedProps:ti(t.type,a.memoizedProps);n.componentDidUpdate(r,a.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Vl(t,s,n);break;case 3:var i=t.updateQueue;if(null!==i){if(a=null,null!==t.child)switch(t.child.tag){case 5:case 1:a=t.child.stateNode}Vl(t,i,a)}break;case 5:var o=t.stateNode;if(null===a&&4&t.flags){a=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&a.focus();break;case"img":c.src&&(a.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Bt(m)}}}break;default:throw Error(l(163))}Gi||512&t.flags&&no(t)}catch(h){wc(t,t.return,h)}}if(t===e){Ji=null;break}if(null!==(a=t.sibling)){a.return=t.return,Ji=a;break}Ji=t.return}}function jo(e){for(;null!==Ji;){var t=Ji;if(t===e){Ji=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ji=a;break}Ji=t.return}}function No(e){for(;null!==Ji;){var t=Ji;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{ao(4,t)}catch(o){wc(t,a,o)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var r=t.return;try{n.componentDidMount()}catch(o){wc(t,r,o)}}var l=t.return;try{no(t)}catch(o){wc(t,l,o)}break;case 5:var s=t.return;try{no(t)}catch(o){wc(t,s,o)}}}catch(o){wc(t,t.return,o)}if(t===e){Ji=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Ji=i;break}Ji=t.return}}var _o,wo=Math.ceil,So=y.ReactCurrentDispatcher,ko=y.ReactCurrentOwner,Po=y.ReactCurrentBatchConfig,To=0,Eo=null,Ao=null,Co=0,Mo=0,Oo=wr(0),Lo=0,Ro=null,Io=0,Do=0,Fo=0,zo=null,Uo=null,Ho=0,Bo=1/0,Vo=null,qo=!1,Yo=null,Wo=null,$o=!1,Qo=null,Go=0,Ko=0,Jo=null,Xo=-1,Zo=0;function ec(){return 0!==(6&To)?Je():-1!==Xo?Xo:Xo=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&To)&&0!==Co?Co&-Co:null!==pl.transition?(0===Zo&&(Zo=pt()),Zo):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function ac(e,t,a,n){if(50<Ko)throw Ko=0,Jo=null,Error(l(185));xt(e,a,n),0!==(2&To)&&e===Eo||(e===Eo&&(0===(2&To)&&(Do|=a),4===Lo&&ic(e,Co)),nc(e,n),1===a&&0===To&&0===(1&t.mode)&&(Bo=Je()+500,zr&&Br()))}function nc(e,t){var a=e.callbackNode;!function(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,l=e.pendingLanes;0<l;){var s=31-st(l),i=1<<s,o=r[s];-1===o?0!==(i&a)&&0===(i&n)||(r[s]=ht(i,t)):o<=t&&(e.expiredLanes|=i),l&=~i}}(e,t);var n=mt(e,e===Eo?Co:0);if(0===n)null!==a&&Qe(a),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=a&&Qe(a),1===t)0===e.tag?function(e){zr=!0,Hr(e)}(oc.bind(null,e)):Hr(oc.bind(null,e)),sr(function(){0===(6&To)&&Br()}),a=null;else{switch(yt(n)){case 1:a=Ze;break;case 4:a=et;break;case 16:default:a=tt;break;case 536870912:a=nt}a=Ec(a,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=a}}function rc(e,t){if(Xo=-1,Zo=0,0!==(6&To))throw Error(l(327));var a=e.callbackNode;if(Nc()&&e.callbackNode!==a)return null;var n=mt(e,e===Eo?Co:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=vc(e,n);else{t=n;var r=To;To|=2;var s=fc();for(Eo===e&&Co===t||(Vo=null,Bo=Je()+500,mc(e,t));;)try{gc();break}catch(o){hc(e,o)}kl(),So.current=s,To=r,null!==Ao?t=0:(Eo=null,Co=0,t=Lo)}if(0!==t){if(2===t&&(0!==(r=ft(e))&&(n=r,t=lc(e,r))),1===t)throw a=Ro,mc(e,0),ic(e,n),nc(e,Je()),a;if(6===t)ic(e,n);else{if(r=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var a=t.updateQueue;if(null!==a&&null!==(a=a.stores))for(var n=0;n<a.length;n++){var r=a[n],l=r.getSnapshot;r=r.value;try{if(!sn(l(),r))return!1}catch(i){return!1}}}if(a=t.child,16384&t.subtreeFlags&&null!==a)a.return=t,t=a;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=vc(e,n))&&(0!==(s=ft(e))&&(n=s,t=lc(e,s))),1===t))throw a=Ro,mc(e,0),ic(e,n),nc(e,Je()),a;switch(e.finishedWork=r,e.finishedLanes=n,t){case 0:case 1:throw Error(l(345));case 2:case 5:jc(e,Uo,Vo);break;case 3:if(ic(e,n),(130023424&n)===n&&10<(t=Ho+500-Je())){if(0!==mt(e,0))break;if(((r=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=nr(jc.bind(null,e,Uo,Vo),t);break}jc(e,Uo,Vo);break;case 4:if(ic(e,n),(4194240&n)===n)break;for(t=e.eventTimes,r=-1;0<n;){var i=31-st(n);s=1<<i,(i=t[i])>r&&(r=i),n&=~s}if(n=r,10<(n=(120>(n=Je()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*wo(n/1960))-n)){e.timeoutHandle=nr(jc.bind(null,e,Uo,Vo),n);break}jc(e,Uo,Vo);break;default:throw Error(l(329))}}}return nc(e,Je()),e.callbackNode===a?rc.bind(null,e):null}function lc(e,t){var a=zo;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Uo,Uo=a,null!==t&&sc(t)),e}function sc(e){null===Uo?Uo=e:Uo.push.apply(Uo,e)}function ic(e,t){for(t&=~Fo,t&=~Do,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-st(t),n=1<<a;e[a]=-1,t&=~n}}function oc(e){if(0!==(6&To))throw Error(l(327));Nc();var t=mt(e,0);if(0===(1&t))return nc(e,Je()),null;var a=vc(e,t);if(0!==e.tag&&2===a){var n=ft(e);0!==n&&(t=n,a=lc(e,n))}if(1===a)throw a=Ro,mc(e,0),ic(e,t),nc(e,Je()),a;if(6===a)throw Error(l(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Uo,Vo),nc(e,Je()),null}function cc(e,t){var a=To;To|=1;try{return e(t)}finally{0===(To=a)&&(Bo=Je()+500,zr&&Br())}}function dc(e){null!==Qo&&0===Qo.tag&&0===(6&To)&&Nc();var t=To;To|=1;var a=Po.transition,n=bt;try{if(Po.transition=null,bt=1,e)return e()}finally{bt=n,Po.transition=a,0===(6&(To=t))&&Br()}}function uc(){Mo=Oo.current,Sr(Oo)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(-1!==a&&(e.timeoutHandle=-1,rr(a)),null!==Ao)for(a=Ao.return;null!==a;){var n=a;switch(tl(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Or();break;case 3:Kl(),Sr(Er),Sr(Tr),as();break;case 5:Xl(n);break;case 4:Kl();break;case 13:case 19:Sr(Zl);break;case 10:Pl(n.type._context);break;case 22:case 23:uc()}a=a.return}if(Eo=e,Ao=e=Oc(e.current,null),Co=Mo=t,Lo=0,Ro=null,Fo=Do=Io=0,Uo=zo=null,null!==Cl){for(t=0;t<Cl.length;t++)if(null!==(n=(a=Cl[t]).interleaved)){a.interleaved=null;var r=n.next,l=a.pending;if(null!==l){var s=l.next;l.next=r,n.next=s}a.pending=n}Cl=null}return e}function hc(e,t){for(;;){var a=Ao;try{if(kl(),ns.current=Js,cs){for(var n=ss.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}cs=!1}if(ls=0,os=is=ss=null,ds=!1,us=0,ko.current=null,null===a||null===a.return){Lo=1,Ro=t,Ao=null;break}e:{var s=e,i=a.return,o=a,c=t;if(t=Co,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=pi(i);if(null!==f){f.flags&=-257,vi(f,i,o,0,t),1&f.mode&&fi(s,d,t),c=d;var p=(t=f).updateQueue;if(null===p){var v=new Set;v.add(c),t.updateQueue=v}else p.add(c);break e}if(0===(1&t)){fi(s,d,t),pc();break e}c=Error(l(426))}else if(rl&&1&o.mode){var x=pi(i);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),vi(x,i,o,0,t),fl(oi(c,o));break e}}s=c=oi(c,o),4!==Lo&&(Lo=2),null===zo?zo=[s]:zo.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Hl(s,mi(0,c,t));break e;case 1:o=c;var g=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wo||!Wo.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Hl(s,hi(s,o,t));break e}}s=s.return}while(null!==s)}yc(a)}catch(y){t=y,Ao===a&&null!==a&&(Ao=a=a.return);continue}break}}function fc(){var e=So.current;return So.current=Js,null===e?Js:e}function pc(){0!==Lo&&3!==Lo&&2!==Lo||(Lo=4),null===Eo||0===(268435455&Io)&&0===(268435455&Do)||ic(Eo,Co)}function vc(e,t){var a=To;To|=2;var n=fc();for(Eo===e&&Co===t||(Vo=null,mc(e,t));;)try{xc();break}catch(r){hc(e,r)}if(kl(),To=a,So.current=n,null!==Ao)throw Error(l(261));return Eo=null,Co=0,Lo}function xc(){for(;null!==Ao;)bc(Ao)}function gc(){for(;null!==Ao&&!Ge();)bc(Ao)}function bc(e){var t=_o(e.alternate,e,Mo);e.memoizedProps=e.pendingProps,null===t?yc(e):Ao=t,ko.current=null}function yc(e){var t=e;do{var a=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(a=Wi(a,t,Mo)))return void(Ao=a)}else{if(null!==(a=$i(a,t)))return a.flags&=32767,void(Ao=a);if(null===e)return Lo=6,void(Ao=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ao=t);Ao=t=e}while(null!==t);0===Lo&&(Lo=5)}function jc(e,t,a){var n=bt,r=Po.transition;try{Po.transition=null,bt=1,function(e,t,a,n){do{Nc()}while(null!==Qo);if(0!==(6&To))throw Error(l(327));a=e.finishedWork;var r=e.finishedLanes;if(null===a)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(l(177));e.callbackNode=null,e.callbackPriority=0;var s=a.lanes|a.childLanes;if(function(e,t){var a=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<a;){var r=31-st(a),l=1<<r;t[r]=0,n[r]=-1,e[r]=-1,a&=~l}}(e,s),e===Eo&&(Ao=Eo=null,Co=0),0===(2064&a.subtreeFlags)&&0===(2064&a.flags)||$o||($o=!0,Ec(tt,function(){return Nc(),null})),s=0!==(15990&a.flags),0!==(15990&a.subtreeFlags)||s){s=Po.transition,Po.transition=null;var i=bt;bt=1;var o=To;To|=4,ko.current=null,function(e,t){if(er=qt,hn(e=mn())){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(a=(a=e.ownerDocument)&&a.defaultView||window).getSelection&&a.getSelection();if(n&&0!==n.rangeCount){a=n.anchorNode;var r=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{a.nodeType,s.nodeType}catch(j){a=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var f;m!==a||0!==r&&3!==m.nodeType||(o=i+r),m!==s||0!==n&&3!==m.nodeType||(c=i+n),3===m.nodeType&&(i+=m.nodeValue.length),null!==(f=m.firstChild);)h=m,m=f;for(;;){if(m===e)break t;if(h===a&&++d===r&&(o=i),h===s&&++u===n&&(c=i),null!==(f=m.nextSibling))break;h=(m=h).parentNode}m=f}a=-1===o||-1===c?null:{start:o,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(tr={focusedElem:e,selectionRange:a},qt=!1,Ji=t;null!==Ji;)if(e=(t=Ji).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ji=e;else for(;null!==Ji;){t=Ji;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var v=p.memoizedProps,x=p.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:ti(t.type,v),x);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(l(163))}}catch(j){wc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Ji=e;break}Ji=t.return}p=eo,eo=!1}(e,a),vo(a,e),fn(tr),qt=!!er,tr=er=null,e.current=a,go(a,e,r),Ke(),To=o,bt=i,Po.transition=s}else e.current=a;if($o&&($o=!1,Qo=e,Go=r),s=e.pendingLanes,0===s&&(Wo=null),function(e){if(lt&&"function"===typeof lt.onCommitFiberRoot)try{lt.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(a.stateNode),nc(e,Je()),null!==t)for(n=e.onRecoverableError,a=0;a<t.length;a++)r=t[a],n(r.value,{componentStack:r.stack,digest:r.digest});if(qo)throw qo=!1,e=Yo,Yo=null,e;0!==(1&Go)&&0!==e.tag&&Nc(),s=e.pendingLanes,0!==(1&s)?e===Jo?Ko++:(Ko=0,Jo=e):Ko=0,Br()}(e,t,a,n)}finally{Po.transition=r,bt=n}return null}function Nc(){if(null!==Qo){var e=yt(Go),t=Po.transition,a=bt;try{if(Po.transition=null,bt=16>e?16:e,null===Qo)var n=!1;else{if(e=Qo,Qo=null,Go=0,0!==(6&To))throw Error(l(331));var r=To;for(To|=4,Ji=e.current;null!==Ji;){var s=Ji,i=s.child;if(0!==(16&Ji.flags)){var o=s.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Ji=d;null!==Ji;){var u=Ji;switch(u.tag){case 0:case 11:case 15:to(8,u,s)}var m=u.child;if(null!==m)m.return=u,Ji=m;else for(;null!==Ji;){var h=(u=Ji).sibling,f=u.return;if(ro(u),u===d){Ji=null;break}if(null!==h){h.return=f,Ji=h;break}Ji=f}}}var p=s.alternate;if(null!==p){var v=p.child;if(null!==v){p.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(null!==v)}}Ji=s}}if(0!==(2064&s.subtreeFlags)&&null!==i)i.return=s,Ji=i;else e:for(;null!==Ji;){if(0!==(2048&(s=Ji).flags))switch(s.tag){case 0:case 11:case 15:to(9,s,s.return)}var g=s.sibling;if(null!==g){g.return=s.return,Ji=g;break e}Ji=s.return}}var b=e.current;for(Ji=b;null!==Ji;){var y=(i=Ji).child;if(0!==(2064&i.subtreeFlags)&&null!==y)y.return=i,Ji=y;else e:for(i=b;null!==Ji;){if(0!==(2048&(o=Ji).flags))try{switch(o.tag){case 0:case 11:case 15:ao(9,o)}}catch(N){wc(o,o.return,N)}if(o===i){Ji=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,Ji=j;break e}Ji=o.return}}if(To=r,Br(),lt&&"function"===typeof lt.onPostCommitFiberRoot)try{lt.onPostCommitFiberRoot(rt,e)}catch(N){}n=!0}return n}finally{bt=a,Po.transition=t}}return!1}function _c(e,t,a){e=zl(e,t=mi(0,t=oi(a,t),1),1),t=ec(),null!==e&&(xt(e,1,t),nc(e,t))}function wc(e,t,a){if(3===e.tag)_c(e,e,a);else for(;null!==t;){if(3===t.tag){_c(t,e,a);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Wo||!Wo.has(n))){t=zl(t,e=hi(t,e=oi(a,e),1),1),e=ec(),null!==t&&(xt(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,a){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&a,Eo===e&&(Co&a)===a&&(4===Lo||3===Lo&&(130023424&Co)===Co&&500>Je()-Ho?mc(e,0):Fo|=a),nc(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var a=ec();null!==(e=Ll(e,t))&&(xt(e,t,a),nc(e,a))}function Pc(e){var t=e.memoizedState,a=0;null!==t&&(a=t.retryLane),kc(e,a)}function Tc(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,r=e.memoizedState;null!==r&&(a=r.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(l(314))}null!==n&&n.delete(t),kc(e,a)}function Ec(e,t){return $e(e,t)}function Ac(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cc(e,t,a,n){return new Ac(e,t,a,n)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var a=e.alternate;return null===a?((a=Cc(e.tag,t,e.key,e.mode)).elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=14680064&e.flags,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Lc(e,t,a,n,r,s){var i=2;if(n=e,"function"===typeof e)Mc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case _:return Rc(a.children,r,s,t);case w:i=8,r|=8;break;case S:return(e=Cc(12,a,t,2|r)).elementType=S,e.lanes=s,e;case E:return(e=Cc(13,a,t,r)).elementType=E,e.lanes=s,e;case A:return(e=Cc(19,a,t,r)).elementType=A,e.lanes=s,e;case O:return Ic(a,r,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:i=10;break e;case P:i=9;break e;case T:i=11;break e;case C:i=14;break e;case M:i=16,n=null;break e}throw Error(l(130,null==e?e:typeof e,""))}return(t=Cc(i,a,t,r)).elementType=e,t.type=n,t.lanes=s,t}function Rc(e,t,a,n){return(e=Cc(7,e,n,t)).lanes=a,e}function Ic(e,t,a,n){return(e=Cc(22,e,n,t)).elementType=O,e.lanes=a,e.stateNode={isHidden:!1},e}function Dc(e,t,a){return(e=Cc(6,e,null,t)).lanes=a,e}function Fc(e,t,a){return(t=Cc(4,null!==e.children?e.children:[],e.key,t)).lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,a,n,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Uc(e,t,a,n,r,l,s,i,o){return e=new zc(e,t,a,i,o),1===t?(t=1,!0===l&&(t|=8)):t=0,l=Cc(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Il(l),e}function Hc(e){if(!e)return Pr;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(l(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(l(171))}if(1===e.tag){var a=e.type;if(Mr(a))return Rr(e,a,t)}return t}function Bc(e,t,a,n,r,l,s,i,o){return(e=Uc(a,n,!0,e,0,l,0,i,o)).context=Hc(null),a=e.current,(l=Fl(n=ec(),r=tc(a))).callback=void 0!==t&&null!==t?t:null,zl(a,l,r),e.current.lanes=r,xt(e,r,n),nc(e,n),e}function Vc(e,t,a,n){var r=t.current,l=ec(),s=tc(r);return a=Hc(a),null===t.context?t.context=a:t.pendingContext=a,(t=Fl(l,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=zl(r,t,s))&&(ac(e,r,s,l),Ul(e,r,s)),s}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var a=e.retryLane;e.retryLane=0!==a&&a<t?a:t}}function Wc(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}_o=function(e,t,a){if(null!==e)if(e.memoizedProps!==t.pendingProps||Er.current)gi=!0;else{if(0===(e.lanes&a)&&0===(128&t.flags))return gi=!1,function(e,t,a){switch(t.tag){case 3:Ti(t),hl();break;case 5:Jl(t);break;case 1:Mr(t.type)&&Ir(t);break;case 4:Gl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,r=t.memoizedProps.value;kr(Nl,n._currentValue),n._currentValue=r;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(kr(Zl,1&Zl.current),t.flags|=128,null):0!==(a&t.child.childLanes)?Ii(e,t,a):(kr(Zl,1&Zl.current),null!==(e=Vi(e,t,a))?e.sibling:null);kr(Zl,1&Zl.current);break;case 19:if(n=0!==(a&t.childLanes),0!==(128&e.flags)){if(n)return Hi(e,t,a);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),kr(Zl,Zl.current),n)break;return null;case 22:case 23:return t.lanes=0,_i(e,t,a)}return Vi(e,t,a)}(e,t,a);gi=0!==(131072&e.flags)}else gi=!1,rl&&0!==(1048576&t.flags)&&Zr(t,Wr,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Bi(e,t),e=t.pendingProps;var r=Cr(t,Tr.current);El(t,a),r=ps(null,t,n,e,r,a);var s=vs();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mr(n)?(s=!0,Ir(t)):s=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Il(t),r.updater=ni,t.stateNode=r,r._reactInternals=t,ii(t,n,e,a),t=Pi(null,t,n,!0,s,a)):(t.tag=0,rl&&s&&el(t),bi(null,t,r,a),t=t.child),t;case 16:n=t.elementType;e:{switch(Bi(e,t),e=t.pendingProps,n=(r=n._init)(n._payload),t.type=n,r=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===C)return 14}return 2}(n),e=ti(n,e),r){case 0:t=Si(null,t,n,e,a);break e;case 1:t=ki(null,t,n,e,a);break e;case 11:t=yi(null,t,n,e,a);break e;case 14:t=ji(null,t,n,ti(n.type,e),a);break e}throw Error(l(306,n,""))}return t;case 0:return n=t.type,r=t.pendingProps,Si(e,t,n,r=t.elementType===n?r:ti(n,r),a);case 1:return n=t.type,r=t.pendingProps,ki(e,t,n,r=t.elementType===n?r:ti(n,r),a);case 3:e:{if(Ti(t),null===e)throw Error(l(387));n=t.pendingProps,r=(s=t.memoizedState).element,Dl(e,t),Bl(t,n,null,a);var i=t.memoizedState;if(n=i.element,s.isDehydrated){if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ei(e,t,n,a,r=oi(Error(l(423)),t));break e}if(n!==r){t=Ei(e,t,n,a,r=oi(Error(l(424)),t));break e}for(nl=cr(t.stateNode.containerInfo.firstChild),al=t,rl=!0,ll=null,a=jl(t,null,n,a),t.child=a;a;)a.flags=-3&a.flags|4096,a=a.sibling}else{if(hl(),n===r){t=Vi(e,t,a);break e}bi(e,t,n,a)}t=t.child}return t;case 5:return Jl(t),null===e&&cl(t),n=t.type,r=t.pendingProps,s=null!==e?e.memoizedProps:null,i=r.children,ar(n,r)?i=null:null!==s&&ar(n,s)&&(t.flags|=32),wi(e,t),bi(e,t,i,a),t.child;case 6:return null===e&&cl(t),null;case 13:return Ii(e,t,a);case 4:return Gl(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=yl(t,null,n,a):bi(e,t,n,a),t.child;case 11:return n=t.type,r=t.pendingProps,yi(e,t,n,r=t.elementType===n?r:ti(n,r),a);case 7:return bi(e,t,t.pendingProps,a),t.child;case 8:case 12:return bi(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(n=t.type._context,r=t.pendingProps,s=t.memoizedProps,i=r.value,kr(Nl,n._currentValue),n._currentValue=i,null!==s)if(sn(s.value,i)){if(s.children===r.children&&!Er.current){t=Vi(e,t,a);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var o=s.dependencies;if(null!==o){i=s.child;for(var c=o.firstContext;null!==c;){if(c.context===n){if(1===s.tag){(c=Fl(-1,a&-a)).tag=2;var d=s.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=a,null!==(c=s.alternate)&&(c.lanes|=a),Tl(s.return,a,t),o.lanes|=a;break}c=c.next}}else if(10===s.tag)i=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(i=s.return))throw Error(l(341));i.lanes|=a,null!==(o=i.alternate)&&(o.lanes|=a),Tl(i,a,t),i=s.sibling}else i=s.child;if(null!==i)i.return=s;else for(i=s;null!==i;){if(i===t){i=null;break}if(null!==(s=i.sibling)){s.return=i.return,i=s;break}i=i.return}s=i}bi(e,t,r.children,a),t=t.child}return t;case 9:return r=t.type,n=t.pendingProps.children,El(t,a),n=n(r=Al(r)),t.flags|=1,bi(e,t,n,a),t.child;case 14:return r=ti(n=t.type,t.pendingProps),ji(e,t,n,r=ti(n.type,r),a);case 15:return Ni(e,t,t.type,t.pendingProps,a);case 17:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:ti(n,r),Bi(e,t),t.tag=1,Mr(n)?(e=!0,Ir(t)):e=!1,El(t,a),li(t,n,r),ii(t,n,r,a),Pi(null,t,n,!0,e,a);case 19:return Hi(e,t,a);case 22:return _i(e,t,a)}throw Error(l(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,a,n,r){var l=a._reactRootContainer;if(l){var s=l;if("function"===typeof r){var i=r;r=function(){var e=qc(s);i.call(e)}}Vc(t,s,e,r)}else s=function(e,t,a,n,r){if(r){if("function"===typeof n){var l=n;n=function(){var e=qc(s);l.call(e)}}var s=Bc(t,n,e,0,null,!1,0,"",Xc);return e._reactRootContainer=s,e[fr]=s.current,Bn(8===e.nodeType?e.parentNode:e),dc(),s}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof n){var i=n;n=function(){var e=qc(o);i.call(e)}}var o=Uc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=o,e[fr]=o.current,Bn(8===e.nodeType?e.parentNode:e),dc(function(){Vc(t,o,a,n)}),o}(a,t,e,r,n);return qc(s)}Gc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(l(409));Vc(e,t,null,null)},Gc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Vc(null,e,null,null)}),t[fr]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=wt();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ot.length&&0!==t&&t<Ot[a].priority;a++);Ot.splice(a,0,e),0===a&&Dt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var a=ut(t.pendingLanes);0!==a&&(gt(t,1|a),nc(t,Je()),0===(6&To)&&(Bo=Je()+500,Br()))}break;case 13:dc(function(){var t=Ll(e,1);if(null!==t){var a=ec();ac(t,e,1,a)}}),Wc(e,1)}},Nt=function(e){if(13===e.tag){var t=Ll(e,134217728);if(null!==t)ac(t,e,134217728,ec());Wc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),a=Ll(e,t);if(null!==a)ac(a,e,t,ec());Wc(e,t)}},wt=function(){return bt},St=function(e,t){var a=bt;try{return bt=e,t()}finally{bt=a}},Ne=function(e,t,a){switch(t){case"input":if(X(e,a),t=a.name,"radio"===a.type&&null!=t){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var r=jr(n);if(!r)throw Error(l(90));$(n),X(n,r)}}}break;case"textarea":le(e,a);break;case"select":null!=(t=a.value)&&ae(e,!!a.multiple,t,!1)}},Te=cc,Ee=dc;var ed={usingClientEntryPoint:!1,Events:[br,yr,jr,ke,Pe,cc]},td={findFiberByHostInstance:gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ad={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{rt=nd.inject(ad),lt=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(l(200));return function(e,t,a){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==n?null:""+n,children:e,containerInfo:t,implementation:a}}(e,t,null,a)},t.createRoot=function(e,t){if(!Kc(e))throw Error(l(299));var a=!1,n="",r=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(a=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Uc(e,1,!1,null,0,a,0,n,r),e[fr]=t.current,Bn(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(l(188));throw e=Object.keys(e).join(","),Error(l(268,e))}return e=null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,a){if(!Jc(t))throw Error(l(200));return Zc(null,e,t,!0,a)},t.hydrateRoot=function(e,t,a){if(!Kc(e))throw Error(l(405));var n=null!=a&&a.hydratedSources||null,r=!1,s="",i=$c;if(null!==a&&void 0!==a&&(!0===a.unstable_strictMode&&(r=!0),void 0!==a.identifierPrefix&&(s=a.identifierPrefix),void 0!==a.onRecoverableError&&(i=a.onRecoverableError)),t=Bc(t,null,e,1,null!=a?a:null,r,0,s,i),e[fr]=t.current,Bn(e),n)for(e=0;e<n.length;e++)r=(r=(a=n[e])._getVersion)(a._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[a,r]:t.mutableSourceEagerHydrationData.push(a,r);return new Gc(t)},t.render=function(e,t,a){if(!Jc(t))throw Error(l(200));return Zc(null,e,t,!1,a)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(l(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[fr]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,a,n){if(!Jc(a))throw Error(l(200));if(null==e||void 0===e._reactInternals)throw Error(l(38));return Zc(e,t,a,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,a)=>{e.exports=a(234)},950:(e,t,a)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=a(730)}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var l=t[n]={exports:{}};return e[n](l,l.exports,a),l.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;a.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var l=Object.create(null);a.r(l);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&r&&n;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>s[e]=()=>n[e]);return s.default=()=>n,a.d(l,s),l}})(),a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n,r=a(43),l=a.t(r,2),s=a(391);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(n||(n={}));const o="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(a){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,a,n){return void 0===a&&(a=null),i({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:a,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:a="",hash:n=""}=e;return a&&"?"!==a&&(t+="?"===a.charAt(0)?a:"?"+a),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function f(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substr(a),e=e.substr(0,a));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function p(e,t,a,r){void 0===r&&(r={});let{window:l=document.defaultView,v5Compat:s=!1}=r,d=l.history,f=n.Pop,p=null,v=x();function x(){return(d.state||{idx:null}).idx}function g(){f=n.Pop;let e=x(),t=null==e?null:e-v;v=e,p&&p({action:f,location:y.location,delta:t})}function b(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,a="string"===typeof e?e:h(e);return a=a.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+a),new URL(a,t)}null==v&&(v=0,d.replaceState(i({},d.state,{idx:v}),""));let y={get action(){return f},get location(){return e(l,d)},listen(e){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(o,g),p=e,()=>{l.removeEventListener(o,g),p=null}},createHref:e=>t(l,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=n.Push;let r=m(y.location,e,t);a&&a(r,e),v=x()+1;let i=u(r,v),o=y.createHref(r);try{d.pushState(i,"",o)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;l.location.assign(o)}s&&p&&p({action:f,location:y.location,delta:1})},replace:function(e,t){f=n.Replace;let r=m(y.location,e,t);a&&a(r,e),v=x();let l=u(r,v),i=y.createHref(r);d.replaceState(l,"",i),s&&p&&p({action:f,location:y.location,delta:0})},go:e=>d.go(e)};return y}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function x(e,t,a){return void 0===a&&(a="/"),g(e,t,a,!1)}function g(e,t,a,n){let r=M(("string"===typeof t?f(t):t).pathname||"/",a);if(null==r)return null;let l=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let a=e.length===t.length&&e.slice(0,-1).every((e,a)=>e===t[a]);return a?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(l);let s=null;for(let i=0;null==s&&i<l.length;++i){let e=C(r);s=E(l[i],e,n)}return s}function b(e,t,a,n){void 0===t&&(t=[]),void 0===a&&(a=[]),void 0===n&&(n="");let r=(e,r,l)=>{let s={relativePath:void 0===l?e.path||"":l,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};s.relativePath.startsWith("/")&&(c(s.relativePath.startsWith(n),'Absolute route path "'+s.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(n.length));let i=D([n,s.relativePath]),o=a.concat(s);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),b(e.children,t,o,i)),(null!=e.path||e.index)&&t.push({path:i,score:T(i,e.index),routesMeta:o})};return e.forEach((e,t)=>{var a;if(""!==e.path&&null!=(a=e.path)&&a.includes("?"))for(let n of y(e.path))r(e,t,n);else r(e,t)}),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[a,...n]=t,r=a.endsWith("?"),l=a.replace(/\?$/,"");if(0===n.length)return r?[l,""]:[l];let s=y(n.join("/")),i=[];return i.push(...s.map(e=>""===e?l:[l,e].join("/"))),r&&i.push(...s),i.map(t=>e.startsWith("/")&&""===t?"/":t)}const j=/^:[\w-]+$/,N=3,_=2,w=1,S=10,k=-2,P=e=>"*"===e;function T(e,t){let a=e.split("/"),n=a.length;return a.some(P)&&(n+=k),t&&(n+=_),a.filter(e=>!P(e)).reduce((e,t)=>e+(j.test(t)?N:""===t?w:S),n)}function E(e,t,a){void 0===a&&(a=!1);let{routesMeta:n}=e,r={},l="/",s=[];for(let i=0;i<n.length;++i){let e=n[i],o=i===n.length-1,c="/"===l?t:t.slice(l.length)||"/",d=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&a&&!n[n.length-1].route.index&&(d=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),s.push({params:r,pathname:D([l,d.pathname]),pathnameBase:F(D([l,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(l=D([l,d.pathnameBase]))}return s}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[a,n]=function(e,t,a){void 0===t&&(t=!1);void 0===a&&(a=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,a)=>(n.push({paramName:t,isOptional:null!=a}),a?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(n.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let l=new RegExp(r,t?void 0:"i");return[l,n]}(e.path,e.caseSensitive,e.end),r=t.match(a);if(!r)return null;let l=r[0],s=l.replace(/(.)\/+$/,"$1"),i=r.slice(1);return{params:n.reduce((e,t,a)=>{let{paramName:n,isOptional:r}=t;if("*"===n){let e=i[a]||"";s=l.slice(0,l.length-e.length).replace(/(.)\/+$/,"$1")}const o=i[a];return e[n]=r&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:l,pathnameBase:s,pattern:e}}function C(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function M(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,n=e.charAt(a);return n&&"/"!==n?null:e.slice(a)||"/"}function O(e,t,a,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+a+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function R(e,t){let a=L(e);return t?a.map((e,t)=>t===a.length-1?e.pathname:e.pathnameBase):a.map(e=>e.pathnameBase)}function I(e,t,a,n){let r;void 0===n&&(n=!1),"string"===typeof e?r=f(e):(r=i({},e),c(!r.pathname||!r.pathname.includes("?"),O("?","pathname","search",r)),c(!r.pathname||!r.pathname.includes("#"),O("#","pathname","hash",r)),c(!r.search||!r.search.includes("#"),O("#","search","hash",r)));let l,s=""===e||""===r.pathname,o=s?"/":r.pathname;if(null==o)l=a;else{let e=t.length-1;if(!n&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}l=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:a,search:n="",hash:r=""}="string"===typeof e?f(e):e,l=a?a.startsWith("/")?a:function(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?a.length>1&&a.pop():"."!==e&&a.push(e)}),a.length>1?a.join("/"):"/"}(a,t):t;return{pathname:l,search:z(n),hash:U(r)}}(r,l),u=o&&"/"!==o&&o.endsWith("/"),m=(s||"."===o)&&a.endsWith("/");return d.pathname.endsWith("/")||!u&&!m||(d.pathname+="/"),d}const D=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],V=(new Set(B),["get",...B]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},q.apply(this,arguments)}const Y=r.createContext(null);const W=r.createContext(null);const $=r.createContext(null);const Q=r.createContext(null);const G=r.createContext({outlet:null,matches:[],isDataRoute:!1});const K=r.createContext(null);function J(){return null!=r.useContext(Q)}function X(){return J()||c(!1),r.useContext(Q).location}function Z(e){r.useContext($).static||r.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=r.useContext(G);return e?function(){let{router:e}=de(oe.UseNavigateStable),t=me(ce.UseNavigateStable),a=r.useRef(!1);return Z(()=>{a.current=!0}),r.useCallback(function(n,r){void 0===r&&(r={}),a.current&&("number"===typeof n?e.navigate(n):e.navigate(n,q({fromRouteId:t},r)))},[e,t])}():function(){J()||c(!1);let e=r.useContext(Y),{basename:t,future:a,navigator:n}=r.useContext($),{matches:l}=r.useContext(G),{pathname:s}=X(),i=JSON.stringify(R(l,a.v7_relativeSplatPath)),o=r.useRef(!1);return Z(()=>{o.current=!0}),r.useCallback(function(a,r){if(void 0===r&&(r={}),!o.current)return;if("number"===typeof a)return void n.go(a);let l=I(a,JSON.parse(i),s,"path"===r.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:D([t,l.pathname])),(r.replace?n.replace:n.push)(l,r.state,r)},[t,n,i,s,e])}()}function te(e,t){let{relative:a}=void 0===t?{}:t,{future:n}=r.useContext($),{matches:l}=r.useContext(G),{pathname:s}=X(),i=JSON.stringify(R(l,n.v7_relativeSplatPath));return r.useMemo(()=>I(e,JSON.parse(i),s,"path"===a),[e,i,s,a])}function ae(e,t,a,l){J()||c(!1);let{navigator:s}=r.useContext($),{matches:i}=r.useContext(G),o=i[i.length-1],d=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let m,h=X();if(t){var p;let e="string"===typeof t?f(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||c(!1),m=e}else m=h;let v=m.pathname||"/",g=v;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=x(e,{pathname:g});let y=ie(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:D([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:D([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,a,l);return t&&y?r.createElement(Q.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:n.Pop}},y):y}function ne(){let e=function(){var e;let t=r.useContext(K),a=ue(ce.UseRouteError),n=me(ce.UseRouteError);if(void 0!==t)return t;return null==(e=a.errors)?void 0:e[n]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:n};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),a?r.createElement("pre",{style:l},a):null,null)}const re=r.createElement(ne,null);class le extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(G.Provider,{value:this.props.routeContext},r.createElement(K.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:t,match:a,children:n}=e,l=r.useContext(Y);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),r.createElement(G.Provider,{value:t},n)}function ie(e,t,a,n){var l;if(void 0===t&&(t=[]),void 0===a&&(a=null),void 0===n&&(n=null),null==e){var s;if(!a)return null;if(a.errors)e=a.matches;else{if(!(null!=(s=n)&&s.v7_partialHydration&&0===t.length&&!a.initialized&&a.matches.length>0))return null;e=a.matches}}let i=e,o=null==(l=a)?void 0:l.errors;if(null!=o){let e=i.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||c(!1),i=i.slice(0,Math.min(i.length,e+1))}let d=!1,u=-1;if(a&&n&&n.v7_partialHydration)for(let r=0;r<i.length;r++){let e=i[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=r),e.route.id){let{loaderData:t,errors:n}=a,r=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||r){d=!0,i=u>=0?i.slice(0,u+1):[i[0]];break}}}return i.reduceRight((e,n,l)=>{let s,c=!1,m=null,h=null;var f;a&&(s=o&&n.route.id?o[n.route.id]:void 0,m=n.route.errorElement||re,d&&(u<0&&0===l?(f="route-fallback",!1||he[f]||(he[f]=!0),c=!0,h=null):u===l&&(c=!0,h=n.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,l+1)),v=()=>{let t;return t=s?m:c?h:n.route.Component?r.createElement(n.route.Component,null):n.route.element?n.route.element:e,r.createElement(se,{match:n,routeContext:{outlet:e,matches:p,isDataRoute:null!=a},children:t})};return a&&(n.route.ErrorBoundary||n.route.errorElement||0===l)?r.createElement(le,{location:a.location,revalidation:a.revalidation,component:m,error:s,children:v(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):v()},null)}var oe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oe||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function de(e){let t=r.useContext(Y);return t||c(!1),t}function ue(e){let t=r.useContext(W);return t||c(!1),t}function me(e){let t=function(){let e=r.useContext(G);return e||c(!1),e}(),a=t.matches[t.matches.length-1];return a.route.id||c(!1),a.route.id}const he={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}l.startTransition;function pe(e){c(!1)}function ve(e){let{basename:t="/",children:a=null,location:l,navigationType:s=n.Pop,navigator:i,static:o=!1,future:d}=e;J()&&c(!1);let u=t.replace(/^\/*/,"/"),m=r.useMemo(()=>({basename:u,navigator:i,static:o,future:q({v7_relativeSplatPath:!1},d)}),[u,d,i,o]);"string"===typeof l&&(l=f(l));let{pathname:h="/",search:p="",hash:v="",state:x=null,key:g="default"}=l,b=r.useMemo(()=>{let e=M(h,u);return null==e?null:{location:{pathname:e,search:p,hash:v,state:x,key:g},navigationType:s}},[u,h,p,v,x,g,s]);return null==b?null:r.createElement($.Provider,{value:m},r.createElement(Q.Provider,{children:a,value:b}))}function xe(e){let{children:t,location:a}=e;return ae(ge(t),a)}new Promise(()=>{});r.Component;function ge(e,t){void 0===t&&(t=[]);let a=[];return r.Children.forEach(e,(e,n)=>{if(!r.isValidElement(e))return;let l=[...t,n];if(e.type===r.Fragment)return void a.push.apply(a,ge(e.props.children,l));e.type!==pe&&c(!1),e.props.index&&e.props.children&&c(!1);let s={id:e.props.id||l.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ge(e.props.children,l)),a.push(s)}),a}var be=a(950),ye=a.t(be,2);function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},je.apply(this,arguments)}function Ne(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const _e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Jt){}new Map;const we=l.startTransition;ye.flushSync,l.useId;function Se(e){let{basename:t,children:a,future:n,window:l}=e,s=r.useRef();var i;null==s.current&&(s.current=(void 0===(i={window:l,v5Compat:!0})&&(i={}),p(function(e,t){let{pathname:a,search:n,hash:r}=e.location;return m("",{pathname:a,search:n,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:h(t)},null,i)));let o=s.current,[c,d]=r.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},f=r.useCallback(e=>{u&&we?we(()=>d(e)):d(e)},[d,u]);return r.useLayoutEffect(()=>o.listen(f),[o,f]),r.useEffect(()=>fe(n),[n]),r.createElement(ve,{basename:t,children:a,location:c.location,navigationType:c.action,navigator:o,future:n})}const ke="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=r.forwardRef(function(e,t){let a,{onClick:n,relative:l,reloadDocument:s,replace:i,state:o,target:d,to:u,preventScrollReset:m,viewTransition:f}=e,p=Ne(e,_e),{basename:v}=r.useContext($),x=!1;if("string"===typeof u&&Pe.test(u)&&(a=u,ke))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),a=M(t.pathname,v);t.origin===e.origin&&null!=a?u=a+t.search+t.hash:x=!0}catch(Jt){}let g=function(e,t){let{relative:a}=void 0===t?{}:t;J()||c(!1);let{basename:n,navigator:l}=r.useContext($),{hash:s,pathname:i,search:o}=te(e,{relative:a}),d=i;return"/"!==n&&(d="/"===i?n:D([n,i])),l.createHref({pathname:d,search:o,hash:s})}(u,{relative:l}),b=function(e,t){let{target:a,replace:n,state:l,preventScrollReset:s,relative:i,viewTransition:o}=void 0===t?{}:t,c=ee(),d=X(),u=te(e,{relative:i});return r.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,a)){t.preventDefault();let a=void 0!==n?n:h(d)===h(u);c(e,{replace:a,state:l,preventScrollReset:s,relative:i,viewTransition:o})}},[d,c,u,n,l,a,e,s,i,o])}(u,{replace:i,state:o,target:d,preventScrollReset:m,relative:l,viewTransition:f});return r.createElement("a",je({},p,{href:a||g,onClick:x||s?n:function(e){n&&n(e),e.defaultPrevented||b(e)},ref:t,target:d}))});var Ee,Ae;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ee||(Ee={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ae||(Ae={}));function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function Me(e){var t=function(e,t){if("object"!=Ce(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=Ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ce(t)?t:t+""}function Oe(e,t,a){return(t=Me(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(a),!0).forEach(function(t){Oe(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Le(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const Ie={PENDING:"pending",RUNNING:"running",COMPLETED:"completed",FAILED:"failed"},De={CHATGPT:"chatgpt",GEMINI:"gemini"},Fe={email:"",prompt_id:null,seed_paper_id:null,llm_provider:De.CHATGPT,model_name:"",comment:null};var ze=a(579);const Ue=e=>{let{email:t,setEmail:a,comment:n,setComment:l,seedPapers:s,selectedSeedPaper:i,setSelectedSeedPaper:o,groundTruthReferences:c,prompts:d,selectedPrompt:u,setSelectedPrompt:m,llmModels:h,selectedLlmProvider:f,setSelectedLlmProvider:p,selectedLlmModel:v,setSelectedLlmModel:x,onExecuteWorkflow:g,isExecuteButtonEnabled:b,onOpenModal:y,loading:j}=e;const[N,_]=(0,r.useState)(!1),w=f===De.CHATGPT?h.chatgpt_models:h.gemini_models,S=i?d.filter(e=>e.seed_paper_id===i.id):[];(0,r.useEffect)(()=>{_(!1)},[null===u||void 0===u?void 0:u.id]);return(0,ze.jsxs)("div",{className:"card",children:[(0,ze.jsx)("div",{className:"card-header",children:(0,ze.jsxs)("h5",{children:[(0,ze.jsx)("i",{className:"fas fa-cog"})," Configuration"]})}),(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsxs)("div",{className:"mb-3",children:[(0,ze.jsxs)("label",{htmlFor:"email",className:"form-label",children:[(0,ze.jsx)("i",{className:"fas fa-envelope"})," Email Address"]}),(0,ze.jsx)("input",{type:"email",className:"form-control",id:"email",value:t,onChange:e=>a(e.target.value),placeholder:"your.email@example.com",required:!0}),(0,ze.jsx)("div",{className:"form-text",children:"Required for OpenAlex API access"})]}),(0,ze.jsxs)("div",{className:"mb-3",children:[(0,ze.jsxs)("label",{htmlFor:"seedPaper",className:"form-label",children:[(0,ze.jsx)("i",{className:"fas fa-seedling"})," Seed Paper"]}),(0,ze.jsxs)("select",{className:"form-select",id:"seedPaper",value:(null===i||void 0===i?void 0:i.id)||"",onChange:e=>{const t=s.find(t=>t.id===parseInt(e.target.value));o(t||null)},required:!0,children:[(0,ze.jsx)("option",{value:"",children:"Select a seed paper..."}),s.map(e=>(0,ze.jsxs)("option",{value:e.id,children:[e.title," ",e.year&&"(".concat(e.year,")")]},e.id))]}),(0,ze.jsx)("div",{className:"mt-2",children:(0,ze.jsxs)("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>y("seed-paper"),disabled:j,children:[(0,ze.jsx)("i",{className:"fas fa-plus"})," Add New Seed Paper"]})})]}),(0,ze.jsxs)("div",{className:"mb-3",children:[(0,ze.jsxs)("label",{className:"form-label",children:[(0,ze.jsx)("i",{className:"fas fa-book"})," Ground Truth References"]}),(0,ze.jsx)("div",{className:"mb-2",children:(0,ze.jsxs)("button",{className:"btn btn-outline-success btn-sm",onClick:()=>y("ground-truth"),disabled:!i||j,children:[(0,ze.jsx)("i",{className:"fas fa-plus"})," Add Ground Truth References"]})}),(0,ze.jsx)("div",{className:"border rounded p-2",style:{maxHeight:"200px",overflowY:"auto"},children:c.length>0?(0,ze.jsx)("div",{children:c.map(e=>(0,ze.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[(0,ze.jsx)("small",{className:"text-truncate me-2",title:e.title,children:e.title}),(0,ze.jsx)("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{},disabled:j,children:(0,ze.jsx)("i",{className:"fas fa-trash"})})]},e.id))}):(0,ze.jsx)("small",{className:"text-muted",children:"No ground truth references selected"})}),(0,ze.jsx)("div",{className:"mt-2 text-muted",children:(0,ze.jsx)("small",{children:(0,ze.jsxs)("strong",{children:["Ground Truth Count: ",c.length]})})})]}),(0,ze.jsxs)("div",{className:"mb-3",children:[(0,ze.jsxs)("label",{htmlFor:"prompt",className:"form-label",children:[(0,ze.jsx)("i",{className:"fas fa-file-text"})," Prompt"]}),(0,ze.jsxs)("select",{className:"form-select",id:"prompt",value:(null===u||void 0===u?void 0:u.id)||"",onChange:e=>{const t=S.find(t=>t.id===parseInt(e.target.value));m(t||null)},required:!0,disabled:!i,children:[(0,ze.jsx)("option",{value:"",children:i?0===S.length?"No prompts available for this seed paper":"Select a prompt...":"Select a seed paper first..."}),S.map(e=>(0,ze.jsxs)("option",{value:e.id,children:[e.file_path,e.version?" (".concat(e.version,")"):""]},e.id))]}),(0,ze.jsx)("div",{className:"mt-2",children:(0,ze.jsxs)("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>y("prompt"),disabled:!i||j,children:[(0,ze.jsx)("i",{className:"fas fa-plus"})," Add New Prompt"]})}),(null===u||void 0===u?void 0:u.version)&&(0,ze.jsx)("div",{className:"mt-2",children:(0,ze.jsxs)("span",{className:"badge bg-secondary",children:["Version: ",u.version]})}),(null===u||void 0===u?void 0:u.content)&&(0,ze.jsx)("div",{className:"mt-2",children:(0,ze.jsx)("textarea",{className:"form-control",readOnly:!0,rows:N?8:2,value:((e,t)=>{if(!e)return"";const a=e.trim().split(/\s+/),n=a.slice(0,20).join(" ");return t?e.trim()+" ...show less":n+(a.length>20?" ...more":"")})(u.content,N),onClick:()=>_(!N),style:{resize:"none",fontSize:"0.9em",cursor:"pointer"}})})]}),(0,ze.jsxs)("div",{className:"mb-3",children:[(0,ze.jsxs)("label",{className:"form-label",children:[(0,ze.jsx)("i",{className:"fas fa-robot"})," LLM Configuration"]}),(0,ze.jsxs)("div",{className:"row",children:[(0,ze.jsx)("div",{className:"col-6",children:(0,ze.jsxs)("select",{className:"form-select",value:f,onChange:e=>p(e.target.value),required:!0,children:[(0,ze.jsx)("option",{value:De.CHATGPT,children:"ChatGPT"}),(0,ze.jsx)("option",{value:De.GEMINI,children:"Gemini"})]})}),(0,ze.jsx)("div",{className:"col-6",children:(0,ze.jsxs)("select",{className:"form-select",value:v,onChange:e=>x(e.target.value),required:!0,children:[(0,ze.jsx)("option",{value:"",children:"Select model..."}),w.map(e=>(0,ze.jsx)("option",{value:e,children:e},e))]})})]})]}),(0,ze.jsxs)("div",{className:"mb-3",children:[(0,ze.jsxs)("label",{htmlFor:"comment",className:"form-label",children:[(0,ze.jsx)("i",{className:"fas fa-comment"})," Comment (optional)"]}),(0,ze.jsx)("textarea",{id:"comment",className:"form-control",rows:3,value:n,onChange:e=>l(e.target.value),placeholder:"Add a note about this execution..."})]}),(0,ze.jsx)("div",{className:"d-grid",children:(0,ze.jsxs)("button",{className:"btn btn-success btn-lg",onClick:g,disabled:!b,children:[(0,ze.jsx)("i",{className:"fas fa-play"})," Execute Workflow"]})})]})]})};function He(e){if(!e)return"";const t=Date.now(),a=e instanceof Date?e.getTime():new Date(e).getTime(),n=Math.floor((t-a)/1e3);if(n<60)return"".concat(n,"s ago");const r=Math.floor(n/60);if(r<60)return"".concat(r,"m ago");const l=Math.floor(r/60);return"".concat(l,"h ago")}const Be=e=>{var t,a;let{executionStatus:n,executionId:r,workflowProgress:l}=e;const s=function(e){switch(e){case"pending":default:return"secondary";case"running":return"primary";case"completed":return"success";case"failed":return"danger"}}(null===n||void 0===n?void 0:n.status);return(0,ze.jsxs)("div",{className:"card mb-3",children:[(0,ze.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,ze.jsxs)("h5",{children:[(0,ze.jsx)("i",{className:"fas fa-tasks"})," Workflow Progress"]}),(null===l||void 0===l?void 0:l.lastUpdate)&&(0,ze.jsxs)("small",{className:"text-muted",children:["Last update: ",He(l.lastUpdate)]})]}),(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsx)("div",{className:"progress mb-3",children:(0,ze.jsxs)("div",{className:"progress-bar bg-".concat(s),role:"progressbar",style:{width:"".concat(n.progress,"%")},children:[n.progress,"%"]})}),(0,ze.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:(0,ze.jsxs)("div",{children:[(0,ze.jsxs)("span",{className:"badge bg-".concat(s," me-2"),children:[(0,ze.jsx)("i",{className:"fas fa-".concat("success"===s?"check":"danger"===s?"times":"primary"===s?"spinner fa-spin":"clock")})," ",n.status]}),(0,ze.jsx)("span",{children:n.message}),n.status===Ie.RUNNING&&!(null!==l&&void 0!==l&&l.llmPublications)&&(0,ze.jsx)("div",{className:"spinner-border spinner-border-sm text-primary ms-2",role:"status",children:(0,ze.jsx)("span",{className:"visually-hidden",children:"Waiting for LLM response..."})})]})}),(null===l||void 0===l?void 0:l.llmPublications)&&(0,ze.jsxs)("div",{className:"alert alert-success mb-3",children:[(0,ze.jsxs)("h6",{children:[(0,ze.jsx)("i",{className:"fas fa-robot"})," LLM Response Received"]}),(0,ze.jsxs)("p",{className:"mb-2",children:["Generated ",l.llmPublications.length," publications"]}),(0,ze.jsxs)("div",{className:"border rounded p-2",style:{maxHeight:"150px",overflowY:"auto"},children:[l.llmPublications.slice(0,5).map((e,t)=>(0,ze.jsxs)("div",{className:"text-sm mb-1",children:[(0,ze.jsx)("i",{className:"fas fa-check text-success me-1"}),(0,ze.jsx)("span",{className:"text-truncate",title:e.title,children:e.title||"Publication ".concat(t+1)})]},t)),l.llmPublications.length>5&&(0,ze.jsxs)("div",{className:"text-sm text-muted",children:["... and ",l.llmPublications.length-5," more publications"]})]})]}),(null===l||void 0===l||null===(t=l.verificationProgress)||void 0===t?void 0:t.total)>0&&(0,ze.jsxs)("div",{className:"mb-3",children:[(0,ze.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,ze.jsxs)("h6",{children:[(0,ze.jsx)("i",{className:"fas fa-check-circle"})," Publication Verification"]}),(0,ze.jsxs)("span",{className:"text-muted",children:[l.verificationProgress.completed," / ",l.verificationProgress.total]})]}),(0,ze.jsx)("div",{className:"progress mb-2",children:(0,ze.jsxs)("div",{className:"progress-bar bg-info",role:"progressbar",style:{width:"".concat(l.verificationProgress.completed/l.verificationProgress.total*100,"%")},children:[Math.round(l.verificationProgress.completed/l.verificationProgress.total*100),"%"]})}),l.verificationResults&&l.verificationResults.length>0&&(0,ze.jsxs)("div",{className:"border rounded p-2",style:{maxHeight:"120px",overflowY:"auto"},children:[(0,ze.jsx)("small",{className:"text-muted",children:"Recent verifications:"}),l.verificationResults.slice(-3).map((e,t)=>(0,ze.jsxs)("div",{className:"text-sm mb-1",children:[(0,ze.jsx)("i",{className:"fas fa-check text-".concat("valid"===e.status?"success":"danger"," me-1")}),(0,ze.jsx)("span",{className:"text-truncate",title:e.title,children:e.title||"Verification ".concat(t+1)}),(0,ze.jsx)("span",{className:"badge bg-".concat("valid"===e.status?"success":"danger"," ms-1"),children:e.status||"unknown"})]},t))]})]}),(null===l||void 0===l||null===(a=l.comparisonProgress)||void 0===a?void 0:a.total)>0&&(0,ze.jsxs)("div",{className:"mb-3",children:[(0,ze.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,ze.jsxs)("h6",{children:[(0,ze.jsx)("i",{className:"fas fa-balance-scale"})," Ground Truth Comparison"]}),(0,ze.jsxs)("span",{className:"text-muted",children:[l.comparisonProgress.completed," / ",l.comparisonProgress.total]})]}),(0,ze.jsx)("div",{className:"progress mb-2",children:(0,ze.jsxs)("div",{className:"progress-bar bg-warning",role:"progressbar",style:{width:"".concat(l.comparisonProgress.completed/l.comparisonProgress.total*100,"%")},children:[Math.round(l.comparisonProgress.completed/l.comparisonProgress.total*100),"%"]})}),l.comparisonResults&&l.comparisonResults.length>0&&(0,ze.jsxs)("div",{className:"border rounded p-2",style:{maxHeight:"120px",overflowY:"auto"},children:[(0,ze.jsx)("small",{className:"text-muted",children:"Recent comparisons:"}),l.comparisonResults.slice(-3).map((e,t)=>(0,ze.jsxs)("div",{className:"text-sm mb-1",children:[(0,ze.jsx)("i",{className:"fas fa-balance-scale text-".concat("exact"===e.match_status?"success":"partial"===e.match_status?"warning":"danger"," me-1")}),(0,ze.jsx)("span",{className:"text-truncate",title:e.generated_title,children:e.generated_title||"Comparison ".concat(t+1)}),(0,ze.jsx)("span",{className:"badge bg-".concat("exact"===e.match_status?"success":"partial"===e.match_status?"warning":"danger"," ms-1"),children:e.match_status||"no match"})]},t))]})]}),n.error&&(0,ze.jsxs)("div",{className:"alert alert-danger mt-2 mb-0",children:[(0,ze.jsx)("i",{className:"fas fa-exclamation-triangle"})," ",n.error]}),r&&(0,ze.jsxs)("small",{className:"text-muted d-block mt-2",children:["Execution ID: ",r]})]})]})},Ve=e=>{const t=e.name.toLowerCase();return[".json",".bib"].some(e=>t.endsWith(e))},qe=e=>{if(null===e||void 0===e)return"bg-secondary";const t=100*e;return t>=80?"bg-success":t>=60?"bg-info":t>=40?"bg-warning":"bg-danger"},Ye=e=>e.is_exact_match?"match-exact":e.is_partial_match?"match-partial":"match-none",We={1:"FULL \xb7 DOI Correct + Perfect Metadata",2:"FULL \xb7 DOI Correct + Year Empty",3:"FULL \xb7 DOI Correct + Author Empty",4:"FULL \xb7 DOI Correct + Supports Empty",5:"FULL \xb7 DOI Correct + Title Empty",6:"FULL \xb7 DOI Correct + Author Correct",7:"FULL \xb7 DOI Correct + Year Correct",8:"FULL \xb7 DOI Only",9:"FULL \xb7 Text Metadata Full",10:"FULL \xb7 DOI Empty+Year Empty",11:"FULL \xb7 DOI Empty+Author Empty",12:"PARTIAL \xb7 DOI Anchor (Year Partial)",13:"PARTIAL \xb7 DOI Anchor (Year Mismatch)",14:"PARTIAL \xb7 DOI Anchor (Author Partial)",15:"PARTIAL \xb7 DOI Anchor (Author Partial+Year Partial)",16:"PARTIAL \xb7 DOI Anchor (Author Partial+Year Mismatch)",17:"PARTIAL \xb7 DOI Anchor (Author Partial+Year Empty)",18:"PARTIAL \xb7 DOI Anchor (Author Mismatch)",19:"PARTIAL \xb7 DOI Anchor (Author Mismatch+Year Partial)",20:"PARTIAL \xb7 DOI Anchor (Author Mismatch+Year Mismatch)",21:"PARTIAL \xb7 DOI Anchor (Author Mismatch+Year Empty)",22:"PARTIAL \xb7 DOI Anchor (Author Empty+Year Partial)",23:"PARTIAL \xb7 DOI Anchor (Author Empty+Year Mismatch)",24:"PARTIAL \xb7 DOI Anchor (Title Partial)",25:"PARTIAL \xb7 DOI Anchor (Title Partial+Year Partial)",26:"PARTIAL \xb7 DOI Anchor (Title Partial+Year Mismatch)",27:"PARTIAL \xb7 DOI Anchor (Title Partial+Year Empty)",28:"PARTIAL \xb7 DOI Anchor (Title Partial+Author Partial)",29:"PARTIAL \xb7 DOI Anchor (Title Partial+Author Partial+Year Partial)",30:"PARTIAL \xb7 DOI Anchor (Title Partial+Author Partial+Year Mismatch)",31:"PARTIAL \xb7 DOI Anchor (Title Partial+Author Partial+Year Empty)",32:"PARTIAL \xb7 DOI Anchor (Title Partial+Author Mismatch)",33:"PARTIAL \xb7 DOI Anchor (Title Partial+Author Mismatch+Year Partial)",34:"PARTIAL \xb7 DOI Anchor (Title Partial+Author Mismatch+Year Mismatch)",35:"PARTIAL \xb7 DOI Anchor (Title Partial+Author Mismatch+Year Empty)",36:"PARTIAL \xb7 DOI Anchor (Title Partial+Author Empty)",37:"PARTIAL \xb7 DOI Anchor (Title Partial+Author Empty+Year Partial)",38:"PARTIAL \xb7 DOI Anchor (Title Partial+Author Empty+Year Mismatch)",39:"PARTIAL \xb7 DOI Anchor (Title Partial+Author Empty+Year Empty)",40:"PARTIAL \xb7 DOI Anchor (Title Mismatch)",41:"PARTIAL \xb7 DOI Anchor (Title Mismatch+Year Partial)",42:"PARTIAL \xb7 DOI Anchor (Title Mismatch+Year Mismatch)",43:"PARTIAL \xb7 DOI Anchor (Title Mismatch+Year Empty)",44:"PARTIAL \xb7 DOI Anchor (Title Mismatch+Author Partial)",45:"PARTIAL \xb7 DOI Anchor (Title Mismatch+Author Partial+Year Partial)",46:"PARTIAL \xb7 DOI Anchor (Title Mismatch+Author Partial+Year Mismatch)",47:"PARTIAL \xb7 DOI Anchor (Title Mismatch+Author Partial+Year Empty)",48:"PARTIAL \xb7 DOI Anchor (Title Mismatch+Author Mismatch)",49:"PARTIAL \xb7 DOI Anchor (Title Mismatch+Author Mismatch+Year Partial)",50:"PARTIAL \xb7 DOI Anchor (Title Mismatch+Author Mismatch+Year Mismatch)",51:"PARTIAL \xb7 DOI Anchor (Title Mismatch+Author Mismatch+Year Empty)",52:"PARTIAL \xb7 DOI Anchor (Title Mismatch+Author Empty)",53:"PARTIAL \xb7 DOI Anchor (Title Mismatch+Author Empty+Year Partial)",54:"PARTIAL \xb7 DOI Anchor (Title Mismatch+Author Empty+Year Mismatch)",55:"PARTIAL \xb7 DOI Anchor (Title Mismatch+Author Empty+Year Empty)",56:"PARTIAL \xb7 DOI Anchor (Title Empty+Year Partial)",57:"PARTIAL \xb7 DOI Anchor (Title Empty+Year Mismatch)",58:"PARTIAL \xb7 DOI Anchor (Title Empty+Author Partial)",59:"PARTIAL \xb7 DOI Anchor (Title Empty+Author Partial+Year Partial)",60:"PARTIAL \xb7 DOI Anchor (Title Empty+Author Partial+Year Mismatch)",61:"PARTIAL \xb7 DOI Anchor (Title Empty+Author Partial+Year Empty)",62:"PARTIAL \xb7 DOI Anchor (Title Empty+Author Mismatch)",63:"PARTIAL \xb7 DOI Anchor (Title Empty+Author Mismatch+Year Partial)",64:"PARTIAL \xb7 DOI Anchor (Title Empty+Author Mismatch+Year Mismatch)",65:"PARTIAL \xb7 DOI Anchor (Title Empty+Author Mismatch+Year Empty)",66:"PARTIAL \xb7 DOI Anchor (Title Empty+Author Empty+Year Partial)",67:"PARTIAL \xb7 DOI Anchor (Title Empty+Author Empty+Year Mismatch)",68:"PARTIAL \xb7 Text Metadata Full + DOI Mismatch",69:"PARTIAL \xb7 Title Anchor (DOI Mismatch+Year Partial)",70:"PARTIAL \xb7 Title Anchor (DOI Mismatch+Year Mismatch)",71:"PARTIAL \xb7 Title Full + Author Full+ DOI Mismatch+ Year Empty",72:"PARTIAL \xb7 Title Anchor (DOI Mismatch+Author Partial)",73:"PARTIAL \xb7 Title Anchor (DOI Mismatch+Author Partial+Year Partial)",74:"PARTIAL \xb7 Title Anchor (DOI Mismatch+Author Partial+Year Mismatch)",75:"PARTIAL \xb7 Title Anchor (DOI Mismatch+Author Partial+Year Empty)",76:"PARTIAL \xb7 Title Anchor (DOI Mismatch+Author Mismatch)",77:"PARTIAL \xb7 Title Anchor (DOI Mismatch+Author Mismatch+Year Partial)",78:"PARTIAL \xb7 Title Anchor (DOI Mismatch+Author Mismatch+Year Mismatch)",79:"PARTIAL \xb7 Title Anchor (DOI Mismatch+Author Mismatch+Year Empty)",80:"PARTIAL \xb7 Title Full + Year Full+ DOI Mismatch +Author Empty",81:"PARTIAL \xb7 Title Anchor (DOI Mismatch+Author Empty+Year Partial)",82:"PARTIAL \xb7 Title Anchor (DOI Mismatch+Author Empty+Year Mismatch)",83:"PARTIAL \xb7 Title Anchor (DOI Mismatch+Author Empty+Year Empty)",84:"PARTIAL \xb7 Triangulation (DOI Mismatch+ Title Partial)",85:"PARTIAL \xb7 Triangulation (DOI Mismatch+ Title Partial+Year Partial)",86:"PARTIAL \xb7 Triangulation (DOI Mismatch+ Title Partial+Author Partial)",87:"PARTIAL \xb7 Triangulation (DOI Mismatch+ Others Partial)",88:"PARTIAL \xb7 Title Anchor (Year Partial)",89:"PARTIAL \xb7 Title Anchor (Year Mismatch)",90:"PARTIAL \xb7 Title Anchor (Author Partial)",91:"PARTIAL \xb7 Title Anchor (Author Partial+Year Partial)",92:"PARTIAL \xb7 Title Anchor (Author Partial+Year Mismatch)",93:"PARTIAL \xb7 Title Anchor (Author Partial+Year Empty)",94:"PARTIAL \xb7 Title Anchor (Author Mismatch)",95:"PARTIAL \xb7 Title Anchor (Author Mismatch+Year Partial)",96:"PARTIAL \xb7 Title Anchor (Author Mismatch+Year Mismatch)",97:"PARTIAL \xb7 Title Anchor (Author Mismatch)",98:"PARTIAL \xb7 Title Anchor (Year Partial)",99:"PARTIAL \xb7 Title Anchor (Year Mismatch)",100:"PARTIAL \xb7 Title Anchor Only",101:"PARTIAL \xb7 Triangulation (Title Partial)",102:"PARTIAL \xb7 Triangulation (Title Partial+Year Partial)",103:"PARTIAL \xb7 Triangulation (Title Partial+Author Partial)",104:"PARTIAL \xb7 Triangulation (Title Partial+Author Partial+Year Partial)",105:"NO MATCH \xb7 DOI Mismatch +Title Partial+ Year Mismatch",106:"NO MATCH \xb7 DOI Mismatch +Title Partial+Year Empty",107:"NO MATCH \xb7 DOI Mismatch +Title Partial+ Author Partial +Year Mismatch",108:"NO MATCH \xb7 DOI Mismatch +Title Partial+ Author Partial +Year Empty",109:"NO MATCH \xb7 DOI Mismatch +Title Partial+ Author Mismatch",110:"NO MATCH \xb7 DOI Mismatch +Title Partial+ Author Mismatch + Year Partial",111:"NO MATCH \xb7 DOI Mismatch +Title Partial+ Author Mismatch + Year Mismatch",112:"NO MATCH \xb7 DOI Mismatch +Title Partial+ Author Mismatch + Year Empty",113:"NO MATCH \xb7 DOI Mismatch +Title Partial+ Author Empty",114:"NO MATCH \xb7 DOI Mismatch +Title Partial+ Author Empty + Year Partial",115:"NO MATCH \xb7 DOI Mismatch +Title Partial+ Author Empty + Year Mismatch",116:"NO MATCH \xb7 DOI Mismatch +Title Partial",117:"NO MATCH \xb7 DOI Mismatch +Title Mismatch",118:"NO MATCH \xb7 DOI Mismatch +Title Mismatch",119:"NO MATCH \xb7 DOI Mismatch +Title Mismatch",120:"NO MATCH \xb7 DOI Mismatch +Title Mismatch",121:"NO MATCH \xb7 DOI Mismatch +Title Mismatch",122:"NO MATCH \xb7 DOI Mismatch +Title Mismatch",123:"NO MATCH \xb7 DOI Mismatch +Title Mismatch",124:"NO MATCH \xb7 DOI Mismatch +Title Mismatch",125:"NO MATCH \xb7 DOI Mismatch +Title Mismatch",126:"NO MATCH \xb7 DOI Mismatch +Title Mismatch",127:"NO MATCH \xb7 DOI Mismatch +Title Mismatch",128:"NO MATCH \xb7 DOI Mismatch +Title Mismatch",129:"NO MATCH \xb7 DOI Mismatch +Title Mismatch",130:"NO MATCH \xb7 DOI Mismatch +Title Mismatch",131:"NO MATCH \xb7 DOI Mismatch +Title Mismatch",132:"NO MATCH \xb7 DOI Mismatch +Title Mismatch",133:"NO MATCH \xb7 DOI Mismatch +Title Empty",134:"NO MATCH \xb7 DOI Mismatch +Title Empty",135:"NO MATCH \xb7 DOI Mismatch +Title Empty",136:"NO MATCH \xb7 DOI Mismatch +Title Empty",137:"NO MATCH \xb7 DOI Mismatch +Title Empty",138:"NO MATCH \xb7 DOI Mismatch +Title Empty",139:"NO MATCH \xb7 DOI Mismatch +Title Empty",140:"NO MATCH \xb7 DOI Mismatch +Title Empty",141:"NO MATCH \xb7 DOI Mismatch +Title Empty",142:"NO MATCH \xb7 DOI Mismatch +Title Empty",143:"NO MATCH \xb7 DOI Mismatch +Title Empty",144:"NO MATCH \xb7 DOI Mismatch +Title Empty",145:"NO MATCH \xb7 DOI Mismatch +Title Empty",146:"NO MATCH \xb7 DOI Mismatch +Title Empty",147:"NO MATCH \xb7 DOI Mismatch +Title Empty",148:"NO MATCH \xb7 DOI Mismatch + Others Empty",149:"NO MATCH \xb7 Title Partial+Year Mismatch",150:"NO MATCH \xb7 Title Partial+Year Empty",151:"NO MATCH \xb7 Title Partial+Author Partial +Year Mismatch",152:"NO MATCH \xb7 Title Partial+Author Partial +Year Empty",153:"NO MATCH \xb7 Title Partial+Author Mismatch",154:"NO MATCH \xb7 Title Partial+Author Mismatch +Year Partial",155:"NO MATCH \xb7 Title Partial+Author Mismatch +Year Mismatch",156:"NO MATCH \xb7 Title Partial+Author Mismatch +Year Empty",157:"NO MATCH \xb7 Title Partial+Author Empty",158:"NO MATCH \xb7 Title Partial+Author Empty +Year Partial",159:"NO MATCH \xb7 Title Partial+Author Empty +Year Mismatch",160:"NO MATCH \xb7 Insufficient Metadata: Just Title Partial",161:"NO MATCH \xb7 DOI Empty + Title Mismatch",162:"NO MATCH \xb7 DOI Empty + Title Mismatch",163:"NO MATCH \xb7 DOI Empty + Title Mismatch",164:"NO MATCH \xb7 DOI Empty + Title Mismatch",165:"NO MATCH \xb7 DOI Empty + Title Mismatch",166:"NO MATCH \xb7 DOI Empty + Title Mismatch",167:"NO MATCH \xb7 DOI Empty + Title Mismatch",168:"NO MATCH \xb7 DOI Empty + Title Mismatch",169:"NO MATCH \xb7 DOI Empty + Title Mismatch",170:"NO MATCH \xb7 DOI Empty + Title Mismatch",171:"NO MATCH \xb7 DOI Empty + Title Mismatch",172:"NO MATCH \xb7 DOI Empty + Title Mismatch",173:"NO MATCH \xb7 DOI Empty + Title Mismatch",174:"NO MATCH \xb7 DOI Empty + Title Mismatch",175:"NO MATCH \xb7 DOI Empty + Title Mismatch",176:"NO MATCH \xb7 DOI Empty + Title Mismatch",177:"NO MATCH \xb7 DOI Empty + Title Empty",178:"NO MATCH \xb7 DOI Empty + Title Empty",179:"NO MATCH \xb7 DOI Empty + Title Empty",180:"NO MATCH \xb7 DOI Empty + Title Empty",181:"NO MATCH \xb7 DOI Empty + Title Empty",182:"NO MATCH \xb7 DOI Empty + Title Empty",183:"NO MATCH \xb7 DOI Empty + Title Empty",184:"NO MATCH \xb7 DOI Empty + Title Empty",185:"NO MATCH \xb7 DOI Empty + Title Empty",186:"NO MATCH \xb7 DOI Empty + Title Empty",187:"NO MATCH \xb7 DOI Empty + Title Empty",188:"NO MATCH \xb7 DOI Empty + Title Empty",189:"NO MATCH \xb7 DOI Empty + Title Empty",190:"NO MATCH \xb7 DOI Empty + Title Empty",191:"NO MATCH \xb7 DOI Empty + Title Empty",192:"NO MATCH \xb7 Empty Output"},$e=e=>e&&0!==e?We[e]||"Rule ".concat(e):null,Qe=e=>e&&0!==e?e>=1&&e<=11?"bg-success":e>=12&&e<=104?"bg-warning":e>=105&&e<=192?"bg-danger":"bg-secondary":"bg-secondary";const Ge=e=>{let{results:t,workflowProgress:a,onExportResults:n}=e;const[l,s]=(0,r.useState)("llm");return(0,ze.jsxs)("div",{className:"card",children:[(0,ze.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,ze.jsxs)("h5",{children:[(0,ze.jsx)("i",{className:"fas fa-chart-bar"})," Results"]}),(0,ze.jsxs)("div",{className:"btn-group",role:"group",children:[(0,ze.jsxs)("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>n("json"),children:[(0,ze.jsx)("i",{className:"fas fa-download"})," Export JSON"]}),(0,ze.jsxs)("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>n("bibtex"),children:[(0,ze.jsx)("i",{className:"fas fa-download"})," Export BibTeX"]})]})]}),(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsxs)("ul",{className:"nav nav-tabs",role:"tablist",children:[(0,ze.jsx)("li",{className:"nav-item",role:"presentation",children:(0,ze.jsxs)("button",{className:"nav-link ".concat("llm"===l?"active":""),onClick:()=>s("llm"),type:"button",role:"tab",children:[(0,ze.jsx)("i",{className:"fas fa-robot"})," LLM Response"]})}),(0,ze.jsx)("li",{className:"nav-item",role:"presentation",children:(0,ze.jsxs)("button",{className:"nav-link ".concat("verification"===l?"active":""),onClick:()=>s("verification"),type:"button",role:"tab",children:[(0,ze.jsx)("i",{className:"fas fa-check-circle"})," Verification"]})}),(0,ze.jsx)("li",{className:"nav-item",role:"presentation",children:(0,ze.jsxs)("button",{className:"nav-link ".concat("comparison"===l?"active":""),onClick:()=>s("comparison"),type:"button",role:"tab",children:[(0,ze.jsx)("i",{className:"fas fa-balance-scale"})," Comparison"]})})]}),(0,ze.jsxs)("div",{className:"tab-content",children:[(0,ze.jsx)("div",{className:"tab-pane fade ".concat("llm"===l?"show active":""),role:"tabpanel",children:(()=>{const e=(null===a||void 0===a?void 0:a.llmPublications)||(null===t||void 0===t?void 0:t.llm_response)||(null===t||void 0===t?void 0:t.generated_publications),n=function(e){return e?Array.isArray(e)?e:e.publications&&Array.isArray(e.publications)?e.publications:e.results&&Array.isArray(e.results)?e.results:e.data&&Array.isArray(e.data)?e.data:e.references&&Array.isArray(e.references)?e.references:null:null}(e);return e?n&&n.length>0?(0,ze.jsxs)("div",{className:"mt-3",children:[(0,ze.jsxs)("div",{className:"alert alert-info mb-3",children:[(0,ze.jsxs)("h6",{children:[(0,ze.jsx)("i",{className:"fas fa-robot"})," Generated Publications"]}),(0,ze.jsxs)("p",{className:"mb-0",children:["The LLM generated ",n.length," publications:"]})]}),(0,ze.jsx)("div",{className:"table-responsive",children:(0,ze.jsxs)("table",{className:"table table-striped",children:[(0,ze.jsx)("thead",{children:(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("th",{children:"#"}),(0,ze.jsx)("th",{children:"Title"}),(0,ze.jsx)("th",{children:"Authors"}),(0,ze.jsx)("th",{children:"Year"}),(0,ze.jsx)("th",{children:"DOI"}),(0,ze.jsx)("th",{children:"Journal"})]})}),(0,ze.jsx)("tbody",{children:n.map((e,t)=>(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:t+1}),(0,ze.jsx)("td",{className:"text-truncate",style:{maxWidth:"300px"},title:e.title,children:e.title||"-"}),(0,ze.jsx)("td",{children:e.authors||e.author||"-"}),(0,ze.jsx)("td",{children:e.year||e.publication_year||"-"}),(0,ze.jsx)("td",{children:e.doi?(0,ze.jsx)("a",{href:"https://doi.org/".concat(e.doi),target:"_blank",rel:"noopener noreferrer",children:e.doi}):"-"}),(0,ze.jsx)("td",{children:e.journal||e.venue||"-"})]},t))})]})})]}):(0,ze.jsxs)("div",{className:"mt-3",children:[(0,ze.jsxs)("div",{className:"alert alert-warning mb-3",children:[(0,ze.jsxs)("h6",{children:[(0,ze.jsx)("i",{className:"fas fa-info-circle"})," Raw LLM Response"]}),(0,ze.jsx)("p",{className:"mb-0",children:"Displaying raw response (publications array not found in expected format)"})]}),(0,ze.jsx)("pre",{className:"bg-light p-3 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:"string"===typeof e?e:JSON.stringify(e,null,2)})]}):(0,ze.jsx)("div",{className:"text-muted",children:"No LLM response available"})})()}),(0,ze.jsx)("div",{className:"tab-pane fade ".concat("verification"===l?"show active":""),role:"tabpanel",children:(()=>{var e;const n=function(e){return e?Array.isArray(e)?e:e.detailed_results&&Array.isArray(e.detailed_results)?e.detailed_results:[]:[]}((null===a||void 0===a?void 0:a.verificationResults)||(null===t||void 0===t?void 0:t.verification_results)),r=(null===t||void 0===t?void 0:t.verification_summary)||t;if(!n.length)return(0,ze.jsx)("div",{className:"text-muted",children:"No verification results available"});const l=(null===r||void 0===r?void 0:r.total_publications)||(null===t||void 0===t?void 0:t.total_publications)||n.length,s=void 0!==(null===r||void 0===r?void 0:r.verified_publications)?r.verified_publications:void 0!==(null===t||void 0===t?void 0:t.verified_publications)?t.verified_publications:n.filter(e=>!0===e.found).length,i=l-s;return(0,ze.jsxs)("div",{className:"mt-3",children:[(0,ze.jsxs)("div",{className:"alert alert-info",children:[(0,ze.jsx)("h6",{children:"Verification Summary"}),(0,ze.jsxs)("p",{className:"mb-0",children:["Total references verified: ",l,(0,ze.jsx)("br",{}),"Valid references: ",s,(0,ze.jsx)("br",{}),"Invalid references: ",i,(null===a||void 0===a||null===(e=a.verificationProgress)||void 0===e?void 0:e.total)>0&&a.verificationProgress.completed<a.verificationProgress.total&&(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("br",{}),(0,ze.jsxs)("span",{className:"text-warning",children:[(0,ze.jsx)("i",{className:"fas fa-spinner fa-spin"}),"Verification in progress: ",a.verificationProgress.completed," / ",a.verificationProgress.total]})]})]})]}),(0,ze.jsx)("div",{className:"table-responsive",children:(0,ze.jsxs)("table",{className:"table table-striped table-sm",children:[(0,ze.jsx)("thead",{children:(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("th",{children:"#"}),(0,ze.jsx)("th",{children:"Database"}),(0,ze.jsx)("th",{children:"Status"}),(0,ze.jsx)("th",{children:"Similarity"}),(0,ze.jsx)("th",{children:"Method"})]})}),(0,ze.jsx)("tbody",{children:n.map((e,t)=>(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:t+1}),(0,ze.jsx)("td",{children:(0,ze.jsx)("span",{className:"badge bg-secondary",children:e.database_name||e.database||"-"})}),(0,ze.jsx)("td",{children:(0,ze.jsx)("span",{className:"badge bg-".concat(e.found?"success":"danger"),children:e.found?"Found":"Not Found"})}),(0,ze.jsx)("td",{children:void 0!==e.similarity_score&&null!==e.similarity_score?"".concat((100*e.similarity_score).toFixed(0),"%"):void 0!==e.best_match_similarity?"".concat((100*e.best_match_similarity).toFixed(0),"%"):"-"}),(0,ze.jsx)("td",{children:(0,ze.jsx)("small",{className:"text-muted",children:e.verification_method||"-"})})]},e.id||t))})]})})]})})()}),(0,ze.jsx)("div",{className:"tab-pane fade ".concat("comparison"===l?"show active":""),role:"tabpanel",children:(()=>{var e;const n=(null===a||void 0===a?void 0:a.comparisonResults)||(null===t||void 0===t?void 0:t.comparison_results),r=(l=n)?Array.isArray(l)?l:l.detailed_results&&Array.isArray(l.detailed_results)?l.detailed_results:[]:[];var l;if(!r.length)return(0,ze.jsx)("div",{className:"text-muted",children:"No comparison results available"});const s=r.length,i=r.filter(e=>"exact"===e.match_status||"exact"===e.match_type||e.is_exact_match).length,o=r.filter(e=>"partial"===e.match_status||"partial"===e.match_type||e.is_partial_match).length,c=s-i-o;return(0,ze.jsxs)("div",{className:"mt-3",children:[(0,ze.jsxs)("div",{className:"alert alert-info",children:[(0,ze.jsx)("h6",{children:"Comparison Summary"}),(0,ze.jsxs)("p",{className:"mb-0",children:["Total matches: ",s,(0,ze.jsx)("br",{}),"Exact matches: ",i,(0,ze.jsx)("br",{}),"Partial matches: ",o,(0,ze.jsx)("br",{}),"No matches: ",c,(null===a||void 0===a||null===(e=a.comparisonProgress)||void 0===e?void 0:e.total)>0&&a.comparisonProgress.completed<a.comparisonProgress.total&&(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("br",{}),(0,ze.jsxs)("span",{className:"text-warning",children:[(0,ze.jsx)("i",{className:"fas fa-spinner fa-spin"}),"Comparison in progress: ",a.comparisonProgress.completed," / ",a.comparisonProgress.total]})]})]})]}),(0,ze.jsx)("div",{className:"table-responsive",children:(0,ze.jsxs)("table",{className:"table table-striped",children:[(0,ze.jsx)("thead",{children:(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("th",{children:"Generated Publication"}),(0,ze.jsx)("th",{children:"Ground Truth Reference"}),(0,ze.jsx)("th",{children:"Match Status"}),(0,ze.jsx)("th",{children:"Similarity"}),(0,ze.jsx)("th",{children:"Interpretation"}),(0,ze.jsx)("th",{children:"Rule"}),(0,ze.jsx)("th",{children:"Quality"})]})}),(0,ze.jsx)("tbody",{children:r.map((e,t)=>{var a;const n=e.generated_title||e.llm_title||e.title||"-",r=e.ground_truth_title||e.gt_title||e.reference_title||"-",l=e.match_status||e.match_type||(e.is_exact_match?"exact":e.is_partial_match?"partial":"no match"),s=e.similarity||e.similarity_percentage,i=(o=e).interpretation?o.interpretation:o.match_type?o.match_type.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()):"Unknown";var o;const c=null!==(a=e.rule_number)&&void 0!==a?a:null,d=c?$e(c):null;return(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{className:"text-truncate",style:{maxWidth:"200px"},title:n,children:n}),(0,ze.jsx)("td",{className:"text-truncate",style:{maxWidth:"200px"},title:r,children:r}),(0,ze.jsx)("td",{children:(0,ze.jsx)("span",{className:"badge bg-".concat("exact"===l?"success":"partial"===l?"warning":"danger"),children:l})}),(0,ze.jsx)("td",{children:s?"".concat("number"===typeof s&&s<=1?(100*s).toFixed(1):s,"%"):"-"}),(0,ze.jsx)("td",{children:i&&"Unknown"!==i?(0,ze.jsx)("span",{className:"text-muted small",title:i,children:i}):(0,ze.jsx)("span",{className:"text-muted",children:"-"})}),(0,ze.jsx)("td",{children:c&&c>0?(0,ze.jsxs)("span",{className:"badge ".concat(Qe(c)),title:d||"Rule ".concat(c),style:{cursor:"help"},children:["Rule ",c]}):(0,ze.jsx)("span",{className:"text-muted",children:"-"})}),(0,ze.jsx)("td",{children:(0,ze.jsx)("span",{className:"badge bg-".concat("high"===e.quality?"success":"medium"===e.quality?"warning":"danger"),children:e.quality||"unknown"})})]},t)})})]})})]})})()})]})]})]})},Ke={"seed-paper":{validExtensions:["bib"],modalTitle:"Add Seed Paper",fileLabel:"BibTeX File",fileDescription:"Select a BibTeX file containing the seed paper",accept:".bib",hasVersion:!1},"ground-truth":{validExtensions:["bib","json"],modalTitle:"Add Ground Truth References",fileLabel:"BibTeX or JSON File",fileDescription:"Select a BibTeX or JSON file containing ground truth references",accept:".bib,.json",hasVersion:!1},prompt:{validExtensions:["txt"],modalTitle:"Add Prompt",fileLabel:"Text File",fileDescription:"Select a text file containing the prompt",accept:".txt",hasVersion:!0}},Je={validExtensions:[],modalTitle:"Upload File",fileLabel:"File",fileDescription:"Select a file to upload",accept:"*",hasVersion:!1},Xe=e=>{let{show:t,type:a,onClose:n,onUpload:l,loading:s}=e;const[i,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(""),[u,m]=(0,r.useState)(""),h=Ke[a]||Je;(0,r.useEffect)(()=>{t||(o(null),d(""),m(""))},[t,a]);return t?(0,ze.jsx)("div",{className:"modal fade show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,ze.jsx)("div",{className:"modal-dialog",children:(0,ze.jsxs)("div",{className:"modal-content",children:[(0,ze.jsxs)("div",{className:"modal-header",children:[(0,ze.jsx)("h5",{className:"modal-title",children:h.modalTitle}),(0,ze.jsx)("button",{type:"button",className:"btn-close",onClick:n,disabled:s})]}),(0,ze.jsxs)("div",{className:"modal-body",children:[(0,ze.jsxs)("div",{className:"mb-3",children:[(0,ze.jsx)("label",{htmlFor:"fileInput",className:"form-label",children:h.fileLabel}),(0,ze.jsx)("input",{type:"file",className:"form-control",id:"fileInput",accept:h.accept,onChange:e=>{const t=e.target.files[0];o(t),m("")},disabled:s}),(0,ze.jsx)("div",{className:"form-text",children:h.fileDescription})]}),h.hasVersion&&(0,ze.jsxs)("div",{className:"mb-3",children:[(0,ze.jsx)("label",{htmlFor:"promptVersion",className:"form-label",children:"Version (optional)"}),(0,ze.jsx)("input",{type:"text",className:"form-control",id:"promptVersion",placeholder:"e.g. v1",maxLength:50,value:c,onChange:e=>d(e.target.value),disabled:s}),(0,ze.jsx)("div",{className:"form-text",children:"Optional version label for this prompt (max 50 characters)"})]}),u&&(0,ze.jsxs)("div",{className:"alert alert-danger",children:[(0,ze.jsx)("i",{className:"fas fa-exclamation-triangle"})," ",u]}),i&&(0,ze.jsxs)("div",{className:"alert alert-info",children:[(0,ze.jsx)("i",{className:"fas fa-file"})," Selected: ",i.name," (",(i.size/1024).toFixed(1)," KB)"]})]}),(0,ze.jsxs)("div",{className:"modal-footer",children:[(0,ze.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:n,disabled:s,children:"Cancel"}),(0,ze.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>{if(!i)return void m("Please select a file");if(!h.validExtensions.length)return void m("Unknown file type");const e=i.name.split(".").pop().toLowerCase();if(!h.validExtensions.includes(e))return void m("Invalid file type. Please select a ".concat(h.validExtensions.join(" or ")," file."));const t=h.hasVersion?{version:c.trim()||null}:{};l(a,i,t)},disabled:s||!i,children:s?(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Uploading..."]}):(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("i",{className:"fas fa-upload me-2"}),"Upload"]})})]})]})})}):null},Ze={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"";function et(e){const t=Object.entries(e).filter(e=>{let[,t]=e;return null!=t&&""!==t}).map(e=>{let[t,a]=e;return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(String(a)))});return t.length?"?"+t.join("&"):""}const tt=new class{constructor(){this.baseURL=Ze}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a="".concat(this.baseURL).concat(e),n=Re({headers:Re({"Content-Type":"application/json"},t.headers)},t),r=t.timeout||3e5,l=new AbortController,s=setTimeout(()=>l.abort(),r);try{const e=await fetch(a,Re(Re({},n),{},{signal:l.signal}));if(clearTimeout(s),!e.ok){let t="HTTP error! status: ".concat(e.status);try{const a=await e.json();a.detail&&(t=Array.isArray(a.detail)?a.detail.map(e=>"".concat(e.loc.join("."),": ").concat(e.msg)).join(", "):"string"===typeof a.detail?a.detail:JSON.stringify(a.detail))}catch(Jt){t="HTTP error! status: ".concat(e.status)}throw new Error(t)}if("blob"===t.responseType)return await e.blob();const r=e.headers.get("content-type");return r&&r.includes("application/json")?await e.json():await e.text()}catch(i){if(clearTimeout(s),"AbortError"===i.name)throw console.error("API request timed out:",e),new Error("Request timed out after ".concat(r/1e3," seconds"));if(i.message&&i.message.includes("504"))throw console.error("Gateway timeout - workflow may still be processing"),new Error("Gateway timeout: The workflow is taking longer than expected. It may still be processing in the background.");const t=i.message&&/Prompt with id \d+ not found/i.test(i.message),a=i.message&&(/Seed paper (?:with id )?\d* ?not found/i.test(i.message)||/Seed paper .* not found/i.test(i.message));throw t||a||console.error("API request failed:",i),i}}async healthCheck(){return this.request("/api/health")}async getSeedPapers(){return this.request("/api/seed-papers")}async addSeedPaper(e){const t=new FormData;return t.append("file",e),this.request("/api/seed-papers",{method:"POST",headers:{},body:t})}async getGroundTruthReferences(e){return this.request("/api/seed-papers/".concat(e,"/ground-truth"))}async addGroundTruthReferences(e,t){const a=new FormData;return a.append("file",t),this.request("/api/seed-papers/".concat(e,"/ground-truth"),{method:"POST",headers:{},body:a})}async deleteGroundTruthReference(e){return this.request("/api/ground-truth/".concat(e),{method:"DELETE"})}async getPrompts(){return this.request("/api/prompts")}async addPrompt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n=new FormData;return n.append("file",e),t&&n.append("seed_paper_id",t),null!=a&&""!==String(a).trim()&&n.append("version",String(a).trim()),this.request("/api/prompts",{method:"POST",headers:{},body:n})}async getLLMModels(){return this.request("/api/llm-models")}async executeWorkflow(e){return this.request("/api/workflow/execute",{method:"POST",body:JSON.stringify(e),timeout:6e5})}async getExecutionStatus(e){return this.request("/api/workflow/".concat(e,"/status"))}async getExecutionResults(e){return this.request("/api/workflow/".concat(e,"/results"))}async exportResults(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json";return this.request("/api/workflow/".concat(e,"/export?format=").concat(t))}async verifyPublications(e){return this.request("/api/publication-verifier/verify",{method:"POST",headers:{},body:e})}async verifyPublicationsWithStorage(e){return this.request("/api/publication-verifier/verify-with-storage",{method:"POST",headers:{},body:e})}async exportVerificationResults(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return this.request("/api/publication-verifier/export?format=".concat(t),{method:"POST",body:JSON.stringify({results:e}),responseType:"blob"})}async getPublicationVerifierHealth(){return this.request("/api/publication-verifier/health")}async comparePublications(e){return this.request("/api/reference-comparer/compare",{method:"POST",headers:{},body:e})}async comparePublicationsWithStorage(e){return this.request("/api/reference-comparer/compare-with-storage",{method:"POST",headers:{},body:e})}async exportComparisonResults(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json";return this.request("/api/reference-comparer/export?format=".concat(t),{method:"POST",body:JSON.stringify({results:e}),responseType:"blob"})}async getExecutions(){const e=et({llm_system_id:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,seed_paper_id:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,prompt_id:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,status:arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,limit:arguments.length>4&&void 0!==arguments[4]?arguments[4]:null});return this.request("/api/executions".concat(e))}async getExecutionDetails(e){return this.request("/api/executions/".concat(e))}async getExecutionVerificationResults(e){return this.request("/api/executions/".concat(e,"/verification-results"))}async getExecutionComparisonResults(e){return this.request("/api/executions/".concat(e,"/comparison-results"))}async importExecutionFromFile(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=new FormData;return a.append("file",e),null!=t.seed_paper_id&&a.append("seed_paper_id",String(t.seed_paper_id)),null!=t.seed_paper_content&&""!==t.seed_paper_content.trim()&&a.append("seed_paper_content",t.seed_paper_content.trim()),null!=t.prompt_id&&a.append("prompt_id",String(t.prompt_id)),null!=t.prompt_content&&""!==t.prompt_content.trim()&&a.append("prompt_content",t.prompt_content.trim()),null!=t.prompt_version&&""!==String(t.prompt_version).trim()&&a.append("prompt_version",String(t.prompt_version).trim()),this.request("/api/executions/import",{method:"POST",headers:{},body:a})}async getLiterature(){return this.request("/api/literature")}async getLiteratureVerificationResults(e){return this.request("/api/literature/".concat(e,"/verification-results"))}async evaluateExecution(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n={verification_results:e,comparison_results:t,include_partial:void 0===a.include_partial||a.include_partial};return void 0!==a.validity_weight&&(n.validity_weight=a.validity_weight),void 0!==a.relevance_weight&&(n.relevance_weight=a.relevance_weight),void 0!==a.save_to_file&&(n.save_to_file=a.save_to_file),this.request("/api/evaluation/evaluate",{method:"POST",body:JSON.stringify(n)})}async getMetricsExplanation(){return this.request("/api/evaluation/metrics-explanation")}async getEvaluationHealth(){return this.request("/api/evaluation/health")}async getLLMSystems(){const e=et({name:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,version:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null});return this.request("/api/llm-systems".concat(e))}async getLLMSystemById(e){return this.request("/api/llm-systems/".concat(e))}async evaluateBatchExecutions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const r=new URLSearchParams;null!==t&&void 0!==t&&r.append("prompt_id",t),null!==a&&void 0!==a&&r.append("llm_system_id",a),r.append("include_partial",n);const l="/api/evaluation/batch/".concat(e,"?").concat(r.toString());return this.request(l)}async compareLLMSystems(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=new URLSearchParams;null!==t&&void 0!==t&&n.append("prompt_id",t),n.append("include_partial",a);const r="/api/evaluation/compare-llms/".concat(e,"?").concat(n.toString());return this.request(r)}async evaluateRelevanceOnly(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.request("/api/evaluation/relevance-only?include_partial=".concat(t),{method:"POST",body:JSON.stringify(e)})}async evaluateValidityOnly(e){return this.request("/api/evaluation/validity-only",{method:"POST",body:JSON.stringify(e)})}async compareEvaluations(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const a={evaluations:e};return t&&(a.labels=t),this.request("/api/evaluation/compare",{method:"POST",body:JSON.stringify(a)})}connectWorkflowEvents(e,t,a){const n=new EventSource("".concat(this.baseURL,"/api/workflow/").concat(e,"/events"));return n.onmessage=e=>{try{const a=JSON.parse(e.data);t(a)}catch(n){console.error("Failed to parse SSE message:",n),a&&a(n)}},n.onerror=e=>{console.error("SSE error:",e),a&&a(e)},n}connectWorkflowStream(e,t,a,n){const r="https:"===window.location.protocol?"wss:":"ws:",l={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL?{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL.replace(/^http/,"ws"):"".concat(r,"//").concat(window.location.hostname,":8000"),s="".concat(l,"/api/workflow/").concat(e,"/events"),i=new WebSocket(s);return i.onopen=()=>{console.log("WebSocket connected for execution:",e)},i.onmessage=e=>{try{const a=JSON.parse(e.data);t(a)}catch(n){console.error("Failed to parse WebSocket message:",n),a&&a(n)}},i.onerror=e=>{console.error("WebSocket error:",e),a&&a(e)},i.onclose=e=>{console.log("WebSocket closed:",e.code,e.reason),n&&n(e)},i}},at=tt,nt=e=>{let{useStorage:t,setUseStorage:a,executionName:n,setExecutionName:r,description:l}=e;return(0,ze.jsxs)("div",{className:"row",children:[(0,ze.jsxs)("div",{className:"col-md-6",children:[(0,ze.jsxs)("div",{className:"form-check",children:[(0,ze.jsx)("input",{className:"form-check-input",type:"checkbox",id:"useStorage",checked:t,onChange:e=>a(e.target.checked)}),(0,ze.jsx)("label",{className:"form-check-label",htmlFor:"useStorage",children:"Store results in database"})]}),(0,ze.jsx)("div",{className:"form-text",children:l||"Enable to store results in the database for later analysis."})]}),(0,ze.jsx)("div",{className:"col-md-6",children:t&&(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("label",{className:"form-label fw-bold",children:"Execution Name"}),(0,ze.jsx)("input",{type:"text",className:"form-control",value:n,onChange:e=>r(e.target.value),placeholder:"Enter a name for this execution"}),(0,ze.jsx)("div",{className:"form-text",children:"Required when storing results in database."})]})})]})},rt=e=>{let{email:t,setEmail:a,apiKey:n,setApiKey:r,useStorage:l,setUseStorage:s,executionName:i,setExecutionName:o}=e;return(0,ze.jsx)("div",{className:"row mb-4",children:(0,ze.jsx)("div",{className:"col-12",children:(0,ze.jsxs)("div",{className:"card",children:[(0,ze.jsx)("div",{className:"card-header",children:(0,ze.jsxs)("h5",{className:"mb-0",children:[(0,ze.jsx)("i",{className:"fas fa-cog"})," Configuration"]})}),(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsxs)("div",{className:"row",children:[(0,ze.jsxs)("div",{className:"col-md-6",children:[(0,ze.jsx)("label",{className:"form-label fw-bold",children:"Email (for OpenAlex API)"}),(0,ze.jsx)("input",{type:"email",className:"form-control",value:t,onChange:e=>a(e.target.value),placeholder:"Enter your email for OpenAlex API access"}),(0,ze.jsx)("div",{className:"form-text",children:"Email is required for OpenAlex API access. Leave empty to skip OpenAlex searches."})]}),(0,ze.jsxs)("div",{className:"col-md-6",children:[(0,ze.jsx)("label",{className:"form-label fw-bold",children:"Semantic Scholar API Key"}),(0,ze.jsx)("input",{type:"password",className:"form-control",value:n,onChange:e=>r(e.target.value),placeholder:"Optional API key"}),(0,ze.jsx)("div",{className:"form-text",children:"Optional API key for enhanced Semantic Scholar access."})]})]}),(0,ze.jsx)("div",{className:"mt-3",children:(0,ze.jsx)(nt,{useStorage:l,setUseStorage:s,executionName:i,setExecutionName:o,description:"Enable to store verification results in the database for later analysis."})})]})]})})})},lt=e=>{const t=e.name.toLowerCase();return[".json",".bib"].some(e=>t.endsWith(e))},st=e=>{if(!e)return"N/A";const t=[];return Object.keys(e).forEach(a=>{const n=e[a];n.exact_match_found?t.push("".concat(a,": \u2705")):n.best_similarity>0?t.push("".concat(a,": \u26a0\ufe0f ").concat((100*n.best_similarity).toFixed(1),"%")):t.push("".concat(a,": \u274c"))}),t.join(" | ")},it=e=>{if(!e)return"bg-danger";const t=e.toLowerCase();return t.includes("openalex")?"bg-primary":t.includes("crossref")?"bg-info":t.includes("doi")?"bg-success":t.includes("arxiv")?"bg-warning":t.includes("semantic")?"bg-secondary":"bg-dark"},ot=e=>e?e>=.9?"bg-success":e>=.7?"bg-warning":"bg-danger":"bg-secondary",ct=e=>{let{selectedFile:t,setSelectedFile:a,dragOver:n,setDragOver:l,onStartVerification:s,onExportResults:i,onClearResults:o,error:c,setError:d,isVerifying:u,verificationResults:m}=e;const h=(0,r.useRef)(null);return(0,ze.jsx)("div",{className:"row mb-4",children:(0,ze.jsx)("div",{className:"col-12",children:(0,ze.jsxs)("div",{className:"card",children:[(0,ze.jsx)("div",{className:"card-header",children:(0,ze.jsxs)("h5",{className:"mb-0",children:[(0,ze.jsx)("i",{className:"fas fa-upload"})," File Selection"]})}),(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsxs)("div",{className:"file-drop-zone ".concat(n?"dragover":""),onClick:()=>{var e;return null===(e=h.current)||void 0===e?void 0:e.click()},onDragOver:e=>{e.preventDefault(),l(!0)},onDragLeave:e=>{e.preventDefault(),l(!1)},onDrop:e=>{e.preventDefault(),l(!1);const t=e.dataTransfer.files;if(t.length>0){const e=t[0];lt(e)?(a(e),d(null)):d("Please select a valid JSON or BibTeX file.")}},children:[(0,ze.jsx)("i",{className:"fas fa-cloud-upload-alt fa-3x text-muted mb-3"}),(0,ze.jsx)("p",{className:"mb-2",children:"Drop your publications file here or click to browse"}),(0,ze.jsx)("p",{className:"text-muted small",children:"Supported formats: JSON (.json), BibTeX (.bib)"}),(0,ze.jsx)("input",{ref:h,type:"file",className:"d-none",accept:".json,.bib",onChange:e=>{const t=e.target.files[0];t&&lt(t)?(a(t),d(null)):d("Please select a valid JSON or BibTeX file.")}}),t&&(0,ze.jsx)("div",{className:"mt-2",children:(0,ze.jsxs)("div",{className:"alert alert-success alert-sm",children:[(0,ze.jsx)("i",{className:"fas fa-file"})," ",(0,ze.jsx)("strong",{children:t.name}),(0,ze.jsx)("br",{}),(0,ze.jsxs)("small",{children:["Type: ",t.name.toLowerCase().endsWith(".bib")?"BibTeX":"JSON"," | Size: ",(t.size/1024).toFixed(2)," KB"]})]})})]}),(0,ze.jsx)("div",{className:"row mt-3",children:(0,ze.jsx)("div",{className:"col-12",children:(0,ze.jsxs)("div",{className:"d-flex gap-2",children:[(0,ze.jsxs)("button",{className:"btn btn-primary",disabled:!t||u,onClick:s,children:[(0,ze.jsx)("i",{className:"fas fa-search"})," Search Publications Across Databases"]}),(0,ze.jsxs)("button",{className:"btn btn-secondary",onClick:()=>{a(null),h.current&&(h.current.value=""),o()},children:[(0,ze.jsx)("i",{className:"fas fa-trash"})," Clear Results"]}),(0,ze.jsxs)("button",{className:"btn btn-success",disabled:!m,onClick:i,children:[(0,ze.jsx)("i",{className:"fas fa-download"})," Export Results"]})]})})})]})]})})})},dt=e=>{let{verificationResults:t}=e;const[a,n]=(0,r.useState)("summary"),l=t?t.found_in_openalex+t.found_in_crossref+t.found_in_doi+t.found_in_arxiv+t.found_in_semantic_scholar:0,s=t&&t.total_publications>0?(l/t.total_publications*100).toFixed(1):0;return t?(0,ze.jsx)("div",{className:"row",children:(0,ze.jsxs)("div",{className:"col-12",children:[(0,ze.jsxs)("div",{className:"verification-summary",children:[(0,ze.jsxs)("h3",{children:[(0,ze.jsx)("i",{className:"fas fa-chart-pie"})," Verification Summary"]}),(0,ze.jsxs)("div",{className:"row",children:[(0,ze.jsx)("div",{className:"col-md-2",children:(0,ze.jsxs)("div",{className:"stat-item",children:[(0,ze.jsx)("div",{className:"stat-number",children:t.total_publications}),(0,ze.jsx)("div",{className:"stat-label",children:"Total Publications"})]})}),(0,ze.jsx)("div",{className:"col-md-2",children:(0,ze.jsxs)("div",{className:"stat-item",children:[(0,ze.jsx)("div",{className:"stat-number",children:l}),(0,ze.jsx)("div",{className:"stat-label",children:"Found"})]})}),(0,ze.jsx)("div",{className:"col-md-2",children:(0,ze.jsxs)("div",{className:"stat-item",children:[(0,ze.jsx)("div",{className:"stat-number",children:t.not_found}),(0,ze.jsx)("div",{className:"stat-label",children:"Not Found"})]})}),(0,ze.jsx)("div",{className:"col-md-2",children:(0,ze.jsxs)("div",{className:"stat-item",children:[(0,ze.jsxs)("div",{className:"stat-number",children:[s,"%"]}),(0,ze.jsx)("div",{className:"stat-label",children:"Success Rate"})]})}),(0,ze.jsx)("div",{className:"col-md-2",children:(0,ze.jsxs)("div",{className:"stat-item",children:[(0,ze.jsx)("div",{className:"stat-number",children:"5"}),(0,ze.jsx)("div",{className:"stat-label",children:"Databases Used"})]})}),(0,ze.jsx)("div",{className:"col-md-2",children:(0,ze.jsxs)("div",{className:"stat-item",children:[(0,ze.jsx)("div",{className:"stat-number",children:t.search_time||"0s"}),(0,ze.jsx)("div",{className:"stat-label",children:"Search Time"})]})})]})]}),(0,ze.jsx)("div",{className:"row mb-4",children:["OpenAlex","Crossref","DOI API","ArXiv","Semantic Scholar","Not Found"].map((e,a)=>{const n=0===a?t.found_in_openalex:1===a?t.found_in_crossref:2===a?t.found_in_doi:3===a?t.found_in_arxiv:4===a?t.found_in_semantic_scholar:t.not_found;return(0,ze.jsx)("div",{className:"col-md-2",children:(0,ze.jsx)("div",{className:"card database-card",children:(0,ze.jsxs)("div",{className:"card-body text-center",children:[(0,ze.jsx)("h5",{className:"card-title",children:e}),(0,ze.jsx)("div",{className:"".concat(5===a?"not-found-count":"found-count"),children:n}),(0,ze.jsx)("div",{className:"success-rate",children:t.total_publications>0?(n/t.total_publications*100).toFixed(1)+"%":"0%"})]})})},e)})}),(0,ze.jsxs)("div",{className:"card",children:[(0,ze.jsx)("div",{className:"card-header",children:(0,ze.jsxs)("ul",{className:"nav nav-tabs card-header-tabs",role:"tablist",children:[(0,ze.jsx)("li",{className:"nav-item",role:"presentation",children:(0,ze.jsxs)("button",{className:"nav-link ".concat("summary"===a?"active":""),onClick:()=>n("summary"),type:"button",children:[(0,ze.jsx)("i",{className:"fas fa-chart-pie"})," Summary"]})}),(0,ze.jsx)("li",{className:"nav-item",role:"presentation",children:(0,ze.jsxs)("button",{className:"nav-link ".concat("details"===a?"active":""),onClick:()=>n("details"),type:"button",children:[(0,ze.jsx)("i",{className:"fas fa-list"})," Detailed Results"]})}),(0,ze.jsx)("li",{className:"nav-item",role:"presentation",children:(0,ze.jsxs)("button",{className:"nav-link ".concat("table"===a?"active":""),onClick:()=>n("table"),type:"button",children:[(0,ze.jsx)("i",{className:"fas fa-table"})," Results Table"]})})]})}),(0,ze.jsxs)("div",{className:"card-body",children:["summary"===a&&(()=>{if(!t)return null;const e=[{name:"OpenAlex",count:t.found_in_openalex},{name:"Crossref",count:t.found_in_crossref},{name:"DOI API",count:t.found_in_doi},{name:"ArXiv",count:t.found_in_arxiv},{name:"Semantic Scholar",count:t.found_in_semantic_scholar},{name:"Not Found",count:t.not_found}];return(0,ze.jsxs)("div",{className:"row",children:[(0,ze.jsxs)("div",{className:"col-md-6",children:[(0,ze.jsx)("h5",{children:"Database Performance"}),(0,ze.jsx)("div",{className:"table-responsive",children:(0,ze.jsxs)("table",{className:"table table-sm",children:[(0,ze.jsx)("thead",{children:(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("th",{children:"Database"}),(0,ze.jsx)("th",{children:"Found"}),(0,ze.jsx)("th",{children:"Success Rate"})]})}),(0,ze.jsx)("tbody",{children:e.map(e=>{const a=t.total_publications>0?(e.count/t.total_publications*100).toFixed(1):0;return(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:e.name}),(0,ze.jsx)("td",{children:e.count}),(0,ze.jsxs)("td",{children:[a,"%"]})]},e.name)})})]})})]}),(0,ze.jsxs)("div",{className:"col-md-6",children:[(0,ze.jsx)("h5",{children:"Search Statistics"}),(0,ze.jsxs)("ul",{className:"list-group list-group-flush",children:[(0,ze.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,ze.jsx)("span",{children:"Total Publications:"}),(0,ze.jsx)("span",{className:"badge bg-primary",children:t.total_publications})]}),(0,ze.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,ze.jsx)("span",{children:"Successfully Found:"}),(0,ze.jsx)("span",{className:"badge bg-success",children:l})]}),(0,ze.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,ze.jsx)("span",{children:"Not Found:"}),(0,ze.jsx)("span",{className:"badge bg-danger",children:t.not_found})]}),(0,ze.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,ze.jsx)("span",{children:"Overall Success Rate:"}),(0,ze.jsxs)("span",{className:"badge bg-info",children:[t.total_publications>0?(l/t.total_publications*100).toFixed(1):0,"%"]})]})]})]})]})})(),"details"===a&&(()=>{if(null===t||void 0===t||!t.detailed_results)return null;const e={};return t.detailed_results.forEach((t,a)=>{const n=t.found_in_database||"Not Found";e[n]||(e[n]=[]),e[n].push(Re(Re({},t),{},{index:a+1}))}),(0,ze.jsx)("div",{className:"accordion",id:"detailsAccordion",children:Object.keys(e).map((t,a)=>{const n=e[t],r=0===a;return(0,ze.jsxs)("div",{className:"accordion-item",children:[(0,ze.jsx)("h2",{className:"accordion-header",id:"heading".concat(t.replace(/\s+/g,"")),children:(0,ze.jsxs)("button",{className:"accordion-button ".concat(r?"":"collapsed"),type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse".concat(t.replace(/\s+/g,"")),children:[(0,ze.jsx)("i",{className:"fas fa-database me-2"}),t," (",n.length," publications)"]})}),(0,ze.jsx)("div",{id:"collapse".concat(t.replace(/\s+/g,"")),className:"accordion-collapse collapse ".concat(r?"show":""),"data-bs-parent":"#detailsAccordion",children:(0,ze.jsx)("div",{className:"accordion-body",children:(0,ze.jsx)("div",{className:"list-group",children:n.map(e=>{const t=e.best_match_similarity?(100*e.best_match_similarity).toFixed(1)+"%":"N/A";return(0,ze.jsxs)("div",{className:"list-group-item",children:[(0,ze.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[(0,ze.jsxs)("h6",{className:"mb-1",children:[e.index,". ",e.title||"N/A"]}),(0,ze.jsx)("small",{className:"badge bg-primary",children:t})]}),(0,ze.jsxs)("p",{className:"mb-1",children:[(0,ze.jsx)("strong",{children:"Best Match:"})," ",e.best_match_title||"N/A"]}),(0,ze.jsxs)("small",{children:["Database Results: ",st(e.database_results)]})]},e.index)})})})})]},t)})})})(),"table"===a&&(null!==t&&void 0!==t&&t.detailed_results?(0,ze.jsx)("div",{className:"table-responsive",children:(0,ze.jsxs)("table",{className:"table table-striped table-hover",children:[(0,ze.jsx)("thead",{className:"table-dark",children:(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("th",{children:"#"}),(0,ze.jsx)("th",{children:"Title"}),(0,ze.jsx)("th",{children:"Found In"}),(0,ze.jsx)("th",{children:"Similarity"}),(0,ze.jsx)("th",{children:"Best Match Title"}),(0,ze.jsx)("th",{children:"Database Results"})]})}),(0,ze.jsx)("tbody",{children:t.detailed_results.map((e,t)=>{const a=e.best_match_similarity?(100*e.best_match_similarity).toFixed(1)+"%":"N/A";return(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:t+1}),(0,ze.jsx)("td",{children:e.title||"N/A"}),(0,ze.jsx)("td",{children:(0,ze.jsx)("span",{className:"badge ".concat(it(e.found_in_database)),children:e.found_in_database||"Not Found"})}),(0,ze.jsx)("td",{children:(0,ze.jsx)("span",{className:"badge similarity-badge ".concat(ot(e.best_match_similarity)),children:a})}),(0,ze.jsx)("td",{children:e.best_match_title||"N/A"}),(0,ze.jsx)("td",{children:st(e.database_results)})]},t)})})]})}):null)]})]})]})}):null};function ut(e,t){const a=window.URL.createObjectURL(e),n=document.createElement("a");n.href=a,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(a)}const mt=()=>{const[e,t]=(0,r.useState)(null),[a,n]=(0,r.useState)("abbas.rahimi@jku.at"),[l,s]=(0,r.useState)(""),[i,o]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null),[h,f]=(0,r.useState)(null),[p,v]=(0,r.useState)(!1),[x,g]=(0,r.useState)(!1);return(0,ze.jsxs)("div",{className:"container-fluid mt-4",children:[(0,ze.jsx)("div",{className:"row",children:(0,ze.jsx)("div",{className:"col-12",children:(0,ze.jsxs)("h1",{className:"mb-4",children:[(0,ze.jsx)("i",{className:"fas fa-search"})," Publication Verifier",(0,ze.jsx)("small",{className:"text-muted",children:"Multi-Database Search"})]})})}),h&&(0,ze.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[h,(0,ze.jsx)("button",{type:"button",className:"btn-close",onClick:()=>f(null)})]}),(0,ze.jsx)(rt,{email:a,setEmail:n,apiKey:l,setApiKey:s,useStorage:x,setUseStorage:g,executionName:i,setExecutionName:o}),(0,ze.jsx)(ct,{selectedFile:e,setSelectedFile:t,dragOver:p,setDragOver:v,onStartVerification:async()=>{if(e&&!c)if(!x||i.trim()){d(!0),f(null);try{const t=new FormData;t.append("file",e),t.append("email",a.trim()),t.append("api_key",l.trim()),x&&t.append("execution_name",i.trim());const n=x?await at.verifyPublicationsWithStorage(t):await at.verifyPublications(t);m(n)}catch(h){f("Error during verification: "+h.message)}finally{d(!1)}}else f("Please provide an execution name when using storage mode.")},onExportResults:async()=>{if(u)try{ut(await at.exportVerificationResults(u,"text"),"publication_verification_".concat((new Date).toISOString().split("T")[0],".txt"))}catch(h){f("Error exporting results: "+h.message)}else alert("No results to export.")},onClearResults:()=>{t(null),m(null),f(null)},error:h,setError:f,isVerifying:c,verificationResults:u}),c&&(0,ze.jsx)("div",{className:"row mb-4",children:(0,ze.jsx)("div",{className:"col-12",children:(0,ze.jsx)("div",{className:"card",children:(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsxs)("div",{className:"d-flex align-items-center",children:[(0,ze.jsx)("div",{className:"spinner-border spinner-border-sm me-3",role:"status",children:(0,ze.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,ze.jsx)("div",{className:"flex-grow-1",children:(0,ze.jsx)("div",{className:"progress",children:(0,ze.jsx)("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar",style:{width:"100%"}})})})]}),(0,ze.jsx)("div",{className:"mt-2 text-center",children:"Searching publications across databases..."})]})})})}),u&&(0,ze.jsx)(dt,{verificationResults:u})]})},ht=e=>{let{useStorage:t,setUseStorage:a,executionName:n,setExecutionName:r}=e;return(0,ze.jsx)("div",{className:"row mb-4",children:(0,ze.jsx)("div",{className:"col-12",children:(0,ze.jsxs)("div",{className:"card",children:[(0,ze.jsx)("div",{className:"card-header",children:(0,ze.jsxs)("h5",{className:"mb-0",children:[(0,ze.jsx)("i",{className:"fas fa-cog"})," Configuration"]})}),(0,ze.jsx)("div",{className:"card-body",children:(0,ze.jsx)(nt,{useStorage:t,setUseStorage:a,executionName:n,setExecutionName:r,description:"Enable to store comparison results in the database for later analysis."})})]})})})},ft=e=>{let{sourceFile:t,setSourceFile:a,targetFile:n,setTargetFile:l,sourceDragOver:s,setSourceDragOver:i,targetDragOver:o,setTargetDragOver:c,onStartComparison:d,onExportResults:u,onClearResults:m,error:h,setError:f,isComparing:p,comparisonResults:v}=e;const x=(0,r.useRef)(null),g=(0,r.useRef)(null),b=(e,t)=>{e.preventDefault(),"source"===t?i(!0):c(!0)},y=(e,t)=>{e.preventDefault(),"source"===t?i(!1):c(!1)},j=(e,t)=>{e.preventDefault(),"source"===t?i(!1):c(!1);const n=e.dataTransfer.files;if(n.length>0){const e=n[0];Ve(e)?("source"===t?a(e):l(e),f(null)):f("Please select a valid JSON or BibTeX file.")}},N=(e,t)=>{const n=e.target.files[0];n&&Ve(n)?("source"===t?a(n):l(n),f(null)):f("Please select a valid JSON or BibTeX file.")};return(0,ze.jsx)("div",{className:"row mb-4",children:(0,ze.jsx)("div",{className:"col-12",children:(0,ze.jsxs)("div",{className:"card",children:[(0,ze.jsx)("div",{className:"card-header",children:(0,ze.jsxs)("h5",{className:"mb-0",children:[(0,ze.jsx)("i",{className:"fas fa-upload"})," File Selection"]})}),(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsxs)("div",{className:"row",children:[(0,ze.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ze.jsx)("label",{className:"form-label fw-bold",children:"Source File (LLM Output)"}),(0,ze.jsxs)("div",{className:"file-drop-zone ".concat(s?"dragover":""),onClick:()=>{var e;return null===(e=x.current)||void 0===e?void 0:e.click()},onDragOver:e=>b(e,"source"),onDragLeave:e=>y(e,"source"),onDrop:e=>j(e,"source"),style:{border:"2px dashed #dee2e6",borderRadius:"8px",padding:"2rem",textAlign:"center",cursor:"pointer",transition:"all 0.3s ease",backgroundColor:s?"#e3f2fd":"transparent",borderColor:s?"#007bff":"#dee2e6"},children:[(0,ze.jsx)("i",{className:"fas fa-cloud-upload-alt fa-3x text-muted mb-3"}),(0,ze.jsx)("p",{className:"mb-2",children:"Drop your LLM output file here or click to browse"}),(0,ze.jsx)("p",{className:"text-muted small",children:"Supported formats: JSON (.json), BibTeX (.bib)"}),(0,ze.jsx)("input",{type:"file",ref:x,className:"d-none",accept:".json,.bib",onChange:e=>N(e,"source")}),t&&(0,ze.jsx)("div",{className:"mt-2",children:(0,ze.jsxs)("div",{className:"alert alert-success alert-sm",children:[(0,ze.jsx)("i",{className:"fas fa-file"})," ",(0,ze.jsx)("strong",{children:t.name}),(0,ze.jsx)("br",{}),(0,ze.jsxs)("small",{children:["Size: ",(t.size/1024).toFixed(2)," KB"]})]})})]})]}),(0,ze.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ze.jsx)("label",{className:"form-label fw-bold",children:"Target File (Ground Truth)"}),(0,ze.jsxs)("div",{className:"file-drop-zone ".concat(o?"dragover":""),onClick:()=>{var e;return null===(e=g.current)||void 0===e?void 0:e.click()},onDragOver:e=>b(e,"target"),onDragLeave:e=>y(e,"target"),onDrop:e=>j(e,"target"),style:{border:"2px dashed #dee2e6",borderRadius:"8px",padding:"2rem",textAlign:"center",cursor:"pointer",transition:"all 0.3s ease",backgroundColor:o?"#e3f2fd":"transparent",borderColor:o?"#007bff":"#dee2e6"},children:[(0,ze.jsx)("i",{className:"fas fa-cloud-upload-alt fa-3x text-muted mb-3"}),(0,ze.jsx)("p",{className:"mb-2",children:"Drop your ground truth file here or click to browse"}),(0,ze.jsx)("p",{className:"text-muted small",children:"Supported formats: JSON (.json), BibTeX (.bib)"}),(0,ze.jsx)("input",{type:"file",ref:g,className:"d-none",accept:".json,.bib",onChange:e=>N(e,"target")}),n&&(0,ze.jsx)("div",{className:"mt-2",children:(0,ze.jsxs)("div",{className:"alert alert-success alert-sm",children:[(0,ze.jsx)("i",{className:"fas fa-file"})," ",(0,ze.jsx)("strong",{children:n.name}),(0,ze.jsx)("br",{}),(0,ze.jsxs)("small",{children:["Size: ",(n.size/1024).toFixed(2)," KB"]})]})})]})]})]}),(0,ze.jsx)("div",{className:"row",children:(0,ze.jsx)("div",{className:"col-12",children:(0,ze.jsxs)("div",{className:"d-flex gap-2",children:[(0,ze.jsxs)("button",{className:"btn btn-primary",disabled:!t||!n||p,onClick:d,children:[(0,ze.jsx)("i",{className:"fas fa-play"})," Compare Publications"]}),(0,ze.jsxs)("button",{className:"btn btn-secondary",onClick:()=>{a(null),l(null),x.current&&(x.current.value=""),g.current&&(g.current.value=""),m()},children:[(0,ze.jsx)("i",{className:"fas fa-trash"})," Clear Results"]}),(0,ze.jsxs)("button",{className:"btn btn-success",disabled:!v,onClick:u,children:[(0,ze.jsx)("i",{className:"fas fa-download"})," Export Results"]})]})})})]})]})})})},pt=Array.from({length:11},(e,t)=>t+1),vt=Array.from({length:93},(e,t)=>t+12),xt=Array.from({length:88},(e,t)=>t+105),gt=e=>{var t,a;let{comparisonResults:n}=e;console.log("========================================"),console.log("[ResultsDisplay] ===== COMPARISON RESULTS ====="),console.log("========================================"),console.log("[ResultsDisplay] Full comparisonResults prop:",n),console.log("[ResultsDisplay] comparisonResults type:",typeof n),console.log("[ResultsDisplay] comparisonResults keys:",n?Object.keys(n):"null"),n&&(console.log("[ResultsDisplay] comparisonResults.summary:",n.summary),console.log("[ResultsDisplay] comparisonResults.detailed_results:",n.detailed_results),console.log("[ResultsDisplay] comparisonResults.detailed_results length:",n.detailed_results?n.detailed_results.length:"N/A"),console.log("[ResultsDisplay] comparisonResults.exact_matches:",n.exact_matches),console.log("[ResultsDisplay] comparisonResults.partial_matches:",n.partial_matches),console.log("[ResultsDisplay] comparisonResults.no_matches:",n.no_matches),n.summary&&console.log("[ResultsDisplay] Summary object:",JSON.stringify(n.summary,null,2)),n.detailed_results&&Array.isArray(n.detailed_results)&&(console.log("[ResultsDisplay] Processing",n.detailed_results.length,"detailed results"),n.detailed_results.forEach((e,t)=>{console.log("[ResultsDisplay] Result ".concat(t," (row ").concat(e.row_number,"):"),{row_number:e.row_number,llm_title:e.llm_title,gt_title:e.gt_title,similarity_percentage:e.similarity_percentage,match_type:e.match_type,is_exact_match:e.is_exact_match,is_partial_match:e.is_partial_match,is_no_match:e.is_no_match,rule_number:e.rule_number,interpretation:e.interpretation,all_keys:Object.keys(e),full_object:e})}))),console.log("========================================");const[l,s]=(0,r.useState)(null),[i,o]=(0,r.useState)("all"),[c,d]=(0,r.useState)(!0),[u,m]=(0,r.useState)(!0),h=(0,r.useMemo)(()=>{if(!n||!n.detailed_results)return{};const e={};return n.detailed_results.forEach(t=>{const a=t.rule_number;a&&a>0&&(e[a]||(e[a]={count:0,interpretation:t.interpretation||$e(a)||"Rule ".concat(a),ruleNumber:a}),e[a].count++)}),e},[n]),f=(0,r.useMemo)(()=>{if(!n||!n.detailed_results)return[];let e=n.detailed_results;return l&&(e=e.filter(e=>e.rule_number===l)),"exact"===i?e=e.filter(e=>e.is_exact_match):"partial"===i?e=e.filter(e=>e.is_partial_match):"no_match"===i&&(e=e.filter(e=>e.is_no_match)),e},[n,l,i]);return n?(0,ze.jsx)("div",{className:"row",children:(0,ze.jsxs)("div",{className:"col-12",children:[(0,ze.jsxs)("div",{className:"row mb-4",children:[(0,ze.jsx)("div",{className:"col-md-3",children:(0,ze.jsx)("div",{className:"card",style:{borderLeft:"4px solid #007bff"},children:(0,ze.jsxs)("div",{className:"card-body text-center",children:[(0,ze.jsx)("h3",{className:"text-primary",children:n.summary.total_llm_papers}),(0,ze.jsx)("p",{className:"mb-0",children:"Source Publications"})]})})}),(0,ze.jsx)("div",{className:"col-md-3",children:(0,ze.jsx)("div",{className:"card",style:{borderLeft:"4px solid #007bff"},children:(0,ze.jsxs)("div",{className:"card-body text-center",children:[(0,ze.jsx)("h3",{className:"text-info",children:n.summary.total_gt_papers}),(0,ze.jsx)("p",{className:"mb-0",children:"Target Publications"})]})})}),(0,ze.jsx)("div",{className:"col-md-3",children:(0,ze.jsx)("div",{className:"card",style:{borderLeft:"4px solid #007bff"},children:(0,ze.jsxs)("div",{className:"card-body text-center",children:[(0,ze.jsx)("h3",{className:"text-success",children:n.summary.exact_count}),(0,ze.jsx)("p",{className:"mb-0",children:"Exact Matches"})]})})}),(0,ze.jsx)("div",{className:"col-md-3",children:(0,ze.jsx)("div",{className:"card",style:{borderLeft:"4px solid #007bff"},children:(0,ze.jsxs)("div",{className:"card-body text-center",children:[(0,ze.jsx)("h3",{className:"text-warning",children:n.summary.partial_count}),(0,ze.jsx)("p",{className:"mb-0",children:"Partial Matches"})]})})})]}),Object.keys(h).length>0&&(0,ze.jsxs)("div",{className:"card mb-4",children:[(0,ze.jsx)("div",{className:"card-header",style:{cursor:"pointer"},onClick:()=>d(!c),children:(0,ze.jsxs)("h5",{className:"mb-0 d-flex justify-content-between align-items-center",children:[(0,ze.jsxs)("span",{children:[(0,ze.jsx)("i",{className:"fas fa-sitemap"})," Cascade Matching System - Rule Breakdown"]}),(0,ze.jsx)("i",{className:"fas fa-chevron-".concat(c?"down":"up")})]})}),!c&&(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsx)("div",{className:"row",children:Object.values(h).sort((e,t)=>e.ruleNumber-t.ruleNumber).map(e=>{return(0,ze.jsx)("div",{className:"col-md-3 mb-3",children:(0,ze.jsx)("div",{className:"card h-100",style:{borderLeft:"4px solid ".concat((t=e.ruleNumber,t>=1&&t<=11?"#28a745":t>=12&&t<=104?"#ffc107":t>=105&&t<=192?"#dc3545":"#6c757d")),cursor:"pointer"},onClick:()=>s(l===e.ruleNumber?null:e.ruleNumber),children:(0,ze.jsx)("div",{className:"card-body p-2",children:(0,ze.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,ze.jsxs)("div",{children:[(0,ze.jsxs)("span",{className:"badge ".concat(Qe(e.ruleNumber)," me-2"),children:["Rule ",e.ruleNumber]}),(0,ze.jsx)("small",{className:"text-muted d-block mt-1",children:e.interpretation})]}),(0,ze.jsx)("h4",{className:"mb-0",children:e.count})]})})})},e.ruleNumber);var t})}),(0,ze.jsx)("div",{className:"mt-3",children:(0,ze.jsx)("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>s(null),disabled:!l,children:"Clear Rule Filter"})})]})]}),(0,ze.jsxs)("div",{className:"card",children:[(0,ze.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,ze.jsxs)("h5",{className:"mb-0",children:[(0,ze.jsx)("i",{className:"fas fa-table"})," Comparison Table",f.length!==(null===(t=n.detailed_results)||void 0===t?void 0:t.length)&&(0,ze.jsxs)("span",{className:"badge bg-info ms-2",children:["Showing ",f.length," of ",null===(a=n.detailed_results)||void 0===a?void 0:a.length]})]}),(0,ze.jsx)("div",{className:"d-flex gap-2",children:(0,ze.jsxs)("select",{className:"form-select form-select-sm",style:{width:"auto"},value:i,onChange:e=>o(e.target.value),children:[(0,ze.jsx)("option",{value:"all",children:"All Matches"}),(0,ze.jsx)("option",{value:"exact",children:"Exact Matches"}),(0,ze.jsx)("option",{value:"partial",children:"Partial Matches"}),(0,ze.jsx)("option",{value:"no_match",children:"No Matches"})]})})]}),(0,ze.jsx)("div",{className:"card-body",children:(0,ze.jsx)("div",{className:"table-responsive",style:{maxHeight:"600px",overflowY:"auto"},children:(0,ze.jsxs)("table",{className:"table table-striped table-hover",children:[(0,ze.jsx)("thead",{className:"table-dark",children:(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("th",{children:"Row #"}),(0,ze.jsx)("th",{children:"LLM Generated Title"}),(0,ze.jsx)("th",{children:"Ground Truth Title"}),(0,ze.jsx)("th",{children:"Title Similarity %"}),(0,ze.jsx)("th",{children:"Confidence"}),(0,ze.jsx)("th",{children:"Match Type"}),(0,ze.jsx)("th",{children:"Rule"})]})}),(0,ze.jsx)("tbody",{children:f.map((e,t)=>{var a;console.log("[ResultsDisplay] Rendering result ".concat(t,":"),{row_number:e.row_number,llm_title:e.llm_title,gt_title:e.gt_title,similarity_percentage:e.similarity_percentage,confidence_score:e.confidence_score,match_type:e.match_type,is_exact_match:e.is_exact_match,is_partial_match:e.is_partial_match,is_no_match:e.is_no_match,rule_number:e.rule_number,interpretation:e.interpretation,all_fields:e});const n=null!==(a=e.rule_number)&&void 0!==a?a:null,r=n?$e(n):null,l=e.match_type?e.match_type.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase()):"N/A";return console.log("[ResultsDisplay] Result ".concat(t," processed values:"),{matchType:e.match_type,matchTypeDisplay:l,ruleNumber:n,ruleDescription:r}),(0,ze.jsxs)("tr",{className:Ye(e),children:[(0,ze.jsx)("td",{children:e.row_number}),(0,ze.jsx)("td",{children:e.llm_title||"N/A"}),(0,ze.jsx)("td",{children:e.gt_title||"N/A"}),(0,ze.jsx)("td",{children:(0,ze.jsxs)("span",{className:"badge ".concat((i=e.similarity_percentage,i>=95?"bg-success":i>=85?"bg-warning":"bg-danger")),children:[e.similarity_percentage.toFixed(1),"%"]})}),(0,ze.jsx)("td",{children:null!==e.confidence_score&&void 0!==e.confidence_score?(0,ze.jsxs)("span",{className:"badge ".concat(qe(e.confidence_score)),title:"Confidence: ".concat((100*e.confidence_score).toFixed(1),"%"),children:[(100*e.confidence_score).toFixed(1),"%"]}):(0,ze.jsx)("span",{className:"text-muted",children:"-"})}),(0,ze.jsx)("td",{children:(0,ze.jsx)("span",{className:"badge ".concat((s=e.match_type,"title"===s?"bg-primary":"authors_year"===s?"bg-info":"bg-secondary")),title:e.match_type,children:l})}),(0,ze.jsx)("td",{children:n&&n>0?(0,ze.jsxs)("span",{className:"badge ".concat(Qe(n)),title:r||"Rule ".concat(n),style:{cursor:"help"},children:["Rule ",n]}):(0,ze.jsx)("span",{className:"text-muted",children:"-"})})]},t);var s,i})})]})})})]}),(0,ze.jsxs)("div",{className:"row mt-4",children:[(0,ze.jsx)("div",{className:"col-md-6",children:(0,ze.jsxs)("div",{className:"card",children:[(0,ze.jsx)("div",{className:"card-header",children:(0,ze.jsx)("h5",{className:"mb-0",children:"Comparison Overview"})}),(0,ze.jsx)("div",{className:"card-body",children:(0,ze.jsxs)("ul",{className:"list-group list-group-flush",children:[(0,ze.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,ze.jsx)("span",{children:"Source Publications:"}),(0,ze.jsx)("span",{className:"badge bg-primary",children:n.summary.total_llm_papers})]}),(0,ze.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,ze.jsx)("span",{children:"Target Publications:"}),(0,ze.jsx)("span",{className:"badge bg-info",children:n.summary.total_gt_papers})]}),(0,ze.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,ze.jsx)("span",{children:"Exact Matches:"}),(0,ze.jsx)("span",{className:"badge bg-success",children:n.summary.exact_count})]}),(0,ze.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,ze.jsx)("span",{children:"Partial Matches:"}),(0,ze.jsx)("span",{className:"badge bg-warning",children:n.summary.partial_count})]}),(0,ze.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,ze.jsx)("span",{children:"No Matches:"}),(0,ze.jsx)("span",{className:"badge bg-danger",children:n.summary.no_match_count})]}),(0,ze.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,ze.jsx)("span",{children:(0,ze.jsx)("strong",{children:"Overall Match Rate:"})}),(0,ze.jsxs)("span",{className:"badge bg-primary",children:[((n.summary.exact_count+n.summary.partial_count)/n.summary.total_gt_papers*100).toFixed(1),"%"]})]})]})})]})}),(0,ze.jsx)("div",{className:"col-md-6",children:(0,ze.jsxs)("div",{className:"card",children:[(0,ze.jsx)("div",{className:"card-header",children:(0,ze.jsx)("h5",{className:"mb-0",children:"Match Breakdown"})}),(0,ze.jsx)("div",{className:"card-body",children:(0,ze.jsxs)("ul",{className:"list-group list-group-flush",children:[(0,ze.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,ze.jsx)("span",{children:"Title Exact Matches:"}),(0,ze.jsx)("span",{className:"badge bg-success",children:n.summary.title_exact})]}),(0,ze.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,ze.jsx)("span",{children:"Title Partial Matches:"}),(0,ze.jsx)("span",{className:"badge bg-warning",children:n.summary.title_partial})]}),(0,ze.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,ze.jsx)("span",{children:"Author+Year Exact:"}),(0,ze.jsx)("span",{className:"badge bg-success",children:n.summary.author_exact})]}),(0,ze.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,ze.jsx)("span",{children:"Author+Year Partial:"}),(0,ze.jsx)("span",{className:"badge bg-warning",children:n.summary.author_partial})]})]})})]})})]}),(0,ze.jsxs)("div",{className:"card mt-4",children:[(0,ze.jsx)("div",{className:"card-header",style:{cursor:"pointer"},onClick:()=>m(!u),children:(0,ze.jsxs)("h5",{className:"mb-0 d-flex justify-content-between align-items-center",children:[(0,ze.jsxs)("span",{children:[(0,ze.jsx)("i",{className:"fas fa-info-circle"})," Cascade Matching System - Rules Reference"]}),(0,ze.jsx)("i",{className:"fas fa-chevron-".concat(u?"down":"up")})]})}),!u&&(0,ze.jsx)("div",{className:"card-body",children:(0,ze.jsxs)("div",{className:"row",children:[(0,ze.jsxs)("div",{className:"col-md-4",children:[(0,ze.jsx)("h6",{className:"text-success",children:"Full Matches (Rules 1-11)"}),(0,ze.jsx)("ul",{className:"list-unstyled",children:pt.map(e=>(0,ze.jsxs)("li",{className:"mb-2",children:[(0,ze.jsxs)("span",{className:"badge bg-success me-2",children:["Rule ",e]}),(0,ze.jsx)("small",{children:We[e]})]},e))})]}),(0,ze.jsxs)("div",{className:"col-md-4",children:[(0,ze.jsx)("h6",{className:"text-warning",children:"Partial Matches (Rules 12-104)"}),(0,ze.jsx)("ul",{className:"list-unstyled",children:vt.map(e=>(0,ze.jsxs)("li",{className:"mb-2",children:[(0,ze.jsxs)("span",{className:"badge bg-warning me-2",children:["Rule ",e]}),(0,ze.jsx)("small",{children:We[e]})]},e))})]}),(0,ze.jsxs)("div",{className:"col-md-4",children:[(0,ze.jsx)("h6",{className:"text-danger",children:"No Matches (Rules 105-192)"}),(0,ze.jsx)("ul",{className:"list-unstyled",children:xt.map(e=>(0,ze.jsxs)("li",{className:"mb-2",children:[(0,ze.jsxs)("span",{className:"badge bg-danger me-2",children:["Rule ",e]}),(0,ze.jsx)("small",{children:We[e]})]},e))})]})]})})]})]})}):null},bt=e=>{let{totalPublications:t,foundInDatabase:a,validityMetrics:n}=e;return(0,ze.jsxs)("div",{className:"card mb-4",children:[(0,ze.jsx)("div",{className:"card-header bg-success text-white",children:(0,ze.jsxs)("h5",{className:"mb-0",children:[(0,ze.jsx)("i",{className:"fas fa-check-circle"})," Validity Metrics (Hallucination Detection)"]})}),(0,ze.jsx)("div",{className:"card-body",children:(0,ze.jsxs)("div",{className:"row",children:[(0,ze.jsx)("div",{className:"col-md-3",children:(0,ze.jsx)("div",{className:"card text-center",children:(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsx)("h6",{className:"text-muted",children:"Total Publications"}),(0,ze.jsx)("h2",{className:"text-primary",children:t})]})})}),(0,ze.jsx)("div",{className:"col-md-3",children:(0,ze.jsx)("div",{className:"card text-center",children:(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsx)("h6",{className:"text-muted",children:"Found in Database"}),(0,ze.jsx)("h2",{className:"text-success",children:a})]})})}),(0,ze.jsx)("div",{className:"col-md-3",children:(0,ze.jsx)("div",{className:"card text-center",children:(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsx)("h6",{className:"text-muted",children:"Validity Precision"}),(0,ze.jsx)("h2",{className:"text-info",children:null!==n&&void 0!==n&&n.validity_precision?"".concat((100*n.validity_precision).toFixed(1),"%"):"N/A"})]})})}),(0,ze.jsx)("div",{className:"col-md-3",children:(0,ze.jsx)("div",{className:"card text-center",children:(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsx)("h6",{className:"text-muted",children:"Hallucination Rate"}),(0,ze.jsx)("h2",{className:"text-danger",children:null!==n&&void 0!==n&&n.hallucination_rate?"".concat((100*n.hallucination_rate).toFixed(1),"%"):"N/A"})]})})})]})})]})},yt=e=>{var t,a;let{evaluationMetrics:n,relevanceMetrics:r}=e;return(0,ze.jsxs)("div",{className:"card mb-4",children:[(0,ze.jsxs)("div",{className:"card-header bg-primary text-white d-flex justify-content-between align-items-center",children:[(0,ze.jsxs)("h5",{className:"mb-0",children:[(0,ze.jsx)("i",{className:"fas fa-bullseye"})," Relevance Metrics (Information Retrieval Quality)"]}),"calculated"===n._relevanceCalculationStatus&&(0,ze.jsxs)("span",{className:"badge bg-success",children:[(0,ze.jsx)("i",{className:"fas fa-check-circle"})," Calculated"]}),"incomplete"===n._relevanceCalculationStatus&&(0,ze.jsxs)("span",{className:"badge bg-warning text-dark",title:"Missing: ".concat(null===(t=n._missingData)||void 0===t?void 0:t.join(", ")),children:[(0,ze.jsx)("i",{className:"fas fa-exclamation-triangle"})," Incomplete Data"]})]}),(0,ze.jsxs)("div",{className:"card-body",children:["incomplete"===n._relevanceCalculationStatus&&(0,ze.jsxs)("div",{className:"alert alert-warning",role:"alert",children:[(0,ze.jsxs)("strong",{children:[(0,ze.jsx)("i",{className:"fas fa-exclamation-triangle"})," Note:"]})," Some metrics could not be calculated due to missing data:",(0,ze.jsxs)("strong",{children:[" ",null===(a=n._missingData)||void 0===a?void 0:a.join(", ")]}),(0,ze.jsx)("br",{}),(0,ze.jsx)("small",{children:"Please ensure ground truth references are uploaded for this seed paper to get complete relevance metrics."})]}),(0,ze.jsxs)("div",{className:"row",children:[(0,ze.jsx)("div",{className:"col-md-3",children:(0,ze.jsx)("div",{className:"card text-center",children:(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsx)("h6",{className:"text-muted",children:"Precision"}),(0,ze.jsx)("h2",{className:"text-primary",children:void 0!==(null===r||void 0===r?void 0:r.precision)?"".concat((100*r.precision).toFixed(1),"%"):"N/A"})]})})}),(0,ze.jsx)("div",{className:"col-md-3",children:(0,ze.jsx)("div",{className:"card text-center",children:(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsx)("h6",{className:"text-muted",children:"Recall"}),(0,ze.jsx)("h2",{className:"text-info",children:void 0!==(null===r||void 0===r?void 0:r.recall)?"".concat((100*r.recall).toFixed(1),"%"):"N/A"})]})})}),(0,ze.jsx)("div",{className:"col-md-3",children:(0,ze.jsx)("div",{className:"card text-center",children:(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsx)("h6",{className:"text-muted",children:"F1-Score"}),(0,ze.jsx)("h2",{className:"text-warning",children:void 0!==(null===r||void 0===r?void 0:r.f1_score)?"".concat((100*r.f1_score).toFixed(1),"%"):"N/A"})]})})}),(0,ze.jsx)("div",{className:"col-md-3",children:(0,ze.jsx)("div",{className:"card text-center",children:(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsx)("h6",{className:"text-muted",children:"True Positives"}),(0,ze.jsx)("h2",{className:"text-success",children:(null===r||void 0===r?void 0:r.true_positives)||0})]})})})]}),(0,ze.jsxs)("div",{className:"row mt-3",children:[(0,ze.jsx)("div",{className:"col-md-4",children:(0,ze.jsx)("div",{className:"card text-center",children:(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsx)("h6",{className:"text-muted",children:"False Positives"}),(0,ze.jsx)("h3",{className:"text-danger",children:(null===r||void 0===r?void 0:r.false_positives)||0})]})})}),(0,ze.jsx)("div",{className:"col-md-4",children:(0,ze.jsx)("div",{className:"card text-center",children:(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsx)("h6",{className:"text-muted",children:"False Negatives"}),(0,ze.jsx)("h3",{className:"text-warning",children:(null===r||void 0===r?void 0:r.false_negatives)||0})]})})}),(0,ze.jsx)("div",{className:"col-md-4",children:(0,ze.jsx)("div",{className:"card text-center",children:(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsx)("h6",{className:"text-muted",children:"Total Ground Truth"}),(0,ze.jsx)("h3",{className:"text-info",children:(null===r||void 0===r?void 0:r.total_ground_truth)||0})]})})})]})]})]})},jt=e=>{let{combinedMetrics:t}=e;return(0,ze.jsxs)("div",{className:"card mb-4",children:[(0,ze.jsx)("div",{className:"card-header bg-warning text-dark",children:(0,ze.jsxs)("h5",{className:"mb-0",children:[(0,ze.jsx)("i",{className:"fas fa-balance-scale"})," Combined Quality Metrics"]})}),(0,ze.jsx)("div",{className:"card-body",children:(0,ze.jsxs)("div",{className:"row",children:[(0,ze.jsx)("div",{className:"col-md-6",children:(0,ze.jsx)("div",{className:"card text-center",children:(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsx)("h6",{className:"text-muted",children:"Combined Quality Score"}),(0,ze.jsx)("h2",{className:"text-warning",children:void 0!==(null===t||void 0===t?void 0:t.combined_quality_score)?"".concat((100*t.combined_quality_score).toFixed(1),"%"):"N/A"}),(0,ze.jsx)("p",{className:"text-muted small mb-0",children:"0.3 \xd7 Validity + 0.7 \xd7 F1-Score"})]})})}),(0,ze.jsx)("div",{className:"col-md-6",children:(0,ze.jsx)("div",{className:"card text-center",children:(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsx)("h6",{className:"text-muted",children:"Quality-Adjusted F1"}),(0,ze.jsx)("h2",{className:"text-success",children:void 0!==(null===t||void 0===t?void 0:t.quality_adjusted_f1)?"".concat((100*t.quality_adjusted_f1).toFixed(1),"%"):"N/A"}),(0,ze.jsx)("p",{className:"text-muted small mb-0",children:"F1-Score \xd7 Validity Precision"})]})})})]})})]})},Nt=()=>{const[e,t]=(0,r.useState)(null),[a,n]=(0,r.useState)(null),[l,s]=(0,r.useState)(""),[i,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(null),[h,f]=(0,r.useState)(!1),[p,v]=(0,r.useState)(!1),[x,g]=(0,r.useState)(!1),[b,y]=(0,r.useState)(!1);return(0,ze.jsxs)("div",{className:"container-fluid mt-4",children:[(0,ze.jsx)("div",{className:"row",children:(0,ze.jsx)("div",{className:"col-12",children:(0,ze.jsxs)("h1",{className:"mb-4",children:[(0,ze.jsx)("i",{className:"fas fa-balance-scale"})," Reference Comparer",(0,ze.jsx)("small",{className:"text-muted",children:"Publication Metadata Comparison"})]})})}),u&&(0,ze.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[u,(0,ze.jsx)("button",{type:"button",className:"btn-close",onClick:()=>m(null)})]}),(0,ze.jsx)(ht,{useStorage:b,setUseStorage:y,executionName:l,setExecutionName:s}),(0,ze.jsx)(ft,{sourceFile:e,setSourceFile:t,targetFile:a,setTargetFile:n,sourceDragOver:p,setSourceDragOver:v,targetDragOver:x,setTargetDragOver:g,onStartComparison:async()=>{if(e&&a)if(!b||l.trim()){f(!0),m(null);try{const t=new FormData;t.append("source_file",e),t.append("target_file",a),b&&t.append("execution_name",l.trim());const n=b?await at.comparePublicationsWithStorage(t):await at.comparePublications(t);o(n);const r=(e=>{if(!e||!e.summary)return null;const t=e.summary,a=t.total_llm_papers||0,n=t.total_gt_papers||0,r=t.exact_count||0,l=t.partial_count||0,s=t.no_match_count||0,i=r+l,o=n-i,c=a>0?i/a:0,d=n>0?i/n:0,u=c+d>0?2*c*d/(c+d):0,m={true_positives:i,false_positives:s,false_negatives:Math.max(0,o),total_ground_truth:n,precision:c,recall:d,f1_score:u},h={total_publications:a,found_in_database:i,not_found:s,validity_precision:a>0?i/a:0,hallucination_rate:a>0?s/a:0},f=h.validity_precision;return{validity_metrics:h,relevance_metrics:m,combined_metrics:{combined_quality_score:.3*f+.7*u,quality_adjusted_f1:u*f},_relevanceCalculationStatus:n>0?"calculated":"incomplete",_missingData:0===n?["Ground truth references count"]:[]}})(n);d(r)}catch(u){m("Error during comparison: "+u.message)}finally{f(!1)}}else m("Please provide an execution name when using storage mode.");else alert("Please select both files before comparing.")},onExportResults:async()=>{if(i)try{ut(await at.exportComparisonResults(i,"json"),"reference_comparison_".concat((new Date).toISOString().split("T")[0],".json"))}catch(u){m("Error exporting results: "+u.message)}else alert("No results to export.")},onClearResults:()=>{t(null),n(null),o(null),d(null),m(null)},error:u,setError:m,isComparing:h,comparisonResults:i}),h&&(0,ze.jsx)("div",{className:"row mb-4",children:(0,ze.jsx)("div",{className:"col-12",children:(0,ze.jsx)("div",{className:"card",children:(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsxs)("div",{className:"d-flex align-items-center",children:[(0,ze.jsx)("div",{className:"spinner-border spinner-border-sm me-3",role:"status",children:(0,ze.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,ze.jsx)("div",{className:"flex-grow-1",children:(0,ze.jsx)("div",{className:"progress",children:(0,ze.jsx)("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar",style:{width:"100%"}})})})]}),(0,ze.jsx)("div",{className:"mt-2 text-center",children:"Comparing publications..."})]})})})}),i&&(0,ze.jsx)(gt,{comparisonResults:i}),c&&(0,ze.jsx)("div",{className:"row mt-4",children:(0,ze.jsx)("div",{className:"col-12",children:(0,ze.jsxs)("div",{className:"card",children:[(0,ze.jsx)("div",{className:"card-header",children:(0,ze.jsxs)("h3",{children:[(0,ze.jsx)("i",{className:"fas fa-chart-line"})," Evaluation Metrics"]})}),(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsx)(bt,{totalPublications:c.validity_metrics.total_publications,foundInDatabase:c.validity_metrics.found_in_database,validityMetrics:c.validity_metrics}),(0,ze.jsx)(yt,{evaluationMetrics:c,relevanceMetrics:c.relevance_metrics}),(0,ze.jsx)(jt,{combinedMetrics:c.combined_metrics}),(0,ze.jsxs)("div",{className:"alert alert-info",children:[(0,ze.jsx)("i",{className:"fas fa-info-circle"})," ",(0,ze.jsx)("strong",{children:"Note:"})," For file-based comparison, validity is inferred from matching against ground truth. Publications that match ground truth are considered valid, while those that don't match are considered invalid (potentially hallucinated)."]})]})]})})})]})},_t=e=>{if(!e)return"N/A";return new Date(e).toLocaleString()},wt=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"completed":return"bg-success";case"failed":return"bg-danger";case"running":case"processing":return"bg-warning";case"pending":return"bg-secondary";default:return"bg-info"}},St=e=>{let{executions:t,loading:a,currentPage:n,setCurrentPage:r,itemsPerPage:l,setItemsPerPage:s,selectedExecution:i,onSelectExecution:o}=e;const c=Math.ceil(t.length/l),d=(n-1)*l,u=d+l,m=t.slice(d,u);return a?(0,ze.jsxs)("div",{className:"text-center py-5",children:[(0,ze.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,ze.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,ze.jsx)("p",{className:"mt-3",children:"Loading executions..."})]}):0===t.length?(0,ze.jsxs)("div",{className:"alert alert-info",children:[(0,ze.jsx)("i",{className:"fas fa-info-circle"})," No executions found. Please run a workflow first from the Main Dashboard."]}):(0,ze.jsxs)("div",{children:[(0,ze.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,ze.jsxs)("div",{children:[(0,ze.jsx)("label",{className:"me-2",children:"Show:"}),(0,ze.jsxs)("select",{className:"form-select form-select-sm d-inline-block w-auto",value:l,onChange:e=>{s(Number(e.target.value)),r(1)},children:[(0,ze.jsx)("option",{value:5,children:"5"}),(0,ze.jsx)("option",{value:10,children:"10"}),(0,ze.jsx)("option",{value:25,children:"25"}),(0,ze.jsx)("option",{value:50,children:"50"}),(0,ze.jsx)("option",{value:100,children:"100"})]}),(0,ze.jsx)("span",{className:"ms-2 text-muted",children:"entries per page"})]}),(0,ze.jsxs)("div",{className:"text-muted",children:["Showing ",d+1," to ",Math.min(u,t.length)," of ",t.length," executions"]})]}),(0,ze.jsx)("div",{className:"table-responsive",children:(0,ze.jsxs)("table",{className:"table table-hover table-striped",children:[(0,ze.jsx)("thead",{className:"table-dark",children:(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("th",{style:{width:"50px"},children:"Select"}),(0,ze.jsx)("th",{children:"Seed Paper Title"}),(0,ze.jsx)("th",{children:"Prompt ID"}),(0,ze.jsx)("th",{children:"Prompt Version"}),(0,ze.jsx)("th",{children:"LLM Name"}),(0,ze.jsx)("th",{children:"LLM Version"}),(0,ze.jsx)("th",{children:"Execution Date"}),(0,ze.jsx)("th",{children:"Total Publications Found"})]})}),(0,ze.jsx)("tbody",{children:m.map(e=>{var t,a,n,r,l,s,c,d,u,m;const h=(null===(t=e.seed_paper)||void 0===t?void 0:t.title)||e.seed_paper_title||e.seedPaperTitle||"N/A",f=(null===(a=e.prompt)||void 0===a?void 0:a.id)||e.prompt_id||e.promptId||"N/A",p=null!==(n=null!==(r=e.prompt_version)&&void 0!==r?r:null===(l=e.prompt)||void 0===l?void 0:l.version)&&void 0!==n?n:"\u2014",v=(null===(s=e.llm_system)||void 0===s?void 0:s.name)||(null===(c=e.llm_system)||void 0===c?void 0:c.llm_provider)||e.llm_provider||"N/A",x=(null===(d=e.llm_system)||void 0===d?void 0:d.version)||(null===(u=e.llm_system)||void 0===u?void 0:u.model_name)||e.model_name||"N/A",g=e.execution_date||e.created_at||e.executionDate||e.date||e.timestamp,b=null!==(m=e.total_publications_found)&&void 0!==m?m:0;return(0,ze.jsxs)("tr",{className:(null===i||void 0===i?void 0:i.id)===e.id?"table-primary":"",style:{cursor:"pointer"},onClick:()=>o(e),children:[(0,ze.jsx)("td",{className:"text-center",children:(0,ze.jsx)("input",{type:"radio",name:"executionSelect",checked:(null===i||void 0===i?void 0:i.id)===e.id,onChange:()=>o(e),onClick:e=>e.stopPropagation()})}),(0,ze.jsx)("td",{className:"text-truncate",style:{maxWidth:"400px"},title:h,children:h}),(0,ze.jsx)("td",{children:f}),(0,ze.jsx)("td",{children:p}),(0,ze.jsx)("td",{children:v}),(0,ze.jsx)("td",{children:x}),(0,ze.jsx)("td",{children:_t(g)}),(0,ze.jsx)("td",{children:b})]},e.id)})})]})}),c>1&&(0,ze.jsx)("nav",{"aria-label":"Execution table pagination",children:(0,ze.jsxs)("ul",{className:"pagination justify-content-center",children:[(0,ze.jsx)("li",{className:"page-item ".concat(1===n?"disabled":""),children:(0,ze.jsx)("button",{className:"page-link",onClick:()=>r(1),disabled:1===n,children:(0,ze.jsx)("i",{className:"fas fa-angle-double-left"})})}),(0,ze.jsx)("li",{className:"page-item ".concat(1===n?"disabled":""),children:(0,ze.jsxs)("button",{className:"page-link",onClick:()=>r(e=>Math.max(1,e-1)),disabled:1===n,children:[(0,ze.jsx)("i",{className:"fas fa-angle-left"})," Previous"]})}),(()=>{const e=[];if(c<=5)for(let t=1;t<=c;t++)e.push(t);else{e.push(1);let t=Math.max(2,n-1),a=Math.min(c-1,n+1);n<=2&&(a=Math.min(4,c-1)),n>=c-1&&(t=Math.max(2,c-3)),t>2&&e.push("...");for(let n=t;n<=a;n++)e.push(n);a<c-1&&e.push("..."),c>1&&e.push(c)}return e})().map((e,t)=>(0,ze.jsx)("li",{className:"page-item ".concat(e===n?"active":""," ").concat("..."===e?"disabled":""),children:"..."===e?(0,ze.jsx)("span",{className:"page-link",children:"..."}):(0,ze.jsx)("button",{className:"page-link",onClick:()=>r(e),children:e})},t)),(0,ze.jsx)("li",{className:"page-item ".concat(n===c?"disabled":""),children:(0,ze.jsxs)("button",{className:"page-link",onClick:()=>r(e=>Math.min(c,e+1)),disabled:n===c,children:["Next ",(0,ze.jsx)("i",{className:"fas fa-angle-right"})]})}),(0,ze.jsx)("li",{className:"page-item ".concat(n===c?"disabled":""),children:(0,ze.jsx)("button",{className:"page-link",onClick:()=>r(c),disabled:n===c,children:(0,ze.jsx)("i",{className:"fas fa-angle-double-right"})})})]})})]})},kt=e=>{var t,a,n,r,l,s,i,o,c,d,u;let{selectedExecution:m,calculatingMetrics:h,onCalculateMetrics:f}=e;if(!m)return(0,ze.jsxs)("div",{className:"alert alert-warning",children:[(0,ze.jsx)("i",{className:"fas fa-arrow-up"})," Please select an execution from the table above"]});const p=(null===(t=m.seed_paper)||void 0===t?void 0:t.title)||m.seed_paper_title||"N/A",v=(null===(a=m.seed_paper)||void 0===a?void 0:a.id)||m.seed_paper_id||"N/A",x=(null===(n=m.prompt)||void 0===n?void 0:n.id)||m.prompt_id||"N/A",g=null!==(r=null!==(l=m.prompt_version)&&void 0!==l?l:null===(s=m.prompt)||void 0===s?void 0:s.version)&&void 0!==r?r:"N/A",b=(null===(i=m.llm_system)||void 0===i?void 0:i.name)||m.llm_provider||"N/A",y=(null===(o=m.llm_system)||void 0===o?void 0:o.version)||m.model_name||"N/A",j=m.execution_date||m.created_at||"N/A",N=null!==(c=m.total_publications_found)&&void 0!==c?c:0,_=null!==(d=m.verified_publications)&&void 0!==d?d:0,w=null!==(u=m.accuracy_score)&&void 0!==u?u:"N/A";return(0,ze.jsxs)("div",{className:"card mb-3",children:[(0,ze.jsx)("div",{className:"card-header bg-primary text-secondary",children:(0,ze.jsxs)("h6",{className:"mb-0",children:[(0,ze.jsx)("i",{className:"fas fa-info-circle"})," Selected Execution Details"]})}),(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsxs)("div",{className:"row",children:[(0,ze.jsxs)("div",{className:"col-md-6",children:[(0,ze.jsxs)("p",{children:[(0,ze.jsx)("strong",{children:"Execution ID:"})," ",m.id]}),(0,ze.jsxs)("p",{children:[(0,ze.jsx)("strong",{children:"Seed Paper ID:"})," ",v]}),(0,ze.jsxs)("p",{children:[(0,ze.jsx)("strong",{children:"Seed Paper Title:"})," ",p]}),(0,ze.jsxs)("p",{children:[(0,ze.jsx)("strong",{children:"Prompt ID:"})," ",x]}),(0,ze.jsxs)("p",{children:[(0,ze.jsx)("strong",{children:"Prompt Version:"})," ",g]}),(0,ze.jsxs)("p",{children:[(0,ze.jsx)("strong",{children:"LLM Name:"})," ",b]}),(0,ze.jsxs)("p",{children:[(0,ze.jsx)("strong",{children:"LLM Version:"})," ",y]})]}),(0,ze.jsxs)("div",{className:"col-md-6",children:[(0,ze.jsxs)("p",{children:[(0,ze.jsx)("strong",{children:"Status:"})," ",(0,ze.jsx)("span",{className:"badge ".concat(wt(m.status)),children:m.status||"unknown"})]}),(0,ze.jsxs)("p",{children:[(0,ze.jsx)("strong",{children:"Execution Date:"})," ",_t(j)]}),(0,ze.jsxs)("p",{children:[(0,ze.jsx)("strong",{children:"Total Publications Found:"})," ",N]}),(0,ze.jsxs)("p",{children:[(0,ze.jsx)("strong",{children:"Verified Publications:"})," ",_]}),(0,ze.jsxs)("p",{children:[(0,ze.jsx)("strong",{children:"Accuracy Score:"})," ","number"===typeof w?w.toFixed(2):w]})]})]}),(0,ze.jsx)("div",{className:"mt-3",children:(0,ze.jsx)("button",{className:"btn btn-success",onClick:f,disabled:h,children:h?(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Calculating Metrics..."]}):(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("i",{className:"fas fa-calculator"})," Calculate Evaluation Metrics"]})})})]})]})},Pt=(e,t)=>{var a,n,r,l,s;if(!e||!t)return"No evaluation data available";const{validity_metrics:i,relevance_metrics:o,combined_metrics:c}=e,d=null!==(a=t.total_publications_found)&&void 0!==a?a:0,u=null!==(n=t.verified_publications)&&void 0!==n?n:0,m=d-u;let h="========================================\n";return h+="       EVALUATION METRICS REPORT\n",h+="========================================\n\n",h+="--- Execution Information ---\n",h+="Execution ID: ".concat(t.id,"\n"),h+="Seed Paper: ".concat((null===(r=t.seed_paper)||void 0===r?void 0:r.title)||t.seed_paper_title||"N/A","\n"),h+="LLM: ".concat((null===(l=t.llm_system)||void 0===l?void 0:l.name)||t.llm_provider||"N/A"," (").concat((null===(s=t.llm_system)||void 0===s?void 0:s.version)||t.model_name||"N/A",")\n"),h+="Execution Date: ".concat(_t(t.execution_date||t.created_at),"\n\n"),h+="--- VALIDITY METRICS (Hallucination Detection) ---\n",h+="Total Publications Generated: ".concat(d,"\n"),h+="Found in Database: ".concat(u,"\n"),h+="Not Found (Potential Hallucinations): ".concat(m,"\n"),void 0!==(null===i||void 0===i?void 0:i.validity_precision)?(h+="Validity Precision: ".concat((100*i.validity_precision).toFixed(2),"%\n"),h+="Hallucination Rate: ".concat((100*i.hallucination_rate).toFixed(2),"%\n")):(h+="Validity Precision: N/A\n",h+="Hallucination Rate: N/A\n"),void 0!==(null===i||void 0===i?void 0:i.validity_precision)&&(i.validity_precision>=.95?h+="\u2713 Excellent: Very low hallucination rate (< 5%)\n":i.validity_precision>=.9?h+="\u2713 Good: Acceptable hallucination rate (< 10%)\n":i.validity_precision>=.8?h+="! Fair: Moderate hallucination rate (10-20%)\n":h+="\u2717 Poor: High hallucination rate (> 20%)\n"),h+="\n",o&&(h+="--- RELEVANCE METRICS (Information Retrieval Quality) ---\n",h+="True Positives: ".concat(o.true_positives||0,"\n"),h+="False Positives: ".concat(o.false_positives||0,"\n"),h+="False Negatives: ".concat(void 0!==o.false_negatives?o.false_negatives:0,"\n"),h+="Total Ground Truth References: ".concat(o.total_ground_truth||0,"\n\n"),h+="Precision: ".concat(void 0!==o.precision?(100*o.precision).toFixed(2)+"%":"N/A","\n"),h+="Recall: ".concat(void 0!==o.recall?(100*o.recall).toFixed(2)+"%":"N/A","\n"),h+="F1-Score: ".concat(void 0!==o.f1_score?(100*o.f1_score).toFixed(2)+"%":"N/A","\n"),void 0!==o.f1_score&&(o.f1_score>=.8?h+="\u2713 Excellent: Very high retrieval quality\n":o.f1_score>=.7?h+="\u2713 Good: Good retrieval quality\n":o.f1_score>=.5?h+="! Fair: Moderate retrieval quality\n":h+="\u2717 Poor: Low retrieval quality\n"),h+="\n"),c&&(h+="--- COMBINED QUALITY METRICS ---\n",h+="Combined Quality Score: ".concat(void 0!==c.combined_quality_score?(100*c.combined_quality_score).toFixed(2)+"%":"N/A","\n"),h+="  (Formula: 0.3 \xd7 Validity + 0.7 \xd7 F1-Score)\n",h+="Quality-Adjusted F1: ".concat(void 0!==c.quality_adjusted_f1?(100*c.quality_adjusted_f1).toFixed(2)+"%":"N/A","\n"),h+="  (Formula: F1-Score \xd7 Validity Precision)\n",h+="\n"),h+="--- SUMMARY & RECOMMENDATIONS ---\n",void 0!==(null===i||void 0===i?void 0:i.validity_precision)&&i.validity_precision<.95&&(h+="\u2022 Consider improving prompts to reduce hallucinations\n",h+="\u2022 Use more specific instructions about publication accuracy\n"),void 0!==(null===o||void 0===o?void 0:o.precision)&&o.precision<.7&&(h+="\u2022 Improve precision by making prompts more specific\n",h+="\u2022 Define relevance criteria more clearly\n"),void 0!==(null===o||void 0===o?void 0:o.recall)&&o.recall<.7&&(h+="\u2022 Improve recall by making prompts more comprehensive\n",h+="\u2022 Consider requesting more publications\n"),(null===i||void 0===i?void 0:i.validity_precision)>=.95&&(null===o||void 0===o?void 0:o.f1_score)>=.7&&(h+="\u2713 Overall performance is strong!\n"),h+="\n========================================\n",h+="Report Generated: "+(new Date).toLocaleString()+"\n",h+="========================================\n",h},Tt=e=>{let{evaluationMetrics:t,selectedExecution:a}=e;return(0,ze.jsxs)("div",{className:"card mb-4",children:[(0,ze.jsx)("div",{className:"card-header",children:(0,ze.jsxs)("h5",{className:"mb-0",children:[(0,ze.jsx)("i",{className:"fas fa-file-alt"})," Evaluation Report"]})}),(0,ze.jsx)("div",{className:"card-body",children:(0,ze.jsx)("pre",{className:"bg-light p-3 rounded",style:{maxHeight:"400px",overflowY:"auto",whiteSpace:"pre-wrap"},children:Pt(t,a)})})]})},Et=e=>{var t,a;let{evaluationMetrics:n,selectedExecution:r}=e;if(!n)return(0,ze.jsxs)("div",{className:"alert alert-info",children:[(0,ze.jsx)("i",{className:"fas fa-info-circle"}),' Select an execution and click "Calculate Evaluation Metrics" to view the results']});const{validity_metrics:l,relevance_metrics:s,combined_metrics:i}=n,o=null!==(t=null===r||void 0===r?void 0:r.total_publications_found)&&void 0!==t?t:0,c=null!==(a=null===r||void 0===r?void 0:r.verified_publications)&&void 0!==a?a:0;return(0,ze.jsxs)("div",{children:[(0,ze.jsx)(bt,{totalPublications:o,foundInDatabase:c,validityMetrics:l}),s&&(0,ze.jsx)(yt,{evaluationMetrics:n,relevanceMetrics:s}),i&&(0,ze.jsx)(jt,{combinedMetrics:i}),n&&(0,ze.jsx)(Tt,{evaluationMetrics:n,selectedExecution:r})]})},At=()=>(0,ze.jsxs)("div",{children:[(0,ze.jsxs)("div",{className:"alert alert-info",children:[(0,ze.jsxs)("h5",{children:[(0,ze.jsx)("i",{className:"fas fa-info-circle"})," Quick Reference Guide"]}),(0,ze.jsx)("p",{className:"mb-0",children:"Learn how to interpret evaluation metrics for your LLM-based literature search system."})]}),(0,ze.jsxs)("div",{className:"row",children:[(0,ze.jsx)("div",{className:"col-md-6",children:(0,ze.jsxs)("div",{className:"card mb-3",children:[(0,ze.jsx)("div",{className:"card-header bg-success text-secondary",children:(0,ze.jsx)("strong",{children:"Validity Metrics"})}),(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsxs)("p",{children:[(0,ze.jsx)("strong",{children:"Purpose:"})," Detect hallucinations - measure if LLM-generated publications are real"]}),(0,ze.jsxs)("ul",{children:[(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Validity Precision:"})," % of generated publications found in databases"]}),(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Target:"})," >95%"]}),(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Hallucination Rate:"})," Should be <5%"]})]})]})]})}),(0,ze.jsx)("div",{className:"col-md-6",children:(0,ze.jsxs)("div",{className:"card mb-3",children:[(0,ze.jsx)("div",{className:"card-header bg-primary text-secondary",children:(0,ze.jsx)("strong",{children:"Relevance Metrics"})}),(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsxs)("p",{children:[(0,ze.jsx)("strong",{children:"Purpose:"})," Measure if LLM retrieves the right publications"]}),(0,ze.jsxs)("ul",{children:[(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Precision:"})," % of suggested papers that are relevant"]}),(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"Recall:"})," % of relevant papers that were found"]}),(0,ze.jsxs)("li",{children:[(0,ze.jsx)("strong",{children:"F1-Score:"})," Balanced measure (Target: >70%)"]})]})]})]})})]}),(0,ze.jsxs)("div",{className:"card mb-3",children:[(0,ze.jsx)("div",{className:"card-header",children:(0,ze.jsx)("strong",{children:"Score Interpretation"})}),(0,ze.jsx)("div",{className:"card-body",children:(0,ze.jsx)("div",{className:"table-responsive",children:(0,ze.jsxs)("table",{className:"table table-bordered",children:[(0,ze.jsx)("thead",{className:"table-dark",children:(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("th",{children:"Metric"}),(0,ze.jsx)("th",{children:"Poor"}),(0,ze.jsx)("th",{children:"Fair"}),(0,ze.jsx)("th",{children:"Good"}),(0,ze.jsx)("th",{children:"Excellent"})]})}),(0,ze.jsxs)("tbody",{children:[(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:(0,ze.jsx)("strong",{children:"Publication Validity Precision"})}),(0,ze.jsx)("td",{className:"table-danger",children:"<80%"}),(0,ze.jsx)("td",{className:"table-warning",children:"80-90%"}),(0,ze.jsx)("td",{className:"table-info",children:"90-95%"}),(0,ze.jsx)("td",{className:"table-success",children:">95%"})]}),(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:(0,ze.jsx)("strong",{children:"Precision"})}),(0,ze.jsx)("td",{className:"table-danger",children:"<50%"}),(0,ze.jsx)("td",{className:"table-warning",children:"50-70%"}),(0,ze.jsx)("td",{className:"table-info",children:"70-85%"}),(0,ze.jsx)("td",{className:"table-success",children:">85%"})]}),(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:(0,ze.jsx)("strong",{children:"Recall"})}),(0,ze.jsx)("td",{className:"table-danger",children:"<50%"}),(0,ze.jsx)("td",{className:"table-warning",children:"50-70%"}),(0,ze.jsx)("td",{className:"table-info",children:"70-85%"}),(0,ze.jsx)("td",{className:"table-success",children:">85%"})]}),(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:(0,ze.jsx)("strong",{children:"F1-Score"})}),(0,ze.jsx)("td",{className:"table-danger",children:"<50%"}),(0,ze.jsx)("td",{className:"table-warning",children:"50-70%"}),(0,ze.jsx)("td",{className:"table-info",children:"70-80%"}),(0,ze.jsx)("td",{className:"table-success",children:">80%"})]})]})]})})})]}),(0,ze.jsxs)("div",{className:"card",children:[(0,ze.jsx)("div",{className:"card-header",children:(0,ze.jsx)("strong",{children:"How to Improve Your Scores"})}),(0,ze.jsx)("div",{className:"card-body",children:(0,ze.jsxs)("div",{className:"row",children:[(0,ze.jsxs)("div",{className:"col-md-4",children:[(0,ze.jsxs)("h6",{className:"text-success",children:[(0,ze.jsx)("i",{className:"fas fa-check-circle"})," For Validity"]}),(0,ze.jsxs)("ul",{className:"small",children:[(0,ze.jsx)("li",{children:"Improve LLM prompts to emphasize real publications"}),(0,ze.jsx)("li",{children:"Use models less prone to hallucination"})]})]}),(0,ze.jsxs)("div",{className:"col-md-4",children:[(0,ze.jsxs)("h6",{className:"text-primary",children:[(0,ze.jsx)("i",{className:"fas fa-bullseye"})," For Precision"]}),(0,ze.jsxs)("ul",{className:"small",children:[(0,ze.jsx)("li",{children:"Make prompts more specific"}),(0,ze.jsx)("li",{children:"Define relevance criteria clearly"})]})]}),(0,ze.jsxs)("div",{className:"col-md-4",children:[(0,ze.jsxs)("h6",{className:"text-info",children:[(0,ze.jsx)("i",{className:"fas fa-expand"})," For Recall"]}),(0,ze.jsxs)("ul",{className:"small",children:[(0,ze.jsx)("li",{children:"Make prompts more comprehensive"}),(0,ze.jsx)("li",{children:"Ask for more publications"})]})]})]})})]})]}),Ct=e=>{let{results:t}=e;if(!t)return null;const{execution_count:a=0,aggregate_metrics:n={},individual_evaluations:r=[]}=t,{validity_metrics:l={},relevance_metrics:s={},combined_metrics:i={}}=n,o=e=>null===e||void 0===e?"N/A":"".concat((100*e).toFixed(2),"%"),c=e=>null===e||void 0===e?"N/A":e.toFixed(2);return(0,ze.jsxs)("div",{children:[(0,ze.jsxs)("div",{className:"card mb-3",children:[(0,ze.jsx)("div",{className:"card-header bg-primary text-white",children:(0,ze.jsxs)("h5",{children:[(0,ze.jsx)("i",{className:"fas fa-chart-bar"})," Batch Evaluation Summary"]})}),(0,ze.jsx)("div",{className:"card-body",children:(0,ze.jsxs)("div",{className:"row",children:[(0,ze.jsx)("div",{className:"col-md-4",children:(0,ze.jsxs)("div",{className:"text-center p-3 bg-light rounded",children:[(0,ze.jsx)("h2",{className:"text-primary",children:a}),(0,ze.jsx)("p",{className:"text-muted mb-0",children:"Total Executions"})]})}),(0,ze.jsx)("div",{className:"col-md-4",children:(0,ze.jsxs)("div",{className:"text-center p-3 bg-light rounded",children:[(0,ze.jsx)("h2",{className:"text-success",children:o(i.mean_combined_quality_score)}),(0,ze.jsx)("p",{className:"text-muted mb-0",children:"Avg Combined Quality Score"})]})}),(0,ze.jsx)("div",{className:"col-md-4",children:(0,ze.jsxs)("div",{className:"text-center p-3 bg-light rounded",children:[(0,ze.jsx)("h2",{className:"text-info",children:o(s.mean_f1_score)}),(0,ze.jsx)("p",{className:"text-muted mb-0",children:"Avg F1 Score"})]})})]})})]}),l&&Object.keys(l).length>0&&(0,ze.jsxs)("div",{className:"card mb-3",children:[(0,ze.jsx)("div",{className:"card-header",children:(0,ze.jsxs)("h5",{children:[(0,ze.jsx)("i",{className:"fas fa-check-circle"})," Validity Metrics (Hallucination Detection)"]})}),(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsx)("div",{className:"table-responsive",children:(0,ze.jsxs)("table",{className:"table table-bordered",children:[(0,ze.jsx)("thead",{className:"table-light",children:(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("th",{children:"Metric"}),(0,ze.jsx)("th",{children:"Mean"}),(0,ze.jsx)("th",{children:"Std Dev"}),(0,ze.jsx)("th",{children:"Min"}),(0,ze.jsx)("th",{children:"Max"})]})}),(0,ze.jsxs)("tbody",{children:[(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:(0,ze.jsx)("strong",{children:"Validity Precision"})}),(0,ze.jsx)("td",{children:o(l.mean_validity_precision)}),(0,ze.jsx)("td",{children:o(l.std_validity_precision)}),(0,ze.jsx)("td",{children:o(l.min_validity_precision)}),(0,ze.jsx)("td",{children:o(l.max_validity_precision)})]}),(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:(0,ze.jsx)("strong",{children:"Hallucination Rate"})}),(0,ze.jsx)("td",{children:o(l.mean_hallucination_rate)}),(0,ze.jsx)("td",{children:o(l.std_hallucination_rate)}),(0,ze.jsx)("td",{children:o(l.min_hallucination_rate)}),(0,ze.jsx)("td",{children:o(l.max_hallucination_rate)})]}),(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:(0,ze.jsx)("strong",{children:"Total Publications"})}),(0,ze.jsx)("td",{children:c(l.mean_total_publications)}),(0,ze.jsx)("td",{children:c(l.std_total_publications)}),(0,ze.jsx)("td",{children:c(l.min_total_publications)}),(0,ze.jsx)("td",{children:c(l.max_total_publications)})]}),(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:(0,ze.jsx)("strong",{children:"Found in Database"})}),(0,ze.jsx)("td",{children:c(l.mean_found_in_database)}),(0,ze.jsx)("td",{children:c(l.std_found_in_database)}),(0,ze.jsx)("td",{children:c(l.min_found_in_database)}),(0,ze.jsx)("td",{children:c(l.max_found_in_database)})]})]})]})}),(0,ze.jsx)("div",{className:"alert alert-info mt-3",children:(0,ze.jsxs)("small",{children:[(0,ze.jsx)("strong",{children:"Validity Precision:"})," Percentage of LLM-generated publications that are real and verifiable in academic databases.",(0,ze.jsx)("br",{}),(0,ze.jsx)("strong",{children:"Hallucination Rate:"})," Percentage of LLM-generated publications that cannot be verified (potentially fabricated)."]})})]})]}),s&&Object.keys(s).length>0&&(0,ze.jsxs)("div",{className:"card mb-3",children:[(0,ze.jsx)("div",{className:"card-header",children:(0,ze.jsxs)("h5",{children:[(0,ze.jsx)("i",{className:"fas fa-bullseye"})," Relevance Metrics (Information Retrieval Quality)"]})}),(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsx)("div",{className:"table-responsive",children:(0,ze.jsxs)("table",{className:"table table-bordered",children:[(0,ze.jsx)("thead",{className:"table-light",children:(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("th",{children:"Metric"}),(0,ze.jsx)("th",{children:"Mean"}),(0,ze.jsx)("th",{children:"Std Dev"}),(0,ze.jsx)("th",{children:"Min"}),(0,ze.jsx)("th",{children:"Max"})]})}),(0,ze.jsxs)("tbody",{children:[(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:(0,ze.jsx)("strong",{children:"Precision"})}),(0,ze.jsx)("td",{children:o(s.mean_precision)}),(0,ze.jsx)("td",{children:o(s.std_precision)}),(0,ze.jsx)("td",{children:o(s.min_precision)}),(0,ze.jsx)("td",{children:o(s.max_precision)})]}),(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:(0,ze.jsx)("strong",{children:"Recall"})}),(0,ze.jsx)("td",{children:o(s.mean_recall)}),(0,ze.jsx)("td",{children:o(s.std_recall)}),(0,ze.jsx)("td",{children:o(s.min_recall)}),(0,ze.jsx)("td",{children:o(s.max_recall)})]}),(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:(0,ze.jsx)("strong",{children:"F1 Score"})}),(0,ze.jsx)("td",{children:o(s.mean_f1_score)}),(0,ze.jsx)("td",{children:o(s.std_f1_score)}),(0,ze.jsx)("td",{children:o(s.min_f1_score)}),(0,ze.jsx)("td",{children:o(s.max_f1_score)})]}),(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:(0,ze.jsx)("strong",{children:"True Positives"})}),(0,ze.jsx)("td",{children:c(s.mean_true_positives)}),(0,ze.jsx)("td",{children:c(s.std_true_positives)}),(0,ze.jsx)("td",{children:c(s.min_true_positives)}),(0,ze.jsx)("td",{children:c(s.max_true_positives)})]}),(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:(0,ze.jsx)("strong",{children:"False Positives"})}),(0,ze.jsx)("td",{children:c(s.mean_false_positives)}),(0,ze.jsx)("td",{children:c(s.std_false_positives)}),(0,ze.jsx)("td",{children:c(s.min_false_positives)}),(0,ze.jsx)("td",{children:c(s.max_false_positives)})]}),(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:(0,ze.jsx)("strong",{children:"False Negatives"})}),(0,ze.jsx)("td",{children:c(s.mean_false_negatives)}),(0,ze.jsx)("td",{children:c(s.std_false_negatives)}),(0,ze.jsx)("td",{children:c(s.min_false_negatives)}),(0,ze.jsx)("td",{children:c(s.max_false_negatives)})]})]})]})}),(0,ze.jsx)("div",{className:"alert alert-info mt-3",children:(0,ze.jsxs)("small",{children:[(0,ze.jsx)("strong",{children:"Precision:"})," Of all papers the LLM suggested, what percentage are actually relevant?",(0,ze.jsx)("br",{}),(0,ze.jsx)("strong",{children:"Recall:"})," Of all relevant papers, what percentage did the LLM find?",(0,ze.jsx)("br",{}),(0,ze.jsx)("strong",{children:"F1 Score:"})," Harmonic mean of precision and recall, balancing both metrics."]})})]})]}),i&&Object.keys(i).length>0&&(0,ze.jsxs)("div",{className:"card mb-3",children:[(0,ze.jsx)("div",{className:"card-header",children:(0,ze.jsxs)("h5",{children:[(0,ze.jsx)("i",{className:"fas fa-trophy"})," Combined Quality Metrics"]})}),(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsx)("div",{className:"table-responsive",children:(0,ze.jsxs)("table",{className:"table table-bordered",children:[(0,ze.jsx)("thead",{className:"table-light",children:(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("th",{children:"Metric"}),(0,ze.jsx)("th",{children:"Mean"}),(0,ze.jsx)("th",{children:"Std Dev"}),(0,ze.jsx)("th",{children:"Min"}),(0,ze.jsx)("th",{children:"Max"})]})}),(0,ze.jsxs)("tbody",{children:[(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:(0,ze.jsx)("strong",{children:"Combined Quality Score"})}),(0,ze.jsx)("td",{children:o(i.mean_combined_quality_score)}),(0,ze.jsx)("td",{children:o(i.std_combined_quality_score)}),(0,ze.jsx)("td",{children:o(i.min_combined_quality_score)}),(0,ze.jsx)("td",{children:o(i.max_combined_quality_score)})]}),(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:(0,ze.jsx)("strong",{children:"Quality-Adjusted F1"})}),(0,ze.jsx)("td",{children:o(i.mean_quality_adjusted_f1)}),(0,ze.jsx)("td",{children:o(i.std_quality_adjusted_f1)}),(0,ze.jsx)("td",{children:o(i.min_quality_adjusted_f1)}),(0,ze.jsx)("td",{children:o(i.max_quality_adjusted_f1)})]})]})]})}),(0,ze.jsx)("div",{className:"alert alert-info mt-3",children:(0,ze.jsxs)("small",{children:[(0,ze.jsx)("strong",{children:"Combined Quality Score:"})," Weighted combination of validity (30%) and F1 score (70%).",(0,ze.jsx)("br",{}),(0,ze.jsx)("strong",{children:"Quality-Adjusted F1:"})," F1 score penalized by hallucination rate (F1 \xd7 Validity Precision)."]})})]})]}),r&&r.length>0&&(0,ze.jsxs)("div",{className:"card",children:[(0,ze.jsx)("div",{className:"card-header",children:(0,ze.jsxs)("h5",{children:[(0,ze.jsx)("i",{className:"fas fa-list"})," Individual Execution Results"]})}),(0,ze.jsx)("div",{className:"card-body",children:(0,ze.jsx)("div",{className:"table-responsive",children:(0,ze.jsxs)("table",{className:"table table-striped table-hover",children:[(0,ze.jsx)("thead",{children:(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("th",{children:"Execution ID"}),(0,ze.jsx)("th",{children:"LLM System"}),(0,ze.jsx)("th",{children:"Validity"}),(0,ze.jsx)("th",{children:"Precision"}),(0,ze.jsx)("th",{children:"Recall"}),(0,ze.jsx)("th",{children:"F1 Score"}),(0,ze.jsx)("th",{children:"Combined Score"})]})}),(0,ze.jsx)("tbody",{children:r.map((e,t)=>{var a,n,r,l,s;return(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:e.execution_id||"N/A"}),(0,ze.jsx)("td",{children:e.llm_provider&&e.model_name?"".concat(e.llm_provider," - ").concat(e.model_name):"N/A"}),(0,ze.jsx)("td",{children:o(null===(a=e.validity_metrics)||void 0===a?void 0:a.validity_precision)}),(0,ze.jsx)("td",{children:o(null===(n=e.relevance_metrics)||void 0===n?void 0:n.precision)}),(0,ze.jsx)("td",{children:o(null===(r=e.relevance_metrics)||void 0===r?void 0:r.recall)}),(0,ze.jsx)("td",{children:o(null===(l=e.relevance_metrics)||void 0===l?void 0:l.f1_score)}),(0,ze.jsx)("td",{children:o(null===(s=e.combined_metrics)||void 0===s?void 0:s.combined_quality_score)})]},t)})})]})})})]})]})},Mt=e=>{var t,a,n,l,s,i;let{results:o}=e;const[c,d]=(0,r.useState)("combined_quality_score"),[u,m]=(0,r.useState)("desc");if(!o||!o.llm_comparisons||0===o.llm_comparisons.length)return(0,ze.jsxs)("div",{className:"alert alert-warning",children:[(0,ze.jsx)("i",{className:"fas fa-exclamation-triangle"})," No LLM systems found for comparison. Make sure there are multiple executions with different LLM systems for the selected seed paper."]});const{llm_comparisons:h}=o,f=e=>null===e||void 0===e?"N/A":"".concat((100*e).toFixed(2),"%"),p=e=>{if(!e)return"bg-secondary";const t=100*e;return t>=80?"bg-success":t>=60?"bg-info":t>=40?"bg-warning":"bg-danger"},v=[...h].sort((e,t)=>{var a,n,r,l,s,i,o,d,m,h,f,p,v,x,g,b,y,j,N,_;let w,S;switch(c){case"combined_quality_score":w=(null===(a=e.aggregate_metrics)||void 0===a||null===(n=a.combined_metrics)||void 0===n?void 0:n.mean_combined_quality_score)||0,S=(null===(r=t.aggregate_metrics)||void 0===r||null===(l=r.combined_metrics)||void 0===l?void 0:l.mean_combined_quality_score)||0;break;case"f1_score":w=(null===(s=e.aggregate_metrics)||void 0===s||null===(i=s.relevance_metrics)||void 0===i?void 0:i.mean_f1_score)||0,S=(null===(o=t.aggregate_metrics)||void 0===o||null===(d=o.relevance_metrics)||void 0===d?void 0:d.mean_f1_score)||0;break;case"validity":w=(null===(m=e.aggregate_metrics)||void 0===m||null===(h=m.validity_metrics)||void 0===h?void 0:h.mean_validity_precision)||0,S=(null===(f=t.aggregate_metrics)||void 0===f||null===(p=f.validity_metrics)||void 0===p?void 0:p.mean_validity_precision)||0;break;case"precision":w=(null===(v=e.aggregate_metrics)||void 0===v||null===(x=v.relevance_metrics)||void 0===x?void 0:x.mean_precision)||0,S=(null===(g=t.aggregate_metrics)||void 0===g||null===(b=g.relevance_metrics)||void 0===b?void 0:b.mean_precision)||0;break;case"recall":w=(null===(y=e.aggregate_metrics)||void 0===y||null===(j=y.relevance_metrics)||void 0===j?void 0:j.mean_recall)||0,S=(null===(N=t.aggregate_metrics)||void 0===N||null===(_=N.relevance_metrics)||void 0===_?void 0:_.mean_recall)||0;break;case"execution_count":w=e.execution_count||0,S=t.execution_count||0;break;default:w=0,S=0}return"asc"===u?w-S:S-w}),x=v[0],g=e=>{c===e?m("desc"===u?"asc":"desc"):(d(e),m("desc"))},b=e=>c!==e?(0,ze.jsx)("i",{className:"fas fa-sort ms-1"}):"desc"===u?(0,ze.jsx)("i",{className:"fas fa-sort-down ms-1"}):(0,ze.jsx)("i",{className:"fas fa-sort-up ms-1"});return(0,ze.jsxs)("div",{children:[(0,ze.jsxs)("div",{className:"card mb-3 border-success",children:[(0,ze.jsx)("div",{className:"card-header bg-success text-white",children:(0,ze.jsxs)("h5",{children:[(0,ze.jsx)("i",{className:"fas fa-trophy"})," Best Performing LLM System"]})}),(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsxs)("h4",{children:[x.llm_provider," - ",x.model_name]}),(0,ze.jsxs)("div",{className:"row mt-3",children:[(0,ze.jsx)("div",{className:"col-md-3",children:(0,ze.jsxs)("div",{className:"text-center p-3 bg-light rounded",children:[(0,ze.jsx)("h5",{className:"text-success",children:f(null===(t=x.aggregate_metrics)||void 0===t||null===(a=t.combined_metrics)||void 0===a?void 0:a.mean_combined_quality_score)}),(0,ze.jsx)("small",{className:"text-muted",children:"Combined Quality"})]})}),(0,ze.jsx)("div",{className:"col-md-3",children:(0,ze.jsxs)("div",{className:"text-center p-3 bg-light rounded",children:[(0,ze.jsx)("h5",{className:"text-info",children:f(null===(n=x.aggregate_metrics)||void 0===n||null===(l=n.relevance_metrics)||void 0===l?void 0:l.mean_f1_score)}),(0,ze.jsx)("small",{className:"text-muted",children:"F1 Score"})]})}),(0,ze.jsx)("div",{className:"col-md-3",children:(0,ze.jsxs)("div",{className:"text-center p-3 bg-light rounded",children:[(0,ze.jsx)("h5",{className:"text-primary",children:f(null===(s=x.aggregate_metrics)||void 0===s||null===(i=s.validity_metrics)||void 0===i?void 0:i.mean_validity_precision)}),(0,ze.jsx)("small",{className:"text-muted",children:"Validity"})]})}),(0,ze.jsx)("div",{className:"col-md-3",children:(0,ze.jsxs)("div",{className:"text-center p-3 bg-light rounded",children:[(0,ze.jsx)("h5",{className:"text-secondary",children:x.execution_count}),(0,ze.jsx)("small",{className:"text-muted",children:"Executions"})]})})]})]})]}),(0,ze.jsxs)("div",{className:"card mb-3",children:[(0,ze.jsxs)("div",{className:"card-header",children:[(0,ze.jsxs)("h5",{children:[(0,ze.jsx)("i",{className:"fas fa-table"})," LLM System Comparison"]}),(0,ze.jsx)("small",{className:"text-muted",children:"Click column headers to sort"})]}),(0,ze.jsx)("div",{className:"card-body",children:(0,ze.jsx)("div",{className:"table-responsive",children:(0,ze.jsxs)("table",{className:"table table-striped table-hover",children:[(0,ze.jsx)("thead",{children:(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("th",{children:"Rank"}),(0,ze.jsx)("th",{children:"LLM System"}),(0,ze.jsxs)("th",{style:{cursor:"pointer"},onClick:()=>g("execution_count"),children:["Executions ",b("execution_count")]}),(0,ze.jsxs)("th",{style:{cursor:"pointer"},onClick:()=>g("combined_quality_score"),children:["Combined Quality ",b("combined_quality_score")]}),(0,ze.jsxs)("th",{style:{cursor:"pointer"},onClick:()=>g("validity"),children:["Validity ",b("validity")]}),(0,ze.jsxs)("th",{style:{cursor:"pointer"},onClick:()=>g("precision"),children:["Precision ",b("precision")]}),(0,ze.jsxs)("th",{style:{cursor:"pointer"},onClick:()=>g("recall"),children:["Recall ",b("recall")]}),(0,ze.jsxs)("th",{style:{cursor:"pointer"},onClick:()=>g("f1_score"),children:["F1 Score ",b("f1_score")]})]})}),(0,ze.jsx)("tbody",{children:v.map((e,t)=>{var a,n,r,l,s,i,o,c,d,u;const m=null===(a=e.aggregate_metrics)||void 0===a||null===(n=a.combined_metrics)||void 0===n?void 0:n.mean_combined_quality_score,h=null===(r=e.aggregate_metrics)||void 0===r||null===(l=r.validity_metrics)||void 0===l?void 0:l.mean_validity_precision,v=null===(s=e.aggregate_metrics)||void 0===s||null===(i=s.relevance_metrics)||void 0===i?void 0:i.mean_precision,x=null===(o=e.aggregate_metrics)||void 0===o||null===(c=o.relevance_metrics)||void 0===c?void 0:c.mean_recall,g=null===(d=e.aggregate_metrics)||void 0===d||null===(u=d.relevance_metrics)||void 0===u?void 0:u.mean_f1_score;return(0,ze.jsxs)("tr",{children:[(0,ze.jsxs)("td",{children:[0===t&&(0,ze.jsx)("i",{className:"fas fa-trophy text-warning me-2"}),t+1]}),(0,ze.jsxs)("td",{children:[(0,ze.jsx)("strong",{children:e.llm_provider}),(0,ze.jsx)("br",{}),(0,ze.jsx)("small",{className:"text-muted",children:e.model_name})]}),(0,ze.jsx)("td",{children:e.execution_count}),(0,ze.jsx)("td",{children:(0,ze.jsx)("span",{className:"badge ".concat(p(m)),children:f(m)})}),(0,ze.jsx)("td",{children:(0,ze.jsx)("span",{className:"badge ".concat(p(h)),children:f(h)})}),(0,ze.jsx)("td",{children:(0,ze.jsx)("span",{className:"badge ".concat(p(v)),children:f(v)})}),(0,ze.jsx)("td",{children:(0,ze.jsx)("span",{className:"badge ".concat(p(x)),children:f(x)})}),(0,ze.jsx)("td",{children:(0,ze.jsx)("span",{className:"badge ".concat(p(g)),children:f(g)})})]},t)})})]})})})]}),(0,ze.jsx)("div",{className:"accordion",id:"llmDetailsAccordion",children:v.map((e,t)=>{var a,n,r;return(0,ze.jsxs)("div",{className:"accordion-item",children:[(0,ze.jsx)("h2",{className:"accordion-header",id:"heading".concat(t),children:(0,ze.jsxs)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse".concat(t),"aria-expanded":"false","aria-controls":"collapse".concat(t),children:[(0,ze.jsxs)("strong",{children:[e.llm_provider," - ",e.model_name]}),(0,ze.jsxs)("span",{className:"ms-2 text-muted",children:["(",e.execution_count," executions)"]})]})}),(0,ze.jsx)("div",{id:"collapse".concat(t),className:"accordion-collapse collapse","aria-labelledby":"heading".concat(t),"data-bs-parent":"#llmDetailsAccordion",children:(0,ze.jsxs)("div",{className:"accordion-body",children:[(null===(a=e.aggregate_metrics)||void 0===a?void 0:a.validity_metrics)&&(0,ze.jsxs)("div",{className:"mb-3",children:[(0,ze.jsxs)("h6",{children:[(0,ze.jsx)("i",{className:"fas fa-check-circle"})," Validity Metrics"]}),(0,ze.jsxs)("table",{className:"table table-sm table-bordered",children:[(0,ze.jsx)("thead",{children:(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("th",{children:"Metric"}),(0,ze.jsx)("th",{children:"Mean"}),(0,ze.jsx)("th",{children:"Std Dev"}),(0,ze.jsx)("th",{children:"Min"}),(0,ze.jsx)("th",{children:"Max"})]})}),(0,ze.jsxs)("tbody",{children:[(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:"Validity Precision"}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.validity_metrics.mean_validity_precision)}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.validity_metrics.std_validity_precision)}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.validity_metrics.min_validity_precision)}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.validity_metrics.max_validity_precision)})]}),(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:"Hallucination Rate"}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.validity_metrics.mean_hallucination_rate)}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.validity_metrics.std_hallucination_rate)}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.validity_metrics.min_hallucination_rate)}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.validity_metrics.max_hallucination_rate)})]})]})]})]}),(null===(n=e.aggregate_metrics)||void 0===n?void 0:n.relevance_metrics)&&(0,ze.jsxs)("div",{className:"mb-3",children:[(0,ze.jsxs)("h6",{children:[(0,ze.jsx)("i",{className:"fas fa-bullseye"})," Relevance Metrics"]}),(0,ze.jsxs)("table",{className:"table table-sm table-bordered",children:[(0,ze.jsx)("thead",{children:(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("th",{children:"Metric"}),(0,ze.jsx)("th",{children:"Mean"}),(0,ze.jsx)("th",{children:"Std Dev"}),(0,ze.jsx)("th",{children:"Min"}),(0,ze.jsx)("th",{children:"Max"})]})}),(0,ze.jsxs)("tbody",{children:[(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:"Precision"}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.relevance_metrics.mean_precision)}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.relevance_metrics.std_precision)}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.relevance_metrics.min_precision)}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.relevance_metrics.max_precision)})]}),(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:"Recall"}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.relevance_metrics.mean_recall)}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.relevance_metrics.std_recall)}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.relevance_metrics.min_recall)}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.relevance_metrics.max_recall)})]}),(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:"F1 Score"}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.relevance_metrics.mean_f1_score)}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.relevance_metrics.std_f1_score)}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.relevance_metrics.min_f1_score)}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.relevance_metrics.max_f1_score)})]})]})]})]}),(null===(r=e.aggregate_metrics)||void 0===r?void 0:r.combined_metrics)&&(0,ze.jsxs)("div",{children:[(0,ze.jsxs)("h6",{children:[(0,ze.jsx)("i",{className:"fas fa-trophy"})," Combined Metrics"]}),(0,ze.jsxs)("table",{className:"table table-sm table-bordered",children:[(0,ze.jsx)("thead",{children:(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("th",{children:"Metric"}),(0,ze.jsx)("th",{children:"Mean"}),(0,ze.jsx)("th",{children:"Std Dev"}),(0,ze.jsx)("th",{children:"Min"}),(0,ze.jsx)("th",{children:"Max"})]})}),(0,ze.jsxs)("tbody",{children:[(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:"Combined Quality Score"}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.combined_metrics.mean_combined_quality_score)}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.combined_metrics.std_combined_quality_score)}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.combined_metrics.min_combined_quality_score)}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.combined_metrics.max_combined_quality_score)})]}),(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:"Quality-Adjusted F1"}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.combined_metrics.mean_quality_adjusted_f1)}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.combined_metrics.std_quality_adjusted_f1)}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.combined_metrics.min_quality_adjusted_f1)}),(0,ze.jsx)("td",{children:f(e.aggregate_metrics.combined_metrics.max_quality_adjusted_f1)})]})]})]})]})]})})]},t)})})]})},Ot=()=>{const[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)([]),[l,s]=(0,r.useState)({chatgpt_models:[],gemini_models:[]}),[i,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(De.CHATGPT),[h,f]=(0,r.useState)(""),[p,v]=(0,r.useState)(!1),[x,g]=(0,r.useState)(null),[b,y]=(0,r.useState)(null),[j,N]=(0,r.useState)(null),[_,w]=(0,r.useState)("single");(0,r.useEffect)(()=>{S()},[]),(0,r.useEffect)(()=>{if(l){const e=u===De.CHATGPT?l.chatgpt_models:l.gemini_models;e.length>0&&!e.includes(h)&&f(e[0])}},[u,l,h]),(0,r.useEffect)(()=>{(u||h)&&(o(null),d(null))},[u,h]),(0,r.useEffect)(()=>{i&&d(null)},[i]);const S=async()=>{try{var e,a;v(!0);const[r,l,i,o]=await Promise.all([at.getSeedPapers(),at.getPrompts(),at.getLLMModels(),at.getExecutions()]),c=Array.isArray(o)?o:o.executions||o;console.log("[BatchEvaluation] Initial data loaded:",{seedPapers:r.length,prompts:l.length,executions:c.length,chatgptModels:(null===(e=i.chatgpt_models)||void 0===e?void 0:e.length)||0,geminiModels:(null===(a=i.gemini_models)||void 0===a?void 0:a.length)||0}),t(r),n(l),s(i),i.chatgpt_models.length>0&&f(i.chatgpt_models[0])}catch(r){g("Failed to load initial data: "+r.message),console.error("[BatchEvaluation] Failed to load initial data:",r)}finally{v(!1)}},k=u===De.CHATGPT?l.chatgpt_models:l.gemini_models,[P,T]=r.useState(e),[E,A]=r.useState(null);r.useEffect(()=>{(async()=>{if(!u||!h)return T(e),void A(null);try{const t=await at.getLLMSystems(u,h);if(t&&t.llm_systems&&t.llm_systems.length>0){const a=t.llm_systems[0].id;A(a),console.log("[BatchEvaluation] Fetching executions for LLM system ID:",a);const n=await at.getExecutions(a),r=Array.isArray(n)?n:n.executions||n;console.log("[BatchEvaluation] Executions for this LLM system:",r.length);const l=new Set;r.forEach(e=>{var t;const a=e.seed_paper_id||(null===(t=e.seed_paper)||void 0===t?void 0:t.id);a&&l.add(a)});const s=e.filter(e=>l.has(e.id));console.log("[BatchEvaluation] Filtered seed papers:",s.length,"out of",e.length),T(s)}else T([]),A(null)}catch(t){console.error("[BatchEvaluation] Failed to filter seed papers:",t),T(e),A(null)}})()},[u,h,e]);const C=i?a.filter(e=>e.seed_paper_id===i):[];return(0,ze.jsxs)("div",{children:[(0,ze.jsxs)("div",{className:"alert alert-info",children:[(0,ze.jsxs)("h5",{children:[(0,ze.jsx)("i",{className:"fas fa-info-circle"})," Batch Evaluation"]}),(0,ze.jsx)("p",{className:"mb-0",children:"Evaluate an LLM system by analyzing all executions related to a seed paper. You can optionally filter by prompt and LLM system, or compare multiple LLM systems."})]}),x&&(0,ze.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[x,(0,ze.jsx)("button",{type:"button",className:"btn-close",onClick:()=>g(null)})]}),(0,ze.jsx)("div",{className:"card mb-3",children:(0,ze.jsx)("div",{className:"card-body",children:(0,ze.jsxs)("div",{className:"btn-group w-100",role:"group",children:[(0,ze.jsxs)("button",{type:"button",className:"btn ".concat("single"===_?"btn-primary":"btn-outline-primary"),onClick:()=>w("single"),children:[(0,ze.jsx)("i",{className:"fas fa-chart-bar"})," Single LLM Evaluation"]}),(0,ze.jsxs)("button",{type:"button",className:"btn ".concat("compare"===_?"btn-primary":"btn-outline-primary"),onClick:()=>w("compare"),children:[(0,ze.jsx)("i",{className:"fas fa-balance-scale"})," Compare LLM Systems"]})]})})}),(0,ze.jsxs)("div",{className:"card mb-3",children:[(0,ze.jsx)("div",{className:"card-header",children:(0,ze.jsxs)("h5",{children:[(0,ze.jsx)("i",{className:"fas fa-filter"})," Filters"]})}),(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsxs)("div",{className:"row g-3",children:["single"===_&&(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsxs)("div",{className:"col-md-6",children:[(0,ze.jsxs)("label",{htmlFor:"llmProviderSelect",className:"form-label",children:[(0,ze.jsx)("i",{className:"fas fa-robot"})," 1. LLM Provider (Name) ",(0,ze.jsx)("span",{className:"text-danger",children:"*"})]}),(0,ze.jsxs)("select",{id:"llmProviderSelect",className:"form-select",value:u,onChange:e=>m(e.target.value),required:!0,children:[(0,ze.jsx)("option",{value:De.CHATGPT,children:"ChatGPT"}),(0,ze.jsx)("option",{value:De.GEMINI,children:"Gemini"})]})]}),(0,ze.jsxs)("div",{className:"col-md-6",children:[(0,ze.jsxs)("label",{htmlFor:"llmModelSelect",className:"form-label",children:[(0,ze.jsx)("i",{className:"fas fa-microchip"})," 2. LLM Model (Version) ",(0,ze.jsx)("span",{className:"text-danger",children:"*"})]}),(0,ze.jsxs)("select",{id:"llmModelSelect",className:"form-select",value:h,onChange:e=>f(e.target.value),required:!0,children:[(0,ze.jsx)("option",{value:"",children:"-- Select Model --"}),k.map(e=>(0,ze.jsx)("option",{value:e,children:e},e))]})]})]}),(0,ze.jsxs)("div",{className:"col-md-6",children:[(0,ze.jsxs)("label",{htmlFor:"seedPaperSelect",className:"form-label",children:[(0,ze.jsx)("i",{className:"fas fa-file-alt"})," ","single"===_?"3.":"1."," Seed Paper ",(0,ze.jsx)("span",{className:"text-danger",children:"*"})]}),(0,ze.jsxs)("select",{id:"seedPaperSelect",className:"form-select",value:i||"",onChange:e=>o(e.target.value?parseInt(e.target.value):null),disabled:"single"===_&&(!u||!h),children:[(0,ze.jsx)("option",{value:"",children:"-- Select Seed Paper --"}),("compare"===_?e:P).map(e=>(0,ze.jsxs)("option",{value:e.id,children:[e.title," ",e.year?"(".concat(e.year,")"):""]},e.id))]}),"single"===_&&u&&h&&0===P.length&&(0,ze.jsxs)("small",{className:"text-warning",children:[(0,ze.jsx)("i",{className:"fas fa-exclamation-triangle"})," No seed papers with executions for this LLM system"]}),"single"===_&&u&&h&&P.length>0&&(0,ze.jsxs)("small",{className:"text-muted",children:["Showing ",P.length," seed paper(s) with executions for this LLM system"]})]}),(0,ze.jsxs)("div",{className:"col-md-6",children:[(0,ze.jsxs)("label",{htmlFor:"promptSelect",className:"form-label",children:[(0,ze.jsx)("i",{className:"fas fa-comment-dots"})," ","single"===_?"4.":"2."," Prompt ",(0,ze.jsx)("span",{className:"text-muted",children:"(Optional)"})]}),(0,ze.jsxs)("select",{id:"promptSelect",className:"form-select",value:c||"",onChange:e=>d(e.target.value?parseInt(e.target.value):null),disabled:!i,children:[(0,ze.jsx)("option",{value:"",children:"-- All Prompts --"}),C.map(e=>(0,ze.jsxs)("option",{value:e.id,children:["Prompt #",e.id," - ",e.file_path]},e.id))]}),i&&0===C.length&&(0,ze.jsx)("small",{className:"text-muted",children:"No prompts found for this seed paper"})]})]}),(0,ze.jsxs)("div",{className:"mt-3 d-flex gap-2",children:["single"===_?(0,ze.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(i)if(u&&h)try{var e;if(v(!0),g(null),y(null),N(null),!E)return console.error("[BatchEvaluation] No LLM system ID available!"),g("No LLM system found for ".concat(u," - ").concat(h,". Please ensure this LLM system exists in the database.")),void v(!1);console.log("[BatchEvaluation] Evaluating batch with:",{seedPaperId:i,promptId:c||"all",llmSystemId:E,provider:u,model:h});const t=await at.evaluateBatchExecutions(i,c,E);console.log("[BatchEvaluation] \u2705 Batch evaluation completed:",{executionCount:t.execution_count,individualEvaluations:(null===(e=t.individual_evaluations)||void 0===e?void 0:e.length)||0}),y(t)}catch(t){console.error("[BatchEvaluation] \u274c Batch evaluation failed:",t.message);let e=t.message;e.includes("No executions found")&&(e="No executions found for the selected seed paper with the current filters. Please try different filters or ensure executions exist for this seed paper."),g("Failed to evaluate batch executions: "+e)}finally{v(!1)}else g("Please select both LLM provider and model");else g("Please select a seed paper")},disabled:!i||!u||!h||p,children:p?(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Evaluating..."]}):(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("i",{className:"fas fa-play"})," Evaluate Batch"]})}):(0,ze.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(i)try{var e,t;v(!0),g(null),y(null),N(null),console.log("[BatchEvaluation] Comparing LLMs for seed paper:",i,"prompt:",c||"all");const a=await at.compareLLMSystems(i,c);console.log("[BatchEvaluation] \u2705 LLM comparison completed:",{llmCount:(null===(e=a.llm_comparisons)||void 0===e?void 0:e.length)||0,systems:(null===(t=a.llm_comparisons)||void 0===t?void 0:t.map(e=>"".concat(e.llm_provider,"-").concat(e.model_name)))||[]}),N(a)}catch(a){console.error("[BatchEvaluation] \u274c LLM comparison failed:",a.message);let e=a.message;(e.includes("No executions found")||e.includes("No LLM systems found"))&&(e="No LLM systems found for the selected seed paper. Please ensure there are multiple executions with different LLM systems for comparison."),g("Failed to compare LLM systems: "+e)}finally{v(!1)}else g("Please select a seed paper")},disabled:!i||p,children:p?(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Comparing..."]}):(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("i",{className:"fas fa-play"})," Compare LLMs"]})}),(0,ze.jsxs)("button",{className:"btn btn-secondary",onClick:()=>{o(null),d(null),m(De.CHATGPT),l.chatgpt_models.length>0?f(l.chatgpt_models[0]):f(""),y(null),N(null),g(null)},disabled:p,children:[(0,ze.jsx)("i",{className:"fas fa-redo"})," Reset"]})]})]})]}),"single"===_&&b&&(0,ze.jsx)(Ct,{results:b}),"compare"===_&&j&&(0,ze.jsx)(Mt,{results:j})]})},Lt=()=>{const[e,t]=(0,r.useState)("executions"),[a,n]=(0,r.useState)([]),[l,s]=(0,r.useState)(null),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(null),[h,f]=(0,r.useState)(!1),[p,v]=(0,r.useState)(1),[x,g]=(0,r.useState)(10);(0,r.useEffect)(()=>{b()},[]);const b=async()=>{try{o(!0),d(null);const e=await at.getExecutions(),t=Array.isArray(e)?e:e.executions||e;console.log("[EvaluationMetrics] Loaded executions:",t.length),n(t),v(1)}catch(e){d("Failed to load executions: "+e.message),console.error("Failed to load executions:",e)}finally{o(!1)}};return(0,ze.jsxs)("div",{className:"container-fluid mt-4",children:[c&&(0,ze.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[c,(0,ze.jsx)("button",{type:"button",className:"btn-close",onClick:()=>d(null)})]}),(0,ze.jsxs)("div",{className:"card",children:[(0,ze.jsxs)("div",{className:"card-header",children:[(0,ze.jsxs)("h3",{children:[(0,ze.jsx)("i",{className:"fas fa-chart-line"})," Evaluation Metrics"]}),(0,ze.jsx)("p",{className:"text-muted mb-0",children:"Calculate and view evaluation metrics for workflow executions"})]}),(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsxs)("ul",{className:"nav nav-tabs mb-4",role:"tablist",children:[(0,ze.jsx)("li",{className:"nav-item",role:"presentation",children:(0,ze.jsxs)("button",{className:"nav-link ".concat("executions"===e?"active":""),onClick:()=>t("executions"),type:"button",role:"tab",children:[(0,ze.jsx)("i",{className:"fas fa-list"})," Select Execution"]})}),(0,ze.jsx)("li",{className:"nav-item",role:"presentation",children:(0,ze.jsxs)("button",{className:"nav-link ".concat("metrics"===e?"active":""),onClick:()=>t("metrics"),type:"button",role:"tab",children:[(0,ze.jsx)("i",{className:"fas fa-chart-bar"})," Metrics Results"]})}),(0,ze.jsx)("li",{className:"nav-item",role:"presentation",children:(0,ze.jsxs)("button",{className:"nav-link ".concat("batch"===e?"active":""),onClick:()=>t("batch"),type:"button",role:"tab",children:[(0,ze.jsx)("i",{className:"fas fa-layer-group"})," Batch Evaluation"]})}),(0,ze.jsx)("li",{className:"nav-item",role:"presentation",children:(0,ze.jsxs)("button",{className:"nav-link ".concat("guide"===e?"active":""),onClick:()=>t("guide"),type:"button",role:"tab",children:[(0,ze.jsx)("i",{className:"fas fa-book"})," Guide"]})})]}),(0,ze.jsxs)("div",{className:"tab-content",children:["executions"===e&&(0,ze.jsxs)("div",{children:[(0,ze.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,ze.jsxs)("h4",{children:[(0,ze.jsx)("i",{className:"fas fa-database"})," Available Executions"]}),(0,ze.jsxs)("button",{className:"btn btn-primary btn-sm",onClick:b,disabled:i,children:[(0,ze.jsx)("i",{className:"fas fa-sync-alt"})," Refresh"]})]}),(0,ze.jsx)(St,{executions:a,loading:i,currentPage:p,setCurrentPage:v,itemsPerPage:x,setItemsPerPage:g,selectedExecution:l,onSelectExecution:e=>{s(e),m(null)}}),(0,ze.jsx)("div",{className:"mt-4",children:(0,ze.jsx)(kt,{selectedExecution:l,calculatingMetrics:h,onCalculateMetrics:async()=>{if(l)try{var e,a,n,r,s;f(!0),d(null),console.log("Fetching results for execution:",l.id);const o=await at.getExecutionVerificationResults(l.id),c=await at.getExecutionComparisonResults(l.id);console.log("Raw verification results:",o),console.log("Raw comparison results:",c);let u=[];const h=(null===(e=l.seed_paper)||void 0===e?void 0:e.id)||l.seed_paper_id||l.seedPaperId;if(h)try{u=await at.getGroundTruthReferences(h),console.log("Ground truth references fetched:",u),console.log("Ground truth count:",u.length)}catch(i){console.warn("Failed to fetch ground truth references:",i)}else console.warn("No seed paper ID found in execution");const p=(e=>{if(!e)return{total_publications:0,found_in_database:0,not_found:0,detailed_results:[]};let t=e;if(!Array.isArray(e))if(e.results&&Array.isArray(e.results))t=e.results;else{if(!e.verification_results||!Array.isArray(e.verification_results))return{total_publications:0,found_in_database:0,not_found:0,detailed_results:[]};t=e.verification_results}if(0===t.length)return{total_publications:0,found_in_database:0,not_found:0,detailed_results:[]};const a=t[0];let n,r;if(!a||void 0===a.execution_id&&a.database_name){const e={};t.forEach((t,a)=>{const n=t.literature_id||t.literatureId||t.publication_id||t.id;if(!n)return;e[n]||(e[n]={literature_id:n,title:t.title||t.publication_title||"",authors:t.authors||t.author||"",year:t.year||t.publication_year,doi:t.doi||"",found_in_database:!1,databases_checked:[],best_match_similarity:0});const r=t.database_name||t.database||"Unknown";if(e[n].databases_checked.includes(r)||e[n].databases_checked.push(r),!0===t.found||1===t.found||!0===t.verified||!0===t.is_verified||!0===t.match_found){e[n].found_in_database=!0;const a=t.similarity_score||t.similarity||t.score||0;a>e[n].best_match_similarity&&(e[n].best_match_similarity=a)}}),n=Object.values(e),r=n.filter(e=>e.found_in_database).length}else n=t.map(e=>({literature_id:e.id||e.literature_id,title:e.title||"",authors:e.authors||"",year:e.year,doi:e.doi||"",found_in_database:!0,databases_checked:[],best_match_similarity:1})),r=n.length;return{total_publications:n.length,found_in_database:r,not_found:n.length-r,detailed_results:n}})(o),v=(e=>{if(!e)return{total_comparisons:0,exact_matches:0,partial_matches:0,no_matches:0,detailed_results:[]};let t=e;if(!Array.isArray(e))if(e.results&&Array.isArray(e.results))t=e.results;else{if(!e.comparison_results||!Array.isArray(e.comparison_results))return{total_comparisons:0,exact_matches:0,partial_matches:0,no_matches:0,detailed_results:[]};t=e.comparison_results}if(0===t.length)return{total_comparisons:0,exact_matches:0,partial_matches:0,no_matches:0,detailed_results:[]};const a=t.filter(e=>"exact"===e.match_status||"EXACT"===e.match_status||"exact"===e.status).length,n=t.filter(e=>"partial"===e.match_status||"PARTIAL"===e.match_status||"partial"===e.status).length;return{total_comparisons:t.length,exact_matches:a,partial_matches:n,no_matches:t.length-a-n,detailed_results:t}})(c);if(console.log("Transformed verification results:",p),console.log("Transformed comparison results:",v),0===p.total_publications)return void d("No publications found in verification results for this execution. The execution may not have completed successfully.");const x=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=[],r=e.total_publications_found;if(void 0!==r&&null!==r||n.push("total_publications_found from execution"),!t||!t.detailed_results)return n.push("comparison_results.detailed_results"),{hasRequiredData:!1,missingData:n,metrics:{}};const l=(t.exact_matches||0)+(t.partial_matches||0),s=r-l;let i=a;var o;0===i&&(i=t.total_comparisons||0),0===i&&(void 0!==e.ground_truth_count?i=e.ground_truth_count:void 0!==(null===(o=e.seed_paper)||void 0===o?void 0:o.ground_truth_count)&&(i=e.seed_paper.ground_truth_count)),0===i&&n.push("total_ground_truth (no ground truth references found for seed paper)");const c=i-l,d=r>0?l/r:0,u=i>0?l/i:0,m=d+u>0?2*d*u/(d+u):0;return 0===n.length&&i>0?{hasRequiredData:!0,missingData:[],metrics:{true_positives:l,false_positives:Math.max(0,s),false_negatives:Math.max(0,c),total_ground_truth:i,precision:d,recall:u,f1_score:m}}:{hasRequiredData:!1,missingData:n.length>0?n:["total_ground_truth is 0"],metrics:{true_positives:l,false_positives:Math.max(0,s),false_negatives:c>=0?c:"unknown",total_ground_truth:i,precision:d,recall:u,f1_score:m}}}(l,v,u.length);console.log("Manual relevance metrics calculation:",x);const g=await at.evaluateExecution(p,v),b=null!==(a=l.total_publications_found)&&void 0!==a?a:0,y=null!==(n=l.verified_publications)&&void 0!==n?n:0,j=b-y,N=b>0?y/b:0,_=b>0?j/b:0;if(console.log("Manual validity metrics calculation:",{totalPublications:b,verifiedPublications:y,notFound:j,validityPrecision:(100*N).toFixed(2)+"%",hallucinationRate:(100*_).toFixed(2)+"%"}),g.validity_metrics=Re(Re({},g.validity_metrics),{},{total_publications:b,found_in_database:y,not_found:j,validity_precision:N,hallucination_rate:_}),x.hasRequiredData)g.relevance_metrics=Re(Re({},g.relevance_metrics),x.metrics),g._relevanceCalculationStatus="calculated",console.log("Using manually calculated relevance metrics");else{console.warn("Missing required data for manual calculation:",x.missingData),g.relevance_metrics=Re(Re({},g.relevance_metrics),x.metrics),g._relevanceCalculationStatus="incomplete",g._missingData=x.missingData;const e=x.missingData.join(", ");d("Warning: Cannot calculate complete relevance metrics. Missing data: ".concat(e,". Please ensure ground truth references are uploaded for the seed paper."))}const w=null!==(r=null===(s=g.relevance_metrics)||void 0===s?void 0:s.f1_score)&&void 0!==r?r:0,S=.3*N+.7*w,k=w*N;console.log("Manual combined metrics calculation:",{combinedQualityScore:(100*S).toFixed(2)+"%",qualityAdjustedF1:(100*k).toFixed(2)+"%"}),g.combined_metrics=Re(Re({},g.combined_metrics),{},{combined_quality_score:S,quality_adjusted_f1:k}),console.log("Final evaluation metrics:",g),m(g),t("metrics")}catch(i){const e=i.message||"Unknown error occurred";d("Failed to calculate metrics: "+e),console.error("Failed to calculate metrics:",i),console.error("Error details:",{execution:l,errorMessage:e,errorStack:i.stack})}finally{f(!1)}else d("Please select an execution first")}})})]}),"metrics"===e&&(0,ze.jsxs)("div",{children:[(0,ze.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,ze.jsxs)("h4",{children:[(0,ze.jsx)("i",{className:"fas fa-chart-bar"})," Evaluation Metrics Results"]}),l&&(0,ze.jsx)("div",{className:"text-muted",children:(0,ze.jsxs)("small",{children:["Execution ID: ",l.id]})})]}),(0,ze.jsx)(Et,{evaluationMetrics:u,selectedExecution:l})]}),"batch"===e&&(0,ze.jsx)("div",{children:(0,ze.jsx)(Ot,{})}),"guide"===e&&(0,ze.jsx)("div",{children:(0,ze.jsx)(At,{})})]})]})]})]})};function Rt(e){var t,a;let{report:n,fileName:l,createdAt:s}=e;const[i,o]=(0,r.useState)(!1);if(!n)return null;const{llm_system:c,seed_paper:d,prompt:u,execution:m,publications:h}=n;return(0,ze.jsxs)("div",{className:"card mb-3 border-success",children:[(0,ze.jsxs)("div",{className:"card-header bg-success bg-opacity-10 d-flex justify-content-between align-items-center flex-wrap",children:[(0,ze.jsxs)("span",{children:[(0,ze.jsx)("i",{className:"fas fa-check-circle text-success me-2"}),(0,ze.jsx)("strong",{children:l}),s&&(0,ze.jsx)("small",{className:"text-muted ms-2",children:new Date(s).toLocaleString()})]}),(null===h||void 0===h||null===(t=h.items)||void 0===t?void 0:t.length)>0&&(0,ze.jsxs)("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>o(e=>!e),children:[i?"Hide":"Show"," publication list"]})]}),(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsxs)("div",{className:"row g-2 mb-2",children:[c&&(0,ze.jsxs)("div",{className:"col-12 col-md-6",children:[(0,ze.jsx)("span",{className:"badge bg-primary me-1",children:"LLM System"}),c.name," (",c.version,") \u2013 ",c.action]}),d&&(0,ze.jsxs)("div",{className:"col-12 col-md-6",children:[(0,ze.jsx)("span",{className:"badge bg-info me-1",children:"Seed paper"}),d.identifier," \u2013 ",d.action]}),u&&(0,ze.jsxs)("div",{className:"col-12 col-md-6",children:[(0,ze.jsx)("span",{className:"badge bg-secondary me-1",children:"Prompt"}),u.description||"ID ".concat(u.id)," \u2013 ",u.action]}),m&&(0,ze.jsxs)("div",{className:"col-12 col-md-6",children:[(0,ze.jsx)("span",{className:"badge bg-dark me-1",children:"Execution"}),"ID ",m.id,", ",m.execution_date," \u2013 ",m.action]})]}),h&&(0,ze.jsxs)("div",{className:"mt-2",children:[(0,ze.jsx)("span",{className:"badge bg-success me-1",children:"Publications"}),"Total: ",h.total," \u2014 New: ",h.inserted_new," \u2014 Linked existing: ",h.linked_existing]}),i&&(null===h||void 0===h||null===(a=h.items)||void 0===a?void 0:a.length)>0&&(0,ze.jsx)("div",{className:"table-responsive mt-3",children:(0,ze.jsxs)("table",{className:"table table-sm table-bordered",children:[(0,ze.jsx)("thead",{children:(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("th",{children:"#"}),(0,ze.jsx)("th",{children:"Title"}),(0,ze.jsx)("th",{children:"Literature ID"}),(0,ze.jsx)("th",{children:"Action"})]})}),(0,ze.jsx)("tbody",{children:h.items.map(e=>(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{children:e.index}),(0,ze.jsx)("td",{className:"text-break",children:e.title||"\u2014"}),(0,ze.jsx)("td",{children:e.literature_id}),(0,ze.jsx)("td",{children:(0,ze.jsx)("span",{className:"badge ".concat("inserted"===e.action?"bg-success":"bg-info"),children:e.action})})]},e.index))})]})})]})]})}function It(e){let{message:t,fileName:a,createdAt:n}=e;return(0,ze.jsxs)("div",{className:"card mb-3 border-danger",children:[(0,ze.jsxs)("div",{className:"card-header bg-danger bg-opacity-10",children:[(0,ze.jsx)("i",{className:"fas fa-exclamation-circle text-danger me-2"}),(0,ze.jsx)("strong",{children:a}),n&&(0,ze.jsx)("small",{className:"text-muted ms-2",children:new Date(n).toLocaleString()})]}),(0,ze.jsx)("div",{className:"card-body text-danger",children:t})]})}function Dt(e){let{missingData:t,fileName:a,selectedSeedPaperId:n,setSelectedSeedPaperId:r,seedPaperContent:l,setSeedPaperContent:s,seedPaperFile:i,setSeedPaperFile:o,seedPaperFileInputRef:c,selectedPromptId:d,setSelectedPromptId:u,promptContent:m,setPromptContent:h,promptVersion:f,setPromptVersion:p,promptFile:v,setPromptFile:x,promptFileInputRef:g,availableSeedPapers:b,onContinue:y,onCancel:j,loading:N}=e;const{message:_,requires_seed_paper:w,requires_prompt:S,seed_paper_identifier:k,existing_seed_papers:P=[],existing_prompts:T=[],seed_paper_id:E,seed_paper_title:A}=t||{},C=P.length>0?P:b,M=w&&!n&&(i||(null===l||void 0===l?void 0:l.trim())),O=S&&!d&&((null===m||void 0===m?void 0:m.trim())||v),L=null!=m&&""!==m.trim()||v,R=""!==n||null!=l&&""!==l.trim()||i,I=(!w||R)&&(!S||""!==d||L&&null!=f&&""!==f.trim()&&(""!==n||w&&(null===l||void 0===l?void 0:l.trim())));return(0,ze.jsxs)("div",{className:"card mb-3 border-warning",children:[(0,ze.jsxs)("div",{className:"card-header bg-warning bg-opacity-10",children:[(0,ze.jsx)("i",{className:"fas fa-info-circle text-warning me-2"}),(0,ze.jsx)("strong",{children:"Additional data required"}),a&&(0,ze.jsxs)("span",{className:"ms-2 text-muted",children:["\u2014 ",a]})]}),(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsx)("p",{className:"mb-3",children:_}),null!=E&&(0,ze.jsxs)("p",{className:"small text-muted mb-2",children:["Seed paper: ",null!=A?A:"ID ".concat(E)]}),w&&(0,ze.jsxs)("div",{className:"mb-3",children:[(0,ze.jsx)("label",{className:"form-label fw-bold",children:"Seed paper"}),P.length>0&&(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("label",{className:"form-label small text-muted",children:"Choose an existing seed paper"}),(0,ze.jsxs)("select",{className:"form-select mb-2",value:n,onChange:e=>{r(e.target.value),e.target.value&&(s(""),o(null),null!==c&&void 0!==c&&c.current&&(c.current.value=""))},children:[(0,ze.jsx)("option",{value:"",children:"\u2014 Select or add new below \u2014"}),P.map(e=>(0,ze.jsxs)("option",{value:e.id,children:["ID ",e.id,": ",(e.title||e.bibtex_key||"\u2014").substring(0,60),e.bibtex_key?" (".concat(e.bibtex_key,")"):""]},e.id))]})]}),(0,ze.jsx)("label",{className:"form-label small text-muted",children:P.length>0?"Or add a new seed paper (like on Main Dashboard)":"Add a new seed paper (like on Main Dashboard)"}),(0,ze.jsxs)("div",{className:"mb-2",children:[(0,ze.jsxs)("button",{type:"button",className:"btn btn-outline-primary btn-sm me-2",onClick:()=>{var e;return null===c||void 0===c||null===(e=c.current)||void 0===e?void 0:e.click()},disabled:N,children:[(0,ze.jsx)("i",{className:"fas fa-plus me-1"}),"Add new seed paper (BibTeX file)"]}),(0,ze.jsx)("input",{ref:c,type:"file",className:"d-none",accept:".bib",onChange:e=>{var t;const a=null===(t=e.target.files)||void 0===t?void 0:t[0];o(a||null),a&&(r(""),s(""))}}),i&&(0,ze.jsxs)("small",{className:"text-muted d-block mt-1",children:[(0,ze.jsx)("i",{className:"fas fa-file me-1"}),i.name," (",(i.size/1024).toFixed(1)," KB)"]})]}),(0,ze.jsx)("label",{className:"form-label small text-muted",children:"Or paste BibTeX to create a new seed paper"}),(0,ze.jsx)("textarea",{className:"form-control font-monospace small",rows:4,placeholder:"@article{...}",value:l,onChange:e=>{s(e.target.value),e.target.value.trim()&&(r(""),o(null),null!==c&&void 0!==c&&c.current&&(c.current.value=""))},disabled:N}),k&&(0,ze.jsxs)("small",{className:"text-muted",children:["Expected identifier from filename: ",k]})]}),S&&(0,ze.jsxs)("div",{className:"mb-3",children:[(0,ze.jsx)("label",{className:"form-label fw-bold",children:"Prompt"}),T.length>0&&(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("label",{className:"form-label small text-muted",children:"Choose an existing prompt"}),(0,ze.jsxs)("select",{className:"form-select mb-2",value:d,onChange:e=>{u(e.target.value),e.target.value&&(h(""),p(""),x(null),null!==g&&void 0!==g&&g.current&&(g.current.value=""))},children:[(0,ze.jsx)("option",{value:"",children:"\u2014 Select or create new below \u2014"}),T.map(e=>(0,ze.jsxs)("option",{value:e.id,children:["ID ",e.id,": ",(e.content_preview||"\u2014").substring(0,60),e.version?" (".concat(e.version,")"):""]},e.id))]})]}),(0,ze.jsx)("label",{className:"form-label small text-muted mt-2",children:T.length>0?"Or create a new prompt (like on Main Dashboard): select seed paper, set version, then provide content":"Create a new prompt: select seed paper, set version, then provide content"}),!w&&C.length>0&&(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("label",{className:"form-label small text-muted",children:"Seed paper for new prompt"}),(0,ze.jsxs)("select",{className:"form-select mb-2",value:n,onChange:e=>r(e.target.value),disabled:N,children:[(0,ze.jsx)("option",{value:"",children:"\u2014 Select seed paper \u2014"}),C.map(e=>(0,ze.jsxs)("option",{value:e.id,children:["ID ",e.id,": ",(e.title||e.bibtex_key||"\u2014").substring(0,50),e.bibtex_key?" (".concat(e.bibtex_key,")"):""]},e.id))]})]}),w&&(0,ze.jsx)("p",{className:"small text-muted mb-2",children:"Use the seed paper selected above for the new prompt."}),(0,ze.jsx)("label",{className:"form-label small text-muted",children:"Prompt version (required for new prompt)"}),(0,ze.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"e.g. v1",maxLength:50,value:f,onChange:e=>p(e.target.value),disabled:N}),(0,ze.jsx)("label",{className:"form-label small text-muted",children:"Prompt content: paste text or upload a .txt file"}),(0,ze.jsx)("textarea",{className:"form-control mb-2",rows:4,placeholder:"Paste the full prompt text...",value:m,onChange:e=>{h(e.target.value),e.target.value.trim()&&(u(""),x(null),null!==g&&void 0!==g&&g.current&&(g.current.value=""))},disabled:N}),(0,ze.jsx)("input",{ref:g,type:"file",className:"form-control form-control-sm mb-2",accept:".txt",onChange:e=>{var t;const a=null===(t=e.target.files)||void 0===t?void 0:t[0];x(a||null),a&&(u(""),h(""))},disabled:N}),v&&(0,ze.jsxs)("small",{className:"text-muted d-block mb-2",children:[(0,ze.jsx)("i",{className:"fas fa-file me-1"}),v.name," (",(v.size/1024).toFixed(1)," KB) \u2014 will be used as prompt content"]})]}),(0,ze.jsxs)("div",{className:"d-flex gap-2",children:[(0,ze.jsx)("button",{type:"button",className:"btn btn-primary",disabled:!I||N,onClick:y,children:N?(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),M?"Adding seed paper\u2026":O?"Creating prompt\u2026":"Importing\u2026"]}):(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("i",{className:"fas fa-check me-2"}),M||O?"Add to DB":"Continue import"]})}),(0,ze.jsx)("button",{type:"button",className:"btn btn-outline-secondary",disabled:N,onClick:j,children:"Cancel"})]}),(0,ze.jsxs)("p",{className:"small text-muted mt-2 mb-0",children:["You can also add the seed paper via ",(0,ze.jsx)("strong",{children:"Main Dashboard"})," (Upload seed paper) or the prompt via its API, then try importing again with the same file."]})]})]})}function Ft(){const[e,t]=(0,r.useState)(null),[a,n]=(0,r.useState)(!1),[l,s]=(0,r.useState)(null),[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(""),[h,f]=(0,r.useState)(""),[p,v]=(0,r.useState)(""),[x,g]=(0,r.useState)(""),[b,y]=(0,r.useState)(""),[j,N]=(0,r.useState)(null),[_,w]=(0,r.useState)(null),[S,k]=(0,r.useState)([]),P=(0,r.useRef)(null),T=(0,r.useRef)(null),E=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(null===c||void 0===c||!c.requires_prompt)return;const e=c.existing_seed_papers||[];if(e.length>0)return void k(e);let t=!1;return at.getSeedPapers().then(e=>{t||k(Array.isArray(e)?e:[])}).catch(()=>{t||k([])}),()=>{t=!0}},[null===c||void 0===c?void 0:c.requires_prompt,null===c||void 0===c?void 0:c.existing_seed_papers]);const A=()=>{d(null),m(""),f(""),w(null),v(""),g(""),y(""),N(null),k([]),T.current&&(T.current.value=""),E.current&&(E.current.value="")};return(0,ze.jsxs)("div",{className:"container-fluid mt-4",children:[(0,ze.jsx)("div",{className:"row",children:(0,ze.jsxs)("div",{className:"col-12",children:[(0,ze.jsxs)("h2",{className:"mb-4",children:[(0,ze.jsx)("i",{className:"fas fa-file-import me-2"}),"Import execution from file"]}),(0,ze.jsx)("p",{className:"text-muted",children:"Upload a JSON or BibTeX file (list of publications) exported from a manual run. The file name must follow the naming format so the system can extract execution metadata."})]})}),(0,ze.jsx)("div",{className:"row",children:(0,ze.jsx)("div",{className:"col-lg-6",children:(0,ze.jsxs)("div",{className:"card",children:[(0,ze.jsx)("div",{className:"card-header",children:(0,ze.jsxs)("h5",{className:"mb-0",children:[(0,ze.jsx)("i",{className:"fas fa-upload me-2"}),"Upload file"]})}),(0,ze.jsxs)("div",{className:"card-body",children:[(0,ze.jsxs)("div",{className:"mb-3",children:[(0,ze.jsx)("label",{className:"form-label fw-bold",children:"File (JSON or BibTeX)"}),(0,ze.jsx)("input",{ref:P,type:"file",className:"form-control",accept:".json,.bib",onChange:e=>{var a;const n=null===(a=e.target.files)||void 0===a?void 0:a[0];n?(t(n),s(null),d(null)):(t(null),A())}}),e&&(0,ze.jsxs)("div",{className:"mt-2 text-muted small",children:[(0,ze.jsx)("i",{className:"fas fa-file me-1"}),e.name," (",(e.size/1024).toFixed(2)," KB)"]})]}),(0,ze.jsxs)("div",{className:"alert alert-light border small",children:[(0,ze.jsx)("strong",{children:"Filename format:"}),(0,ze.jsxs)("code",{className:"d-block mt-1 mb-1",children:["systemName_seedpaperID_promptID_promptversion_YYMMDD_HHMMSS_comment",".json | .bib"]}),(0,ze.jsx)("span",{className:"text-muted",children:"Example: "}),(0,ze.jsx)("code",{children:"chatgpt.gpt4_test1_prompt1_v3_250729_131049_firstresults.json"}),(0,ze.jsx)("p",{className:"mt-2 mb-0 text-muted",children:"Comment is optional and can be empty. Extensions: .json or .bib"})]}),(0,ze.jsx)("button",{type:"button",className:"btn btn-primary",disabled:!e||a||!!c,onClick:async()=>{if(!e)return void s("Please select a file first.");n(!0),s(null),d(null);const a=e.name,r=(new Date).toISOString();try{const n=await at.importExecutionFromFile(e);if("missing_data"===n.status)return void d(n);if("success"===n.status||n.insertion_report)return o(e=>[{type:"success",fileName:a,createdAt:r,data:n,report:n.insertion_report},...e]),t(null),A(),void(P.current&&(P.current.value=""));s("Unexpected response from server.")}catch(l){const e=(null===l||void 0===l?void 0:l.message)||"Import failed",t=e.match(/Prompt with id (\d+) not found/i);if(t)return d({status:"missing_data",requires_prompt:!0,requires_seed_paper:!1,message:"The file name refers to prompt ID ".concat(t[1]," which is not in the database. Select a seed paper and create the prompt below (version and content), then continue import."),existing_prompts:[],existing_seed_papers:[]}),void s(null);if(e.match(/Seed paper (?:with id )?(\d+ )?not found/i)||e.match(/Seed paper .* not found/i)){const t=e.match(/Seed paper with id (\d+) not found/i),a=t?" (ID ".concat(t[1]," from file name)"):"";return d({status:"missing_data",requires_seed_paper:!0,requires_prompt:!1,message:"The file name refers to a seed paper that is not in the database".concat(a,". Add a new seed paper below (upload BibTeX file or paste), then continue import."),existing_seed_papers:[],existing_prompts:[]}),void s(null)}o(t=>[{type:"error",fileName:a,createdAt:r,message:e},...t]),s(e)}finally{n(!1)}},children:a&&!c?(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Importing\u2026"]}):(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsx)("i",{className:"fas fa-database me-2"}),"Add to DB"]})})]})]})})}),c&&(0,ze.jsx)("div",{className:"row mt-3",children:(0,ze.jsx)("div",{className:"col-12",children:(0,ze.jsx)(Dt,{missingData:c,fileName:null===e||void 0===e?void 0:e.name,selectedSeedPaperId:u,setSelectedSeedPaperId:m,seedPaperContent:h,setSeedPaperContent:f,seedPaperFile:_,setSeedPaperFile:w,seedPaperFileInputRef:E,selectedPromptId:p,setSelectedPromptId:v,promptContent:x,setPromptContent:g,promptVersion:b,setPromptVersion:y,promptFile:j,setPromptFile:N,promptFileInputRef:T,availableSeedPapers:S,onContinue:async()=>{if(!e||!c)return;n(!0),s(null);const a=e.name,r=(new Date).toISOString();let l=(()=>{const e={};return null!==c&&void 0!==c&&c.requires_seed_paper&&(u?e.seed_paper_id=Number(u):null!==h&&void 0!==h&&h.trim()&&(e.seed_paper_content=h.trim())),null!==c&&void 0!==c&&c.requires_prompt&&(p?e.prompt_id=Number(p):(null!==x&&void 0!==x&&x.trim()||j)&&(null!==b&&void 0!==b&&b.trim()&&(e.prompt_version=b.trim()),null!==x&&void 0!==x&&x.trim()&&(e.prompt_content=x.trim()))),e})();try{if(c.requires_seed_paper&&!l.seed_paper_id&&!l.seed_paper_content&&_){var i;const e=await at.addSeedPaper(_),t=null!==(i=null===e||void 0===e?void 0:e.id)&&void 0!==i?i:null===e||void 0===e?void 0:e.seed_paper_id;null!=t&&(l=Re(Re({},l),{},{seed_paper_id:t}))}if(c.requires_prompt&&!l.prompt_id&&(null!==x&&void 0!==x&&x.trim()||j)&&null!==b&&void 0!==b&&b.trim()&&""!==u){let e=j;if(!e&&null!==x&&void 0!==x&&x.trim()&&(e=new File([x.trim()],"prompt.txt",{type:"text/plain"})),e){var m;const t=await at.addPrompt(e,Number(u),b.trim()),a=null!==(m=null===t||void 0===t?void 0:t.id)&&void 0!==m?m:null===t||void 0===t?void 0:t.prompt_id;null!=a&&(l=Re(Re({},l),{},{prompt_id:a}))}}if(l.prompt_version&&j&&!l.prompt_content)try{l.prompt_content=await(e=>new Promise((t,a)=>{const n=new FileReader;n.onload=()=>{var e;return t(null!==(e=n.result)&&void 0!==e?e:"")},n.onerror=()=>a(new Error("Failed to read file")),n.readAsText(e)}))(j)}catch(Jt){return s("Failed to read prompt file as text."),void n(!1)}const h=await at.importExecutionFromFile(e,l);if("missing_data"===h.status)return void d(h);if("success"===h.status||h.insertion_report)return o(e=>[{type:"success",fileName:a,createdAt:r,data:h,report:h.insertion_report},...e]),t(null),A(),void(P.current&&(P.current.value=""));s("Unexpected response from server.")}catch(f){s((null===f||void 0===f?void 0:f.message)||"Import failed")}finally{n(!1)}},onCancel:()=>{A()},loading:a})})}),l&&(0,ze.jsx)("div",{className:"row mt-3",children:(0,ze.jsx)("div",{className:"col-12",children:(0,ze.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[l,(0,ze.jsx)("button",{type:"button",className:"btn-close",onClick:()=>s(null),"aria-label":"Close"})]})})}),(0,ze.jsx)("div",{className:"row mt-4",children:(0,ze.jsxs)("div",{className:"col-12",children:[(0,ze.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,ze.jsxs)("h5",{className:"mb-0",children:[(0,ze.jsx)("i",{className:"fas fa-history me-2"}),"Import attempts"]}),i.length>0&&(0,ze.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>{o([]),s(null)},children:"Clear history"})]}),0===i.length?(0,ze.jsx)("p",{className:"text-muted",children:'No import attempts yet. Upload a file and click "Add to DB".'}):(0,ze.jsx)("div",{children:i.map((e,t)=>"success"===e.type?(0,ze.jsx)(Rt,{report:e.report,fileName:e.fileName,createdAt:e.createdAt},"".concat(e.fileName,"-").concat(e.createdAt,"-").concat(t)):(0,ze.jsx)(It,{message:e.message,fileName:e.fileName,createdAt:e.createdAt},"err-".concat(e.fileName,"-").concat(e.createdAt,"-").concat(t)))})]})})]})}function zt(e){if(null==e||""===e)return!1;const t=String(e).trim();return!!t&&!Number.isNaN(Number(t))}function Ut(e,t){const a=null==e?"":String(e).trim(),n=null==t?"":String(t).trim(),r=zt(a),l=zt(n);return r&&l?Number(a)-Number(n):(a||"").localeCompare(n||"",void 0,{numeric:!0})}function Ht(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const a={};for(const[n,r]of Object.entries(e||{})){const e=t?"".concat(t,".").concat(n):n;null===r||"object"!==typeof r||Array.isArray(r)||r instanceof Date?a[e]=Array.isArray(r)?JSON.stringify(r):r:Object.assign(a,Ht(r,e))}return a}const Bt=[5,10,20,50,100];function Vt(e){let{data:t,loading:a,error:n,emptyMessage:l="No data."}=e;const[s,i]=(0,r.useState)({}),[o,c]=(0,r.useState)(null),[d,u]=(0,r.useState)("asc"),[m,h]=(0,r.useState)(1),[f,p]=(0,r.useState)(20);if((0,r.useEffect)(()=>{if(!t||0===t.length)return;const e=t.map(e=>Ht(e)),a=[...new Set(e.flatMap(e=>Object.keys(e)))].sort(),n=[...e.filter(e=>a.every(t=>{var a;const n=(s[t]||"").trim().toLowerCase();if(!n)return!0;return String(null!==(a=e[t])&&void 0!==a?a:"").toLowerCase().includes(n)}))];o&&a.includes(o)&&n.sort((e,t)=>{const a=Ut(e[o],t[o]);return"asc"===d?a:-a});const r=n.length,l=r>20?Math.max(1,Math.ceil(r/f)):1;r>20&&m>l&&h(1)},[t,s,o,d,f,m]),a)return(0,ze.jsxs)("div",{className:"text-center py-5",children:[(0,ze.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,ze.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,ze.jsx)("p",{className:"mt-3",children:"Loading..."})]});if(n)return(0,ze.jsxs)("div",{className:"alert alert-danger",children:[(0,ze.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),n]});if(!t||0===t.length)return(0,ze.jsxs)("div",{className:"alert alert-info",children:[(0,ze.jsx)("i",{className:"fas fa-info-circle me-2"}),l]});const v=t.map(e=>Ht(e)),x=[...new Set(v.flatMap(e=>Object.keys(e)))].sort(),g=[...v.filter(e=>x.every(t=>{var a;const n=(s[t]||"").trim().toLowerCase();if(!n)return!0;return String(null!==(a=e[t])&&void 0!==a?a:"").toLowerCase().includes(n)}))];o&&x.includes(o)&&g.sort((e,t)=>{const a=Ut(e[o],t[o]);return"asc"===d?a:-a});const b=Object.values(s).some(e=>""!==(e||"").trim()),y=g.length,j=y>20,N=j?Math.max(1,Math.ceil(y/f)):1,_=j?Math.min(Math.max(1,m),N):1,w=(_-1)*f,S=j?g.slice(w,w+f):g,k=w+1,P=Math.min(w+f,y),T=v.length,E=y,A=b&&E!==T;return(0,ze.jsxs)("div",{children:[(0,ze.jsxs)("div",{className:"db-table-metadata mb-3",children:[(0,ze.jsxs)("div",{className:"db-metadata-grid",children:[(0,ze.jsxs)("div",{className:"db-metadata-item",children:[(0,ze.jsxs)("span",{className:"db-metadata-label",children:[(0,ze.jsx)("i",{className:"fas fa-columns me-1","aria-hidden":"true"}),"Features (columns)"]}),(0,ze.jsx)("span",{className:"db-metadata-value",children:x.length})]}),(0,ze.jsxs)("div",{className:"db-metadata-item",children:[(0,ze.jsxs)("span",{className:"db-metadata-label",children:[(0,ze.jsx)("i",{className:"fas fa-list-ol me-1","aria-hidden":"true"}),"Total entries"]}),(0,ze.jsx)("span",{className:"db-metadata-value",children:T.toLocaleString()})]}),A&&(0,ze.jsxs)("div",{className:"db-metadata-item",children:[(0,ze.jsxs)("span",{className:"db-metadata-label",children:[(0,ze.jsx)("i",{className:"fas fa-filter me-1","aria-hidden":"true"}),"After filter"]}),(0,ze.jsx)("span",{className:"db-metadata-value",children:E.toLocaleString()})]}),j&&(0,ze.jsxs)("div",{className:"db-metadata-item",children:[(0,ze.jsxs)("span",{className:"db-metadata-label",children:[(0,ze.jsx)("i",{className:"fas fa-file-alt me-1","aria-hidden":"true"}),"Page size"]}),(0,ze.jsx)("span",{className:"db-metadata-value",children:f})]}),o&&(0,ze.jsxs)("div",{className:"db-metadata-item",children:[(0,ze.jsxs)("span",{className:"db-metadata-label",children:[(0,ze.jsx)("i",{className:"fas fa-sort me-1","aria-hidden":"true"}),"Sorted by"]}),(0,ze.jsxs)("span",{className:"db-metadata-value",children:[o," (",d,")"]})]})]}),(0,ze.jsxs)("details",{className:"db-metadata-columns mt-2",children:[(0,ze.jsx)("summary",{className:"db-metadata-columns-summary",children:"Column names"}),(0,ze.jsx)("div",{className:"db-metadata-columns-list",children:x.join(", ")})]})]}),(b||j)&&(0,ze.jsxs)("div",{className:"d-flex flex-wrap align-items-center gap-3 mb-2",children:[b&&(0,ze.jsxs)(ze.Fragment,{children:[(0,ze.jsxs)("span",{className:"text-muted small",children:["Showing ",y," of ",v.length," rows"]}),(0,ze.jsxs)("button",{type:"button",className:"btn btn-sm btn-outline-secondary",onClick:()=>i({}),children:[(0,ze.jsx)("i",{className:"fas fa-times me-1"})," Clear filters"]})]}),j&&(0,ze.jsxs)("div",{className:"d-flex align-items-center gap-2 ms-auto",children:[(0,ze.jsxs)("label",{className:"text-muted small mb-0 d-flex align-items-center gap-1",children:["Rows per page:",(0,ze.jsx)("select",{className:"form-select form-select-sm db-page-size-select",value:f,onChange:e=>{return t=Number(e.target.value),p(t),void h(1);var t},"aria-label":"Rows per page",children:Bt.map(e=>(0,ze.jsx)("option",{value:e,children:e},e))})]}),(0,ze.jsxs)("span",{className:"text-muted small",children:[k,"\u2013",P," of ",y]})]})]}),(0,ze.jsx)("div",{className:"table-responsive",children:(0,ze.jsxs)("table",{className:"table table-striped table-hover table-bordered",children:[(0,ze.jsxs)("thead",{className:"table-light",children:[(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("th",{className:"db-col-row-num",children:"#"}),x.map(e=>(0,ze.jsx)("th",{className:"db-sortable-header",children:(0,ze.jsxs)("button",{type:"button",className:"db-sort-btn",onClick:()=>(e=>{o===e?u(e=>"asc"===e?"desc":"asc"):(c(e),u("asc"))})(e),title:"Sort by ".concat(e),"aria-label":"Sort by ".concat(e).concat(o===e?" (".concat(d,")"):""),children:[(0,ze.jsx)("span",{className:"db-sort-label",children:e}),(0,ze.jsx)("span",{className:"db-sort-icon ms-1",children:o===e?"asc"===d?(0,ze.jsx)("i",{className:"fas fa-sort-up","aria-hidden":"true"}):(0,ze.jsx)("i",{className:"fas fa-sort-down","aria-hidden":"true"}):(0,ze.jsx)("i",{className:"fas fa-sort text-muted","aria-hidden":"true"})})]})},e))]}),(0,ze.jsxs)("tr",{className:"db-filter-row",children:[(0,ze.jsx)("th",{className:"db-col-row-num bg-light"}),x.map(e=>(0,ze.jsx)("th",{className:"p-1 bg-light",children:(0,ze.jsx)("input",{type:"text",className:"form-control form-control-sm db-column-filter",placeholder:"Filter...",value:s[e]||"",onChange:t=>((e,t)=>{i(a=>Re(Re({},a),{},{[e]:t}))})(e,t.target.value),"aria-label":"Filter by ".concat(e)})},e))]})]}),(0,ze.jsx)("tbody",{children:S.map((e,t)=>(0,ze.jsxs)("tr",{children:[(0,ze.jsx)("td",{className:"db-col-row-num text-muted",children:k+t}),x.map(t=>(0,ze.jsx)("td",{className:"db-cell",children:null==e[t]?"\u2014":String(e[t])},t))]},w+t))})]})}),j&&N>1&&(0,ze.jsxs)("nav",{className:"d-flex justify-content-between align-items-center mt-2 flex-wrap gap-2","aria-label":"Table pagination",children:[(0,ze.jsx)("div",{children:(0,ze.jsxs)("span",{className:"text-muted small",children:["Page ",_," of ",N]})}),(0,ze.jsxs)("ul",{className:"pagination pagination-sm mb-0",children:[(0,ze.jsx)("li",{className:"page-item ".concat(_<=1?"disabled":""),children:(0,ze.jsx)("button",{type:"button",className:"page-link",onClick:()=>h(e=>Math.max(1,e-1)),disabled:_<=1,"aria-label":"Previous page",children:(0,ze.jsx)("i",{className:"fas fa-chevron-left"})})}),(()=>{const e=[];if(N<=5)for(let t=1;t<=N;t++)e.push(t);else{e.push(1);let t=Math.max(2,_-1),a=Math.min(N-1,_+1);_<=2&&(a=Math.min(4,N-1)),_>=N-1&&(t=Math.max(2,N-3)),t>2&&e.push("\u2026");for(let n=t;n<=a;n++)n>=2&&n<=N-1&&e.push(n);a<N-1&&e.push("\u2026"),N>1&&e.push(N)}return e})().map((e,t)=>"\u2026"===e?(0,ze.jsx)("li",{className:"page-item disabled",children:(0,ze.jsx)("span",{className:"page-link",children:"\u2026"})},"ellipsis-".concat(t)):(0,ze.jsx)("li",{className:"page-item ".concat(e===_?"active":""),children:(0,ze.jsx)("button",{type:"button",className:"page-link",onClick:()=>h(e),"aria-label":"Page ".concat(e),"aria-current":e===_?"page":void 0,children:e})},e)),(0,ze.jsx)("li",{className:"page-item ".concat(_>=N?"disabled":""),children:(0,ze.jsx)("button",{type:"button",className:"page-link",onClick:()=>h(e=>Math.min(N,e+1)),disabled:_>=N,"aria-label":"Next page",children:(0,ze.jsx)("i",{className:"fas fa-chevron-right"})})})]})]}),0===g.length&&b&&(0,ze.jsx)("div",{className:"alert alert-warning mb-0 mt-2",children:"No rows match the current filters. Try clearing or changing the filter values."})]})}const qt=[{id:"seed-papers",label:"Seed Papers",icon:"fa-file-alt",fetch:()=>at.getSeedPapers()},{id:"prompts",label:"Prompts",icon:"fa-comment-alt",fetch:()=>at.getPrompts()},{id:"llm-systems",label:"LLM Systems",icon:"fa-cogs",fetch:()=>at.getLLMSystems()},{id:"executions",label:"Executions",icon:"fa-play",fetch:()=>at.getExecutions()},{id:"literature",label:"Literature",icon:"fa-book",fetch:()=>at.getLiterature()}];const Yt=function(){const[e,t]=(0,r.useState)("seed-papers"),[a,n]=(0,r.useState)(null),[l,s]=(0,r.useState)(!0),[i,o]=(0,r.useState)(null),c=qt.find(t=>t.id===e);return(0,r.useEffect)(()=>{const t=qt.find(t=>t.id===e);if(!t)return;let a=!1;return s(!0),o(null),t.fetch().then(e=>{if(a)return;const t=Array.isArray(e)?e:e.executions||e.data||e.items||e.llm_systems||[];n(Array.isArray(t)?t:[])}).catch(e=>{a||o(e.message)}).finally(()=>{a||s(!1)}),()=>{a=!0}},[e]),(0,ze.jsxs)("div",{className:"container-fluid mt-4 database-view",children:[(0,ze.jsxs)("h2",{className:"mb-4",children:[(0,ze.jsx)("i",{className:"fas fa-database me-2"}),"Database Tables"]}),(0,ze.jsx)("p",{className:"text-muted mb-4",children:"View all data stored in the application database. Switch sub-tabs to see different tables."}),(0,ze.jsx)("ul",{className:"nav nav-tabs mb-3",children:qt.map(a=>(0,ze.jsx)("li",{className:"nav-item",children:(0,ze.jsxs)("button",{type:"button",className:"nav-link ".concat(e===a.id?"active":""),onClick:()=>t(a.id),children:[(0,ze.jsx)("i",{className:"fas ".concat(a.icon," me-1")}),a.label]})},a.id))}),(0,ze.jsx)("div",{className:"tab-content border border-top-0 rounded-bottom p-3 bg-white",children:(0,ze.jsx)(Vt,{data:a,loading:l,error:i,emptyMessage:"No records in ".concat((null===c||void 0===c?void 0:c.label)||e,".")})})]})};const Wt=function(){return(0,ze.jsx)("footer",{className:"bg-primary text-white mt-5 py-4",children:(0,ze.jsx)("div",{className:"container-fluid",children:(0,ze.jsx)("div",{className:"row",children:(0,ze.jsxs)("div",{className:"col-md-12 text-center",children:[(0,ze.jsxs)("p",{className:"mb-2",children:["\xa9 ",(new Date).getFullYear()," Johannes Kepler University Linz"]}),(0,ze.jsxs)("div",{className:"d-flex justify-content-center align-items-center gap-3 flex-wrap",children:[(0,ze.jsxs)("a",{href:"https://se.jku.at/",target:"_blank",rel:"noopener noreferrer",className:"text-white text-decoration-none",style:{textDecoration:"underline"},children:[(0,ze.jsx)("i",{className:"fas fa-link me-1"}),"Department of Business Informatics \u2013 Software Engineering"]}),(0,ze.jsx)("span",{className:"text-white",children:"|"}),(0,ze.jsxs)("a",{href:"http://ifi.jku.at/",target:"_blank",rel:"noopener noreferrer",className:"text-white text-decoration-none",style:{textDecoration:"underline"},children:[(0,ze.jsx)("i",{className:"fas fa-link me-1"}),"Institute of Innovation Management"]})]})]})})})})};function $t(e){let{onStatus:t,onProgress:a,onResults:n,onFailed:l,onPollError:s}=e;const i=(0,r.useRef)(null);return(0,r.useCallback)(e=>{const r=Date.now(),o=async()=>{try{const r=await at.getExecutionStatus(e);if(t(r),(e=>{a(t=>{const a=Re(Re({},t),{},{stage:e.current_stage||t.stage,lastUpdate:(new Date).toISOString()});var n,r,l,s;return e.llm_response&&(e.llm_response.publications?a.llmPublications=e.llm_response.publications:(Array.isArray(e.llm_response),a.llmPublications=e.llm_response)),e.verification_progress&&(a.verificationProgress={completed:null!==(n=e.verification_progress.completed)&&void 0!==n?n:0,total:null!==(r=e.verification_progress.total)&&void 0!==r?r:0},e.verification_progress.results&&(a.verificationResults=e.verification_progress.results)),e.comparison_progress&&(a.comparisonProgress={completed:null!==(l=e.comparison_progress.completed)&&void 0!==l?l:0,total:null!==(s=e.comparison_progress.total)&&void 0!==s?s:0},e.comparison_progress.results&&(a.comparisonResults=e.comparison_progress.results)),a})})(r),r.status===Ie.COMPLETED){const t=await at.getExecutionResults(e);return n(t),a(e=>Re(Re({},e),{},{stage:"completed"})),!0}if(r.status===Ie.FAILED)return l(r.error||"Unknown error"),!0}catch(o){var i;const e=(null!==(i=null===o||void 0===o?void 0:o.message)&&void 0!==i?i:"").toLowerCase(),t=e.includes("execution not found")||e.includes("status: 404"),a=Date.now()-r<3e4;return(!t||!a)&&(s(o),!0)}return!1},c=async()=>{await o()||(i.current=setTimeout(c,2e3))};return i.current=setTimeout(c,800),()=>{i.current&&(clearTimeout(i.current),i.current=null)}},[t,a,n,l,s])}function Qt(){const e=X(),t=()=>{const e=document.getElementById("navbarNav");if(e&&e.classList.contains("show")){new window.bootstrap.Collapse(e,{toggle:!1}).hide()}};return(0,ze.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary",children:(0,ze.jsxs)("div",{className:"container-fluid",children:[(0,ze.jsxs)(Te,{className:"navbar-brand",to:"/",children:[(0,ze.jsx)("i",{className:"fas fa-search"})," Literature Search Auto Validation"]}),(0,ze.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,ze.jsx)("span",{className:"navbar-toggler-icon"})}),(0,ze.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:(0,ze.jsxs)("div",{className:"navbar-nav ms-auto",children:[(0,ze.jsx)(Te,{className:"nav-link ".concat("/"===e.pathname?"active":""),to:"/",onClick:t,children:"Main Dashboard"}),(0,ze.jsx)(Te,{className:"nav-link ".concat("/reference-comparer"===e.pathname?"active":""),to:"/reference-comparer",onClick:t,children:"Reference Comparer"}),(0,ze.jsx)(Te,{className:"nav-link ".concat("/publication-verifier"===e.pathname?"active":""),to:"/publication-verifier",onClick:t,children:"Publication Verifier"}),(0,ze.jsxs)(Te,{className:"nav-link ".concat("/evaluation-metrics"===e.pathname?"active":""),to:"/evaluation-metrics",onClick:t,children:[(0,ze.jsx)("i",{className:"fas fa-chart-line"})," Metrics"]}),(0,ze.jsxs)(Te,{className:"nav-link ".concat("/import-execution"===e.pathname?"active":""),to:"/import-execution",onClick:t,children:[(0,ze.jsx)("i",{className:"fas fa-file-import"})," Import Execution"]}),(0,ze.jsxs)(Te,{className:"nav-link ".concat("/database"===e.pathname?"active":""),to:"/database",onClick:t,children:[(0,ze.jsx)("i",{className:"fas fa-database"})," Database"]}),(0,ze.jsxs)("a",{className:"nav-link",href:"/api/docs",target:"_blank",rel:"noopener noreferrer",onClick:t,children:[(0,ze.jsx)("i",{className:"fas fa-book"})," API Docs"]})]})})]})})}function Gt(){const[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)([]),[l,s]=(0,r.useState)({chatgpt_models:[],gemini_models:[]}),[i,o]=(0,r.useState)([]),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(null),[h,f]=(0,r.useState)(De.CHATGPT),[p,v]=(0,r.useState)(""),[x,g]=(0,r.useState)(""),[b,y]=(0,r.useState)(""),[j,N]=(0,r.useState)(null),[_,w]=(0,r.useState)(null),[S,k]=(0,r.useState)(null),[P,T]=(0,r.useState)({type:null,isOpen:!1}),[E,A]=(0,r.useState)(!1),[C,M]=(0,r.useState)(null),[O,L]=(0,r.useState)({stage:null,llmPublications:null,verificationResults:[],verificationProgress:{completed:0,total:0},comparisonResults:[],comparisonProgress:{completed:0,total:0},lastUpdate:null}),R=(0,r.useRef)(null),I=$t({onStatus:w,onProgress:L,onResults:e=>k(e),onFailed:e=>M("Workflow execution failed: "+e),onPollError:()=>M("Failed to poll execution status")});(0,r.useEffect)(()=>{D()},[]),(0,r.useEffect)(()=>{c?(F(c.id),m(null)):(o([]),m(null))},[c]),(0,r.useEffect)(()=>{if(l){const e=h===De.CHATGPT?l.chatgpt_models:l.gemini_models;e.length>0&&!e.includes(p)&&v(e[0])}},[h,l,p]);const D=async()=>{try{A(!0);const[e,a,r]=await Promise.all([at.getSeedPapers(),at.getPrompts(),at.getLLMModels()]);t(e),n(a),s(r)}catch(C){M("Failed to load initial data: "+C.message)}finally{A(!1)}},F=async e=>{try{const t=await at.getGroundTruthReferences(e);o(t)}catch(C){o([])}};(0,r.useEffect)(()=>()=>{R.current&&R.current()},[]);return(0,ze.jsxs)("div",{className:"container-fluid mt-4",children:[C&&(0,ze.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[C,(0,ze.jsx)("button",{type:"button",className:"btn-close",onClick:()=>M(null)})]}),(0,ze.jsxs)("div",{className:"row",children:[(0,ze.jsx)("div",{className:"col-md-4",children:(0,ze.jsx)(Ue,{email:x,setEmail:g,comment:b,setComment:y,seedPapers:e,selectedSeedPaper:c,setSelectedSeedPaper:d,groundTruthReferences:i,prompts:a,selectedPrompt:u,setSelectedPrompt:m,llmModels:l,selectedLlmProvider:h,setSelectedLlmProvider:f,selectedLlmModel:p,setSelectedLlmModel:v,onExecuteWorkflow:async()=>{if(x&&c&&u&&p)try{A(!0),M(null);const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Re(Re({},Fe),e)}({email:x,prompt_id:u.id,seed_paper_id:c.id,llm_provider:h,model_name:p,comment:b||null}),t=await at.executeWorkflow(e);if(!t||!t.execution_id)throw new Error("Backend did not return execution_id");N(t.execution_id),w(t),R.current&&R.current(),R.current=I(t.execution_id)}catch(C){C.message&&C.message.includes("Gateway timeout")?M("Gateway Timeout: The workflow execution is taking longer than expected. This is a backend/infrastructure issue. Please check: 1) Increase nginx proxy_read_timeout for /api/workflow/execute, 2) Make the backend execute workflow asynchronously (return execution_id immediately)"):C.message&&C.message.includes("timed out")?M("Request Timeout: The workflow is taking too long. The backend should return execution_id immediately and process asynchronously. Error: "+C.message):M("Failed to execute workflow: "+C.message)}finally{A(!1)}else M("Please fill in all required fields")},isExecuteButtonEnabled:x&&c&&u&&p&&!E,onOpenModal:e=>T({type:e,isOpen:!0}),loading:E})}),(0,ze.jsxs)("div",{className:"col-md-8",children:[_&&(0,ze.jsx)(Be,{executionStatus:_,executionId:j,workflowProgress:O}),S&&(0,ze.jsx)(Ge,{results:S,workflowProgress:O,onExportResults:async e=>{if(j)try{const t=await at.exportResults(j,e);ut(new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),"workflow-results-".concat(j,".").concat(e))}catch(C){M("Failed to export results: "+C.message)}}})]})]}),(0,ze.jsx)(Xe,{show:P.isOpen,type:P.type,onClose:()=>T({type:null,isOpen:!1}),onUpload:async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{switch(A(!0),e){case"seed-paper":await at.addSeedPaper(t),await D();break;case"ground-truth":if(!c)throw new Error("Please select a seed paper first");await at.addGroundTruthReferences(c.id,t),await F(c.id);break;case"prompt":if(!c)throw new Error("Please select a seed paper first");await at.addPrompt(t,c.id,a.version),await D();break;default:throw new Error("Unknown file type")}T({type:null,isOpen:!1})}catch(C){M("Failed to upload ".concat(e,": ")+C.message)}finally{A(!1)}},loading:E}),E&&(0,ze.jsx)("div",{className:"modal fade show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,ze.jsx)("div",{className:"modal-dialog modal-sm",children:(0,ze.jsx)("div",{className:"modal-content",children:(0,ze.jsxs)("div",{className:"modal-body text-center",children:[(0,ze.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,ze.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,ze.jsx)("div",{className:"mt-2",children:"Processing..."})]})})})})]})}const Kt=function(){return(0,ze.jsx)(Se,{children:(0,ze.jsxs)("div",{className:"App",children:[(0,ze.jsx)(Qt,{}),(0,ze.jsx)("main",{children:(0,ze.jsxs)(xe,{children:[(0,ze.jsx)(pe,{path:"/",element:(0,ze.jsx)(Gt,{})}),(0,ze.jsx)(pe,{path:"/publication-verifier",element:(0,ze.jsx)(mt,{})}),(0,ze.jsx)(pe,{path:"/reference-comparer",element:(0,ze.jsx)(Nt,{})}),(0,ze.jsx)(pe,{path:"/evaluation-metrics",element:(0,ze.jsx)(Lt,{})}),(0,ze.jsx)(pe,{path:"/import-execution",element:(0,ze.jsx)(Ft,{})}),(0,ze.jsx)(pe,{path:"/database",element:(0,ze.jsx)(Yt,{})})]})}),(0,ze.jsx)(Wt,{})]})})};s.createRoot(document.getElementById("root")).render((0,ze.jsx)(r.StrictMode,{children:(0,ze.jsx)(Kt,{})}))})();
//# sourceMappingURL=main.8aafa350.js.map